(this.webpackJsonpgraxreact=this.webpackJsonpgraxreact||[]).push([[3],{113:function(e,t,a){"use strict";(function(e){var n,r=a(36),l=a(43),s=a(44),i=a(45),o=a(0),c=a.n(o),u=a(74),d=a(73),m=a(84),f=a(75),E=a(149),b=(a(159),a(160),a(20)),v=a(146),p=a(60),g=a(6),h=Object(o.lazy)((function(){return Promise.all([a.e(1),a.e(14)]).then(a.bind(null,251))})),O=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(8)]).then(a.bind(null,254))})),_=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(7)]).then(a.bind(null,256))})),N=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(11)]).then(a.bind(null,257))})),y=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(6)]).then(a.bind(null,253))})),C=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(10)]).then(a.bind(null,252))}));n=null!=window.__grax__&&null!=window.__grax__.appName?window.__grax__.appname:window.location.pathname.split("/").pop()||"cloud",e&&Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets",REACT_APP_BASIC_TOKEN:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",REACT_APP_ORGID:"00D6g000006wAo3EAE",REACT_APP_BASE_URL:""})&&!window.__grax__&&(window.__grax__={orgid:Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets",REACT_APP_BASIC_TOKEN:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",REACT_APP_ORGID:"00D6g000006wAo3EAE",REACT_APP_BASE_URL:""}).REACT_APP_SFDCORGID,pageParams:{authorization:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy"}});var j={summarycharts:"summary-charts",delete:"datalake-delete",timemachine:"grax-object-time-machine",logging:"grax-logs"},S=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={isLoading:!0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("summarycharts"===n){var t=document.createElement("script");t.src="https://www.gstatic.com/charts/loader.js",t.async=!0,t.onload=function(){e.setState({isLoading:!1})},document.body.appendChild(t)}else this.setState({isLoading:!1})}},{key:"render",value:function(){return this.state.isLoading?c.a.createElement(u.a,{size:"large",variant:"brand"}):c.a.createElement(c.a.Fragment,null,b.j&&c.a.createElement("style",null,"\n                    html, body {\n                        height: 100%;\n                        overflow: auto;\n                        -webkit-overflow-scrolling: touch;\n                    }\n                "),c.a.createElement("div",{className:b.k?"slds-tabs_scoped__content":""},null!=j[n]?c.a.createElement("div",{"aria-hidden":"false",id:"GRAXHelpLink",style:{position:"absolute",right:"1.5rem",top:"0.75rem"}},c.a.createElement("h3",null,c.a.createElement("a",{href:"https://documentation.grax.io/docs/".concat(j[n]),rel:"noopener noreferrer",target:"_blank"},"GRAX Help"))):null,c.a.createElement(d.a,{iconPath:g.a},c.a.createElement(o.Suspense,{fallback:c.a.createElement(u.a,{size:"large",variant:"brand"})},("restore"===n||"mapping"===n)&&c.a.createElement(h,{variant:b.k?"default":"scoped",appName:n}),"logging"===n&&c.a.createElement(m.a,{variant:b.k?"default":"scoped",id:"grax-logging-tabs"},c.a.createElement(f.a,{label:"Error Logs"},c.a.createElement(O,{columns:["CreatedDate","source","info","error","stack","description"]})),c.a.createElement(f.a,{label:"Restore Logs"},c.a.createElement(O,{subtype:"restore",columns:["CreatedDate","objecttype","sourceId","destinationId","status","error","description"]}))),"timemachine"===n&&c.a.createElement(m.a,{variant:b.k?"default":"scoped",id:"grax-history-tabs"},c.a.createElement(f.a,{label:"History"},c.a.createElement(_,null))),"delete"===n&&c.a.createElement(m.a,{variant:b.k?"default":"scoped",id:"grax-delete-tabs"},c.a.createElement(f.a,{label:"Delete"},c.a.createElement(N,null))),"audit"===n&&c.a.createElement(y,{columns:["LastModifiedDate","ObjectType","ObjectVersion"]}),"summarycharts"===n&&c.a.createElement(C,{variant:b.k?"default":"scoped"}),c.a.createElement(E.a,{initialEntries:Object(p.b)(n)},c.a.createElement(p.a,{routes:v.a}))))))}}]),a}(c.a.Component);t.a=S}).call(this,a(86))},145:function(e){e.exports=JSON.parse('{"storage":[{"jsonName":"provider","displayName":"Provider"},{"jsonName":"bucket","displayName":"Bucket Name"},{"jsonName":"region","displayName":"Region"},{"jsonName":"s3CompatibleEndpoint","displayName":"Endpoint"},{"jsonName":"storageAccountName","displayName":"Storage Account Name"},{"jsonName":"containerName","displayName":"Container Name"},{"jsonName":"googleBucketName","displayName":"Google Bucket Name"}],"elastic":[{"jsonName":"name","displayName":"Connection Name"},{"jsonName":"provider","displayName":"Provider"}],"salesforce":[{"jsonName":"name","displayName":"Connection Name"},{"jsonName":"userName","displayName":"Username"},{"jsonName":"url","displayName":"URL"},{"jsonName":"organizationId","displayName":"Organization ID"}]}')},146:function(e,t,a){"use strict";var n=a(3),r=a(0),l=a.n(r),s=a(272),i=a(274),o=a(273),c=a(265),u=a(15),d=a(266),m=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{variant:"list"},l.a.createElement(u.a,{label:"Create Scenario",onClick:e})))},f=a(11),E=a(118),b=a(70),v=a(120),p=function(e){e.children;var t=e.onRowAction,a=Object(f.a)(e,["children","onRowAction"]),n=[];return"SUCCESS"!==a.item.job_status&&n.push({value:1,label:"Run"}),n.push({value:2,label:"Clone"},{value:3,label:"Edit"},{value:4,label:"Delete"}),l.a.createElement(E.a,a,l.a.createElement(b.a,{align:"right",iconCategory:"utility",iconName:"down",iconVariant:"border-filled",onSelect:function(e){return t(a.item.id,e)},buttonClassName:"slds-button_icon-small",options:n}))},g=function(e){e.children;var t=Object(f.a)(e,["children"]);return l.a.createElement(E.a,t,"SUCCESS"===t.item.job_status?l.a.createElement("a",{href:function(e){return e.preventDefault()},onClick:function(){return t.viewDuplicates(t.item.id)}},"View Duplicates"):"View Duplicates")},h=function(e){e.children;var t=Object(f.a)(e,["children"]),a="";return null!==t.item.groups_count&&null!==t.item.records_affected&&(a="".concat(t.item.groups_count," of ").concat(t.item.records_affected)),l.a.createElement(E.a,t,a)},O=function(e){var t=e.children,a=Object(f.a)(e,["children"]);return l.a.createElement(E.a,a,l.a.createElement("a",{href:function(e){return e.preventDefault()},onClick:function(){return a.viewScenario(a.item.id)}},t))},_=function(e){e.children;var t=Object(f.a)(e,["children"]).item.fields,a=t.length,n="";return a>0&&(n=t.slice(0,2).map((function(e){return e.split(".")[1]})).join(", "),a>2&&(n+=" +".concat(a-2))),l.a.createElement(E.a,null,n)},N=function(e){var t=e.children,a=Object(f.a)(e,["children"]);return l.a.createElement(E.a,a,t?"Yes":"No")};O.displayName=E.a.displayName,h.displayName=E.a.displayName,p.displayName=E.a.displayName,g.displayName=E.a.displayName,_.displayName=E.a.displayName,N.displayName=E.a.displayName;var y=[l.a.createElement(v.a,{key:"scenario-name",property:"name",label:"Name"},l.a.createElement(O,null)),l.a.createElement(v.a,{key:"object-name",property:"object_name",label:"Object Name"}),l.a.createElement(v.a,{key:"fields",property:"fields",label:"Fields"},l.a.createElement(_,null)),l.a.createElement(v.a,{key:"merge-actions",property:"scenario_action",label:"Merge Action"}),l.a.createElement(v.a,{key:"fields",property:"is_active",label:"Is Active"},l.a.createElement(N,null)),l.a.createElement(v.a,{key:"duplicate-counts",label:"Duplicate Counts"},l.a.createElement(h,null)),l.a.createElement(v.a,{key:"view-results",property:"job_status"},l.a.createElement(g,null)),l.a.createElement(v.a,{key:"row-actions",property:"job_status",label:""},l.a.createElement(p,null))],C=a(149),j=a(6),S=a(81),A=a.n(S),T=a(121),I=a(5),R=a(122),k=a.n(R).a.create(),D=function(){return Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets",REACT_APP_BASIC_TOKEN:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",REACT_APP_ORGID:"00D6g000006wAo3EAE",REACT_APP_BASE_URL:""}).REACT_APP_SFDCORGID&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets",REACT_APP_BASIC_TOKEN:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",REACT_APP_ORGID:"00D6g000006wAo3EAE",REACT_APP_BASE_URL:""}).REACT_APP_SFDCORGID?{sfdcorgid:Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets",REACT_APP_BASIC_TOKEN:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",REACT_APP_ORGID:"00D6g000006wAo3EAE",REACT_APP_BASE_URL:""}).REACT_APP_SFDCORGID,authorization:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy"}:{token:window.__grax__.token,sfdcorgid:window.__grax__.orgid,authorization:(window.__grax__.pageParams||{}).authorization}};k.interceptors.request.use((function(e){var t=D(),a=t.sfdcorgid,n=t.authorization,r=t.token,l=Object(I.a)({},e);return l.headers.sfdcorgid=a,l.withCredentials=!0,null!=n&&""!==n?l.headers.Authorization="Basic ".concat(n):r&&""!==r&&(l.headers.Authorization="Bearer ".concat(r)),l}));var w=k,x=a(36),P=a(44),B=a(45),M=a(148),z=function(e){Object(P.a)(a,e);var t=Object(B.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return a}(Object(M.a)(Error)),F={isLoading:null,error:null,data:null,success:null,status:null},U=function(e,t){var a=t.type,n=t.payload;switch(a){case"FETCH_IS_LOADING":return!0===n.isLoading?Object(I.a)({},F,{isLoading:!0}):Object(I.a)({},e,{isLoading:!1});case"FETCH_SET_DATA":return Object(I.a)({},e,{data:n.data,error:null,success:!0,isLoading:!1});case"FETCH_THROW_ERROR":var r,l=n.error.response,s=void 0===l?{}:l;return r=s.status>=500?"Internal Server Error":s.data||s.statusText,Object(I.a)({},e,{data:null,success:!1,isLoading:!1,error:r});default:throw new z}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Object(r.useState)(t),s=Object(n.a)(l,2),i=s[0],o=s[1],c=Object(r.useReducer)(U,Object(I.a)({},F,{},a)),u=Object(n.a)(c,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){void 0!==i.url&&(m({type:"FETCH_IS_LOADING",payload:{isLoading:!0}}),Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(i);case 3:t=e.sent,m({type:"FETCH_SET_DATA",payload:{data:t.data}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m({type:"FETCH_THROW_ERROR",payload:{error:e.t0}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))())}),[i]),[d,o]},L=function(){var e=V(),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e){return r({url:"".concat(j.s,"/").concat(e),method:"POST"})}]},G=function(){var e=V(),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e){return r({url:"".concat(j.s,"/").concat(e),method:"DELETE",params:{sfdcorgid:""}})}]},q=function(){var e=V(null,{data:{data:[]}}),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e){return r({url:"".concat(j.s,"/").concat(e,"/run"),params:{sfdcorgid:""},method:"POST"})}]},K=Object(r.createContext)(),H=function(){var e=function(){var e=V(null,{data:{data:[]}}),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(){return r({url:j.s,params:{sfdcorgid:""}})}]}(),t=Object(n.a)(e,2),a=t[0],l=t[1],s=G(),i=Object(n.a)(s,2),o=i[0],c=i[1],u=q(),d=Object(n.a)(u,2),m=d[0],f=d[1],E=L(),b=Object(n.a)(E,2),v=b[0],p=b[1],g=Object(C.c)(),h=Object(r.useContext)(K).openToast;Object(r.useEffect)(l,[]),Object(r.useEffect)((function(){null!==v.data&&v.data.data.id?h({heading:["Scenario Cloned"]}):null!==o.status&&200===o.status?(h({heading:["Scenario Deleted"]}),l()):null!==m.data&&"success"===m.data.status&&(h({heading:["Scenario is Running"]}),l())}),[v.data,o.data,m.data]);var O=function(e){return g.push("".concat(j.c,"/scenarios/").concat(e))},_=function(e){return g.push("".concat(j.c,"/duplicates/").concat(e))};return[a,{createScenario:function(){return g.push("".concat(j.c,"/scenarios/new"))},viewScenario:O,viewDuplicates:_,onRowAction:function(e,t){switch(t.value){case 1:f(e);break;case 5:_(e);break;case 2:p(e);break;case 3:O(e);break;case 4:c(e)}}}]},W=function(){var e=H(),t=Object(n.a)(e,2),a=t[0],r=t[1],c=r.onRowAction,u=r.createScenario,d=r.viewScenario,f=r.viewDuplicates;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"slds-m-bottom_large",title:"Scenarios",variant:"object-home",onRenderActions:m.bind(null,u),trail:[l.a.createElement("a",{href:"javascript:void(0);"},"Dedup")]}),l.a.createElement(i.a,{style:{flexGrow:1},heading:"All Scenarios"},l.a.createElement(o.a,{items:a.data.data,noRowHover:!0,viewScenario:d,viewDuplicates:f,onRowAction:c},y)))};W.displayName="DedupScenarios";var Y=W,Z=a(267),Q=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],l=t[1],s=V(),i=Object(n.a)(s,2),o=i[0],c=i[1];return Object(r.useEffect)((function(){if(null!==o.data){var e=[],t=o.data;for(var a in t)if(1===a.split(".").length&&!1===a.startsWith("grax")){var n=t[a];e.push({label:a,value:"doc.".concat(a),dataType:n})}l(e)}}),[o.data]),[a,function(e){""!==e?c({url:"".concat(j.j,"/getDataTypeFields/").concat(e,"?action=load"),params:{sfdcorgid:""}}):l([])}]},J={isEditMode:!1,objectIndex:"",formState:{filterCriteria:[],matchCriteria:[{}],sfdcorgid:"",name:"",description:"",object_name:"",is_active:!0,scenario_action:"MANUAL_MERGE",fields:[],results_table_fields:[],records_affected:null,groups_count:null},editMode:{}},X=function(e,t){switch(t.type){case"SCENARIO_LOAD":var a=t.payload;return Object(I.a)({},e,{isEditMode:t.payload.isEditMode,formState:{matchCriteria:a.matchCriteria,filterCriteria:t.payload.filterCriteria,name:a.name,description:a.description,object_name:a.object_name,results_table_fields:a.results_table_fields,fields:a.fields,is_active:a.is_active,scenario_action:a.scenario_action}});case"SCENARIO_SET_MATCH_CRITERIA":case"SCENARIO_SET_FILTER_CRITERIA":case"SCENARIO_SET_NAME":case"SCENARIO_SET_DESCRIPTION":case"SCENARIO_SET_IS_ACTIVE":case"SCENARIO_SET_SCENARIO_ACTION":var n=t.payload,r=Object(I.a)({},e,{formState:Object(I.a)({},e.formState,{},n)});return!0===e.isEditMode&&(r=Object(I.a)({},r,{editMode:Object(I.a)({},e.editMode,{},n)})),r;case"SCENARIO_SET_RESULTS_TABLE_FIELDS":var l=t.payload.fields.map((function(e){return e.value})),s=Object(I.a)({},e,{formState:Object(I.a)({},e.formState,{results_table_fields:l})});return!0===e.isEditMode&&(s=Object(I.a)({},s,{editMode:Object(I.a)({},s.editMode,{results_table_fields:l})})),s;case"SCENARIO_SET_FIELDS":var i=t.payload.fields.map((function(e){return e.value})),o=Object(I.a)({},e,{formState:Object(I.a)({},e.formState,{fields:i})});return!0===e.isEditMode&&(o=Object(I.a)({},o,{editMode:Object(I.a)({},o.editMode,{fields:i})})),o;case"SCENARIO_SET_OBJECT_NAME":var c=t.payload,u=e.formState.matchCriteria.map((function(e){return Object(I.a)({},e,{field_name:"",operator:""})})),d=e.formState.filterCriteria.map((function(e){return Object(I.a)({},e,{field_name:"",operator:""})})),m=Object(I.a)({},e,{objectIndex:c.objectIndex,formState:Object(I.a)({},e.formState,{object_name:c.object_name,matchCriteria:u,filterCriteria:d})});return!0===e.isEditMode&&(m=Object(I.a)({},m,{editMode:Object(I.a)({},m.editMode,{object_name:c.object_name,matchCriteria:u,filterCriteria:d})})),m;default:throw new Error}},$=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],l=t[1],s=V({url:"".concat(j.j,"/getDataTypes"),params:{sfdcorgid:""}}),i=Object(n.a)(s,1)[0];return Object(r.useEffect)((function(){null!==i.data&&l(i.data.filter((function(e){return!1===e.label.startsWith("grax")&&"logs"!==e.label})))}),[i.data]),a},ee=function(){var e=Object(r.useReducer)(X,J),t=Object(n.a)(e,2),a=t[0],l=t[1],s=function(){var e=V(),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e){r({url:"".concat(j.s,"/").concat(e),params:{sfdcorgid:""}})}]}(),i=Object(n.a)(s,2),o=i[0],c=i[1],u=function(){var e=V(),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e){return r({url:j.s,method:"POST",data:e})}]}(),d=Object(n.a)(u,2),m=d[0],E=d[1],b=G(),v=Object(n.a)(b,2),p=v[0],g=v[1],h=q(),O=Object(n.a)(h,2),_=O[0],N=O[1],y=L(),S=Object(n.a)(y,2),A=S[0],T=S[1],R=function(){var e=V(),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e,t){"number"===typeof e&&r({url:"".concat(j.s,"/").concat(e),method:"PATCH",data:t,params:{sfdcorgid:""}})}]}(),k=Object(n.a)(R,2),D=k[0],w=k[1],x=Q(),P=Object(n.a)(x,2),B=P[0],M=P[1],z=Object(C.d)(),F=Object(C.c)(),U=Object(r.useContext)(K).openToast,H=Number(z.scenario_id),W=Number.isInteger(H),Y="".concat(W?"Update":"Create"," Scenario"),Z=a.formState,ee=$();Object(r.useEffect)((function(){!0===W&&c(H)}),[W]),Object(r.useEffect)((function(){null!==o.data&&null===o.error&&l({type:"SCENARIO_LOAD",payload:Object(I.a)({isEditMode:W},o.data.data)})}),[o.data]),Object(r.useEffect)((function(){""!==a.objectIndex&&M(a.objectIndex)}),[a.objectIndex]),Object(r.useEffect)((function(){return l({type:"SCENARIO_SET_RESULTS_TABLE_FIELDS",payload:{fields:B}})}),[B]),Object(r.useEffect)((function(){var e=a.isEditMode,t=a.formState,n=a.objectIndex,r=t.object_name;if(!0===e&&""!==r&&""===n&&ee.length>0){var l=ee.find((function(e){return e.label===r}));void 0!==l&&M(l.id)}}),[ee,a.formState.object_name]),Object(r.useEffect)((function(){null!==m.data&&m.data.data.id?(U({heading:["New Scenario Created"]}),F.push("".concat(j.c,"/scenarios/").concat(m.data.data.id))):null!==A.data&&A.data.data.id?(U({heading:["Scenario Cloned"]}),F.push("".concat(j.c,"//scenarios/").concat(A.data.data.id))):null!==p.status&&200===p.status?(U({heading:["Scenario Deleted"]}),F.push("".concat(j.c,"/scenarios"))):null!==_.data&&"success"===_.data.status&&U({heading:["Scenario is Running"]})}),[m.data,A.data,p,D,_]),Object(r.useEffect)((function(){null!==D.data&&null===D.error&&U({heading:"Scenario Updated"})}),[D.data]);return[{formState:Z,isEditMode:W,docPrefixedFields:B,scenarioId:H,heading:Y,sObjects:ee},{dispatch:l,deleteScenario:g,cloneScenario:T,runDeduplication:N,viewDuplicates:function(e){return F.push("/grax-app/client/duplicates/".concat(e))},onSubmit:function(e){if(!0===a.isEditMode)w(H,a.editMode);else{var t=a.formState,n=(t.fields,Object(f.a)(t,["fields"]));E(n)}e.preventDefault()}}]},te=a(1),ae=a.n(te),ne=a(275),re={isEditMode:ae.a.bool.isRequired,onDelete:ae.a.func,onDuplicate:ae.a.func},le=function(e){var t=e.isOpen,a=e.onDelete,n=e.onClose;return l.a.createElement(ne.a,{disableClose:!0,footer:[l.a.createElement(u.a,{label:"Cancel",onClick:n}),l.a.createElement(u.a,{label:"Delete",variant:"destructive",onClick:function(){n(),a()}})],isOpen:t,onRequestClose:n,prompt:"error",size:"small",title:l.a.createElement("span",null,"Delete Scenario?")})},se=function(e){var t=e.isEditMode,a=e.onDelete,s=e.onDuplicate,i=e.onRun,o=e.onViewDuplicates,c=Object(r.useState)(!1),d=Object(n.a)(c,2),m=d[0],f=d[1],E=l.a.createElement(u.a,{className:"slds-m-horizontal_xx-small",iconCategory:"utility",iconName:"delete",iconVariant:"border-filled",onClick:a}),v=l.a.createElement(b.a,{buttonVariant:"icon",checkmark:!0,iconName:"settings",iconSize:"large",iconVariant:"more",align:"right",onSelect:function(e){switch(e.value){case 1:i();break;case 5:o();break;default:s()}},options:[{label:"Run",value:1},{label:"View Result",value:5},{label:"Duplicate",value:2}]}),p=[];return!0===t&&(p.push(v),p.push(E),p.push(l.a.createElement(le,{isOpen:m,onClose:function(){return f(!1)},onDelete:a}))),p};se.propType=re,se.displayName="DedupScenarioCardActions";var ie=se,oe=a(255),ce=a(72),ue={name:ae.a.string.required,description:ae.a.string.required,isActive:ae.a.bool.required,onChangeName:ae.a.func,onChangeDescription:ae.a.func,onChangeNameIsActive:ae.a.func},de=Object(r.memo)((function(e){var t=e.name,a=e.description,n=e.isActive,s=e.onChangeName,i=e.onChangeDescription,o=e.onChangeIsActive,c=Object(r.useRef)(0);return c.current=c.current+1,l.a.createElement(Z.a,{title:"General",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-5"},l.a.createElement(oe.a,{label:"Name",required:!0,value:t,onChange:function(e){return s(e.target.value)}})),l.a.createElement("div",{className:"slds-col slds-size_2-of-5"},l.a.createElement(oe.a,{label:"Description",value:a,onChange:function(e){return i(e.target.value)}})),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"Is Active"),l.a.createElement(ce.a,{checked:n,variant:"toggle",onChange:function(e,t){var a=t.checked;return o(a)}})))))}));de.prototype=ue,de.prototype.displayName="DedupScenarioGeneral";var me=de,fe=a(40),Ee=a(268),be=a(269),ve=function(e){var t=e.options,a=void 0===t?[]:t,s=e.onChange,i=Object(f.a)(e,["options","onChange"]),o=Object(r.useState)(""),c=Object(n.a)(o,2),u=c[0],d=c[1],m=Object(r.useState)([]),E=Object(n.a)(m,2),b=E[0],v=E[1],p=function(e,t){s&&s(e,t,a)};return l.a.createElement(Ee.a,Object.assign({events:{onChange:function(e,t){var a=t.value;return d(a)},onRequestRemoveSelectedOption:function(e,t){d(""),v(t.selection),p(e,t.selection)},onSelect:function(e,t){d(""),v(t.selection),p(e,t.selection)}},options:Object(be.a)({inputValue:u,limit:1e3,options:a,selection:b}),selection:b,value:u,variant:"inline-listbox",required:!0,menuItemVisibleLength:5,classNameMenu:"slds-dropdown_length-7"},i))};ve.defaultProps={options:[],props:{}};var pe=ve,ge=Object(r.createContext)(),he=function(){return Object(r.useContext)(ge)},Oe=function(e){var t=e.children,a=V({url:"".concat(j.d,"/metadata"),params:{sfdcorgid:""}},{data:{data:{operators:[],stopwords:[],synonyms:[]}}}),s=Object(n.a)(a,1)[0],i=Object(r.useMemo)((function(){return{metadata:s}}),[s]);return l.a.createElement(ge.Provider,{value:i},t)},_e={scenarioActions:ae.a.array,scenarioAction:ae.a.string,onChange:ae.a.func},Ne=function(e){var t=e.scenarioAction,a=e.onChange,n=he().metadata.data.data.scenario_actions,s=Object(r.useRef)(0);return s.current=s.current+1,l.a.createElement("div",{className:"slds-col slds-size_2-of-5"},l.a.createElement(pe,{options:function(e){var t=[];for(var a in e){var n=e[a].values;n=n.map((function(e){return{label:e.display_value,value:e.code}})),t.push.apply(t,Object(fe.a)(n))}return t}(n),value:t,labels:{placeholder:"Select Option"},required:!0,onChange:function(e,t){return a(1===t.length?t[0].value:null)}}))};Ne.prototype=_e,Ne.displayName="DedupScenarioMergeActions";var ye=Object(r.memo)(Ne),Ce=function(e){var t=e.heading;e.onSubmit;return l.a.createElement(s.a,{className:"slds-m-bottom_large",title:t,variant:"object-home",trail:[l.a.createElement("span",null,"Dedup "),l.a.createElement("a",{href:"javascript:void(0);"},"Scenarios")],onRenderActions:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{variant:"list"},l.a.createElement(u.a,{label:"Save",type:"submit"})))}})},je=a(20),Se=function(e){var t=e.onRemove,a=Object(f.a)(e,["onRemove"]);return l.a.createElement("div",{className:"slds-col slds-size_1-of-12"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"\xa0"),l.a.createElement("div",{className:"slds-from_element__control"},l.a.createElement(u.a,Object.assign({onClick:t,iconCategory:"utility",variant:"icon",iconName:"delete",iconVariant:"border-filled"},a)))))},Ae=function(e){var t=e.onClick,a=Object(f.a)(e,["onClick"]);return l.a.createElement(u.a,Object.assign({className:"slds-m-top_medium",label:"Add New Row",iconCategory:"utility",iconName:"add",iconPosition:"left",onClick:t},a))},Te=function e(t){return function(a){var n=a.rows,s=a.onChange,i=a.footer,o=a.hideFooter,c=Object(f.a)(a,["rows","onChange","footer","hideFooter"]),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(n.concat(e))},d=function(e,t){return s(n.map((function(a,n){return t===n?e:a})))},m="".concat(e.name).concat(t.name),E=[];t.displayName=m,n.map((function(e,a){return E.push(l.a.createElement(t,Object.assign({row:e,index:a,key:"".concat(m,"-").concat(a),onChange:function(e){return d(e,a)},onRemove:function(){return function(e){return s(n.filter((function(t,a){return e!==a})))}(a)}},c)))}));return[E,function(e,t){if(void 0===t)return l.a.isValidElement(e)?Object(r.cloneElement)(e,{addRow:u}):l.a.createElement(Ae,{onClick:function(){return u({})}})}(i,o)]}};Te.displayName="withRepeating";var Ie=Te,Re={fieldName:ae.a.string,docPrefixedFields:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string})),operator:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string})),onChangeField:ae.a.func,onChangeOperator:ae.a.func,operators:ae.a.arrayOf(ae.a.string)},ke=function(e){var t=e.fieldName,a=e.operator,s=e.docPrefixedFields,i=e.onChangeField,o=e.onChangeOperator,c=Object(r.useState)(""),u=Object(n.a)(c,2),d=u[0],m=u[1],f=function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),a=t[0],l=t[1],s=Object(r.useState)([]),i=Object(n.a)(s,2),o=i[0],c=i[1],u=he().metadata.data.data.operators;return Object(r.useEffect)((function(){if(null===a)c([]);else{var e=u.filter((function(e){return e.applicable_data_types.includes(a)})).map((function(e){return{label:e.name,value:e.id}}));c(e)}}),[a,u]),[o,l]}(),E=Object(n.a)(f,2),b=E[0],v=E[1];Object(r.useEffect)((function(){if(0===b.length&&""!==t&&s.length>0){var e=s.find((function(e){return e.value===t}));void 0!==e&&v(e.dataType)}}),[s]),Object(r.useEffect)((function(){var e="";void 0!==t&&t.startsWith("doc.")&&(e=t.split("doc.")[1]),m(e)}),[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(pe,{onChange:function(e,t){return function(e){if(1===e.length){var t=e[0],a=t.value,n=t.dataType;i(a),v(n)}else i(""),v(null)}(t)},options:s,value:d,required:!0,labels:{label:"Fields",placeholder:"Select Option"}})),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(pe,{onChange:function(e,t){return o(1===t.length?t[0].label:"")},options:b,value:a,required:!0,labels:{label:"Operators",placeholder:"Select Option"}})))};ke.prototype=Re,ke.displayName="DedupScenarioFieldsAndOperators";var De=ke,we={row:ae.a.shape({field:ae.a.string,operator:ae.a.string,value:ae.a.string,stopWord:ae.a.array,synonyms:ae.a.array,cleanse:ae.a.bool}),index:ae.a.number,onChange:ae.a.func,onRemove:ae.a.func,docPrefixedFields:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string})),operators:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string}))},xe=function(e){var t=e.row,a=e.onChange,n=e.onRemove,r=e.setMetadata,s=e.docPrefixedFields,i=e.operators,o=1===e.rowsNum;return l.a.createElement("li",{className:"slds-grid slds-gutters_small"},l.a.createElement(De,{docPrefixedFields:s,operators:i,fieldName:t.field_name,operator:t.operator,onChangeField:function(e){return a(Object.assign({},t,{field_name:e,operator:""}))},onChangeOperator:function(e){return a(Object(je.m)(t,"operator",e))}}),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"stopWord"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement("a",{className:"",style:{lineHeight:"1.875rem"},href:function(e){return e.preventDefault()},onClick:function(){return r({matchCriteriaId:t.id,id:t.stopwords_list_id,variant:"stopwords"})}},"Contact Prefixes")))),l.a.createElement("div",{className:"slds-col slds-size_1-of-6"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"Synonym"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement("a",{className:"",style:{lineHeight:"1.875rem"},href:function(e){return e.preventDefault()},onClick:function(){return r({matchCriteriaId:t.id,id:t.synonyms_id,variant:"synonyms"})}},"Synonym name")))),l.a.createElement("div",{className:"slds-col slds-size_2-of-12"},l.a.createElement("span",{className:"slds-form-element__label"},"Use Cleansed Field"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement(ce.a,{variant:"toggle",checked:t.cleanse,onChange:function(e,n){n.checked;return a(Object(je.m)(t,"cleanse",!t.cleanse))}}))),l.a.createElement(Se,{onRemove:n,disabled:o}))};xe.prototype=we,xe.displayName="DedupScenarioMatchCriterias";var Pe=Ie(xe),Be={row:ae.a.shape({field:ae.a.string,operator:ae.a.string,value:ae.a.any}),index:ae.a.number,onChange:ae.a.func,onRemove:ae.a.func,docPrefixedFields:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string})),operators:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string}))},Me=function(e){var t=e.row,a=e.onChange,s=e.onRemove,i=e.docPrefixedFields,o=e.operators,c=Object(r.useState)(),u=Object(n.a)(c,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){return m(t.value)}),[t.value]),l.a.createElement("li",{className:"slds-grid slds-gutters_small"},l.a.createElement(De,{docPrefixedFields:i,operators:o,fieldName:t.field_name,operator:t.operator,onChangeField:function(e){return a(Object(je.m)(t,"field_name",e))},onChangeOperator:function(e){return a(Object(je.m)(t,"operator",e))}}),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(oe.a,{label:"Value",value:d,required:!0,onChange:function(e){return m(e.target.value)},onBlur:function(e){return a(Object(je.m)(t,"value",d))}})),l.a.createElement(Se,{onRemove:s}))};Me.proptype=Be,Me.displayName="DedupScenarioFilterCriterias";var ze=Ie(Me),Fe=a(147),Ue=Ie((function(e){var t=e.row,a=e.selectedId,s=(e.onChange,e.onRemove),i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1];return l.a.createElement("tr",{className:"slds-hint-parent"},l.a.createElement("th",{className:"slds-cell-edit"},l.a.createElement(Fe.a,{variant:"base",checked:a===t.id})),l.a.createElement("th",{className:"slds-cell-edit"},l.a.createElement("span",{className:"slds-grid slds-grid_align-spread"},l.a.createElement("a",{className:"slds-truncate"},l.a.createElement("span",{className:"slds-grid slds-grid_align-spread"},l.a.createElement("span",{className:"slds-truncate",title:"Acme"},t.name))),l.a.createElement(u.a,{iconSize:"small",onClick:function(){return d(!0)},iconCategory:"utility",variant:"icon",iconName:"edit",iconVariant:"bare",className:"slds-cell-edit__button",iconClassName:"slds-button__icon_hint slds-button__icon_edit"})),c&&l.a.createElement("section",{className:"slds-popover slds-popover slds-popover_edit",role:"dialog",style:{position:"absolute",top:"0px",left:"0.0625rem"}},l.a.createElement("div",{className:"slds-popover__body",id:"dialog-body-id-1"},l.a.createElement("div",{className:"slds-form-element slds-grid slds-wrap"},l.a.createElement("label",{className:"slds-form-element__label slds-form-element__label_edit slds-no-flex",for:"company-01"},l.a.createElement("span",{className:"slds-assistive-text"},"Company")),l.a.createElement("div",{className:"slds-form-element__control slds-grow"},l.a.createElement("input",{className:"slds-input",id:"company-01",type:"text",value:"Acme Enterprises",onBlur:function(){d(!1)}})))))),l.a.createElement("td",{className:"slds-cell-edit slds-text-align_right"},l.a.createElement(u.a,{iconSize:"small",onClick:s,iconCategory:"utility",variant:"icon",iconName:"delete",iconVariant:"border-filled"})))})),Ve=function(e){var t=e.criteria,a=(e.onChange,e.onSelect,Object(r.useState)([])),s=Object(n.a)(a,2),i=s[0],o=s[1],c=he().metadata.data.data,u=c.stopwords,d=c.synonyms;return Object(r.useEffect)((function(){"stopwords"===t.variant?o(u):o(d)}),[t]),l.a.createElement("table",{className:"slds-table slds-table_bordered slds-no-row-hover slds-table_edit"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"slds-line-height_reset"},l.a.createElement("th",{className:"",style:{width:"1rem"}}),l.a.createElement("th",null,l.a.createElement("a",{className:"slds-th__action slds-text-link_reset",href:"javascript:void(0);",role:"button",tabindex:"0"},l.a.createElement("span",{className:"slds-assistive-text"},"Sort by: "),l.a.createElement("div",{className:"slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate"},l.a.createElement("span",{className:"slds-truncate",title:"Account Name"},"Name")))),l.a.createElement("th",{"aria-label":"Close Date","aria-sort":"none",className:"",scope:"col"}))),l.a.createElement("tbody",null,l.a.createElement(Ue,{rows:i,selectedId:t.id,hideFooter:!0})))},Le={stopwords:"Stopwords",synonyms:"Synonyms"},Ge=function(e){var t=e.isOpen,a=e.criteria,n=e.onChange,r=e.onRequestClose;return l.a.createElement(ne.a,{isOpen:t,heading:Le[a.variant],onRequestClose:r,size:"small",footer:[l.a.createElement(u.a,{label:"Cancel",onClick:r}),l.a.createElement(u.a,{variant:"brand",label:"Apply",onClick:r})]},l.a.createElement(Ve,{criteria:a,onChange:n}))},qe={matchCriteria:ae.a.shape({field:ae.a.string,operator:ae.a.string,value:ae.a.string,stopword:ae.a.array,synonyms:ae.a.array,cleanse:ae.a.bool}),filterCriteria:ae.a.shape({field:ae.a.string,operator:ae.a.string,value:ae.a.any}),operators:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string})),stopwords:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string})),synonyms:ae.a.arrayOf(ae.a.shape({label:ae.a.string,value:ae.a.string})),onChangeMatchCriteria:ae.a.func,onChangeFilterCriteria:ae.a.func},Ke=function(e){var t=e.matchCriteria,a=e.filterCriteria,s=e.objectName,i=(e.fields,e.docPrefixedFields),o=e.sObjects,c=e.onChangeObject,u=(e.onChangeFields,e.onChangeMatchCriteria),d=e.onChangeFilterCriteria,m=Object(r.useState)(!1),f=Object(n.a)(m,2),E=f[0],b=f[1],v=Object(r.useState)({}),p=Object(n.a)(v,2),g=p[0],h=p[1],O=he().metadata.operators;return l.a.createElement(r.Fragment,null,l.a.createElement(Z.a,{title:"Objects",className:"slds-m-bottom_medium",nonCollapsible:!0},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(pe,{options:o,labels:{placeholder:"Select option"},value:s,onChange:function(e,t){var a=1===t.length?t[0]:{objectName:"",objectIndex:""};c(a.label,a.id)}})))),l.a.createElement(Z.a,{title:"Matching Criterias",className:"slds-m-bottom_medium",nonCollapsible:!0},l.a.createElement(Pe,{rows:t,docPrefixedFields:i,operators:O,rowsNum:t.length,onChange:u,setMetadata:function(e){b(!0),h(e)}})),l.a.createElement(Z.a,{title:"Filter Criterias",className:"slds-m-bottom_medium",nonCollapsible:!0},l.a.createElement(ze,{rows:a,docPrefixedFields:i,operators:O,onChange:d})),l.a.createElement(Ge,{isOpen:E,criteria:g,onRequestClose:function(){return b(!1)}}))};Ke.propType=qe;var He=Ke,We=function(){var e=ee(),t=Object(n.a)(e,2),a=t[0],s=a.formState,o=a.isEditMode,c=a.docPrefixedFields,u=a.scenarioId,d=a.heading,m=a.sObjects,f=t[1],E=f.dispatch,b=f.deleteScenario,v=f.duplicateScenario,p=f.runDeduplication,g=f.viewDuplicates,h=f.onSubmit,O=s.name,_=s.description,N=s.is_active,y=s.object_name,C=s.fields,j=s.matchCriteria,S=s.filterCriteria,A=s.scenario_action;return l.a.createElement(Oe,null,l.a.createElement("form",{onSubmit:function(e){return h(e)}},l.a.createElement(Ce,{heading:d}),l.a.createElement(i.a,{heading:d,headerActions:l.a.createElement(ie,{isEditMode:o,onDelete:function(){return b(u)},onDuplicate:function(){return v(u)},onRun:function(){return p(u)},onViewDuplicates:function(){return g(u)}})},l.a.createElement("div",{className:"slds-p-horizontal_medium"},l.a.createElement(me,{name:O,description:_,isActive:N,onChangeName:Object(r.useCallback)((function(e){return E({type:"SCENARIO_SET_NAME",payload:{name:e}})}),[O]),onChangeDescription:Object(r.useCallback)((function(e){return E({type:"SCENARIO_SET_DESCRIPTION",payload:{description:e}})}),[_]),onChangeIsActive:Object(r.useCallback)((function(e){return E({type:"SCENARIO_SET_IS_ACTIVE",payload:{is_active:e}})}),[N])}),l.a.createElement(He,{matchCriteria:j,filterCriteria:S,objectName:y,fields:C,docPrefixedFields:c,sObjects:m,onChangeMatchCriteria:function(e){return E({type:"SCENARIO_SET_MATCH_CRITERIA",payload:{matchCriteria:e}})},onChangeFilterCriteria:function(e){return E({type:"SCENARIO_SET_FILTER_CRITERIA",payload:{filterCriteria:e}})},onChangeObject:function(e,t){return E({type:"SCENARIO_SET_OBJECT_NAME",payload:{object_name:e,objectIndex:t}})},onChangeFields:function(e){return E({type:"SCENARIO_SET_FIELDS",payload:{fields:e}})}}),l.a.createElement(Z.a,{title:"Merge Actions",nonCollapsible:!0,className:"slds-m-bottom_medium"},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(ye,{scenarioAction:A,onChange:function(e){return E({type:"SCENARIO_SET_SCENARIO_ACTION",payload:{scenario_action:e}})}})))))))};We.propType={},We.displayName="DedupScenario";var Ye,Ze,Qe,Je,Xe=We,$e=function(e){var t=e.tableFields;return l.a.createElement("thead",null,l.a.createElement("tr",{className:"slds-line-height_reset"},l.a.createElement("th",{className:"slds-text-align_right",style:{width:"3.25rem"}}),t.map((function(e){return l.a.createElement("th",{"aria-label":"Contact"},l.a.createElement("div",null,l.a.createElement("span",{className:"slds-truncate",title:"Contact"},e)))})),l.a.createElement("th",{"aria-label":"Contact",style:{width:"3.25rem"}},l.a.createElement("div",null,l.a.createElement("span",{className:"slds-truncate",title:"Contact"})))))},et=a(73),tt=function(e){var t=e.tableFields,a=e.row,s=e.onViewRecord,i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1];return l.a.createElement("tr",{"aria-level":"1",className:"slds-hint-parent"},l.a.createElement("td",{style:{width:"3.25rem"}},l.a.createElement("div",{className:"slds-checkbox"},l.a.createElement(ce.a,{checked:c,onChange:function(e){d(!c)}}))),t.map((function(e){return l.a.createElement("td",null,l.a.createElement("div",{className:"slds-truncate",title:"Acme"},function(e,t){return t[e]}(e,a)))})),l.a.createElement("td",{className:"slds-text-align_right"},l.a.createElement(et.a,{iconPath:"/assets/icons"},l.a.createElement(u.a,{align:"right",iconCategory:"utility",iconName:"expand",iconVariant:"border",iconSize:"small",onClick:function(e){s(a)}}))))},at=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],l=t[1],s=Object(r.useState)([]),i=Object(n.a)(s,2),o=i[0],c=i[1],u=Object(r.useState)([]),d=Object(n.a)(u,2),m=d[0],f=d[1],E=Object(r.useState)(null),b=Object(n.a)(E,2),v=b[0],p=b[1],g=function(){var e=V(null,{data:{data:{results:[]}}}),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e){return r({url:"".concat(j.s,"/").concat(e,"/results"),params:{sfdcorgid:""}})}]}(),h=Object(n.a)(g,2),O=h[0],_=h[1],N=Object(C.d)(),y=Object(r.useContext)(K).openToast,S=N.scenario_id;return Object(r.useEffect)((function(){return _(S)}),[S]),Object(r.useEffect)((function(){var e=O.data.data.results;if(e.length>0){var t=["doc.Name","doc.Website","doc.Phone","doc.BillingCity","doc.BillingState"].map((function(e){return e.split(".")[1]}));l(e),p(e[0].index_name),c(t.slice(0,4)),f(t)}}),[O.data]),Object(r.useEffect)((function(){"CREATED"===O.data.data.job_status&&y({heading:["Scenario Job Created"]})}),[O.data.data.job_status]),{tableFields:o,tableFieldsExpanded:m,rows:a,indexName:v}},nt=function(e){var t=e.keyName,a=e.tableFields;return l.a.createElement("tr",{className:"slds-is-selected"},l.a.createElement("td",{colspan:a.length+1},"Duplicate key: ",t),l.a.createElement("td",{className:"slds-text-align_right",style:{width:"3.25rem"}},l.a.createElement(et.a,{iconPath:"/assets/icons"},l.a.createElement(b.a,{align:"right",iconCategory:"utility",iconName:"down",iconVariant:"border-filled",onSelect:function(e){},buttonClassName:"slds-button_icon-small",options:[{label:"Merge Records",value:"A0"}]}))))},rt=function(e){var t=e.field,a=e.record;return l.a.createElement("tr",{className:"slds-hint-parent"},l.a.createElement(r.Fragment,null,l.a.createElement("td",null,l.a.createElement("div",{className:"slds-truncate",title:"Acme"},t)),l.a.createElement("td",{colSpan:"3"},l.a.createElement("div",{className:"slds-truncate",title:"Acme"},function(e,t){return t[e]}(t,a)))))},lt=function(e){var t=e.setIsOpen,a=e.tableFields,n=e.record;return l.a.createElement(et.a,{iconPath:"/assets/icons"},l.a.createElement(ne.a,{isOpen:!0,size:"medium",onRequestClose:function(){return t(!1)},hasNoHeader:!0},l.a.createElement("table",{"aria-multiselectable":"true",className:"slds-table slds-table_header-hidden slds-table_bordered slds-table_cell-buffer slds-no-row-hover slds-tree slds-table_tree",role:"grid"},l.a.createElement("thead",null,l.a.createElement("tr",{"aria-level":"1",className:"slds-hint-parent"},l.a.createElement("th",{role:"gridcell"},l.a.createElement("div",{className:"slds-truncate",title:"Acme"},"STANDARD FIELD NAMES")))),l.a.createElement("tbody",null,null!==n&&l.a.createElement(r.Fragment,null,a.map((function(e){return l.a.createElement(rt,{field:e,record:n})})))))))},st=function(){var e=at(),t=e.tableFields,a=e.tableFieldsExpanded,o=e.rows,c=e.indexName,u=Object(r.useState)(!1),d=Object(n.a)(u,2),m=d[0],f=d[1],E=Object(r.useState)(null),b=Object(n.a)(E,2),v=b[0],p=b[1],g=function(e){p(e)};return Object(r.useEffect)((function(){null!==v&&f(!0)}),[v]),l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"slds-m-bottom_large",title:"All Potential Duplicate Records",variant:"object-home",trail:[l.a.createElement("a",{href:"javascript:void(0);"},"Dedup")]}),l.a.createElement(i.a,{style:{flexGrow:1},hasNoHeader:null===c,heading:"Index: ".concat(c)},o.length>0&&l.a.createElement(r.Fragment,null,l.a.createElement("table",{"aria-multiselectable":"true",className:"slds-table  slds-table_bordered slds-no-row-hover ",role:"grid"},l.a.createElement($e,{tableFields:t}),l.a.createElement("tbody",null,o.map((function(e){return l.a.createElement(r.Fragment,null,l.a.createElement(nt,{keyName:e.key,tableFields:t}),e.records.map((function(e){return l.a.createElement(tt,{tableFields:t,row:e,onViewRecord:g})})))})))),!0===m&&l.a.createElement(lt,{isOpen:m,setIsOpen:f,tableFields:a,record:v}))))},it=function(e){var t=Object(r.useContext)(e);if(void 0===t)throw new Error("useStateContext must be called inside provider");return t},ot=function(e){var t=Object(r.useContext)(e);if(void 0===t)throw new Error("useDispatchContext must be called inside a provider");return t},ct=function(e,t){switch(t.type){case"CONFIGURATION_LOAD_INITIAL_STATE":case"CONFIGURATION_RELOAD_STATE":return t.payload;default:throw new z}},ut=function(){var e=Object(C.c)();return{goToSummary:function(){return e.push(j.p)},goToStartProvisioning:function(){return e.push(j.q)},goToBasicConfiguration:function(){return e.push(j.m)},goToAdvancedConfiguration:function(){return e.push(j.l)}}},dt=function(e){return"string"===typeof e?{heading:[e]}:e},mt=function(e,t){var a=t.type,n=t.payload;switch(a){case"SPINNER_IS_RUNNING":return Object(I.a)({},e,{isLoading:!0});case"SPINNER_IS_STOPPED":return Object(I.a)({},e,{isLoading:!1});case"NOTIFICATION_IS_OPEN":return Object(I.a)({},e,{isOpen:!0});case"NOTIFICATION_IS_CLOSE":return Object(I.a)({},e,{isOpen:!1});case"NOTIFICATION_SUCCESS":return Object(I.a)({},e,{isOpen:!0,variant:"success",message:dt(n.message)});case"NOTIFICATION_ERROR":return Object(I.a)({},e,{isOpen:!0,variant:"error",duration:n.duration,message:dt(n.message)});default:throw new z}},ft={isLoading:!1,isOpen:!1,variant:"success",duration:2e3,message:{heading:[]}},Et=Object(r.createContext)(),bt=Object(r.createContext)(),vt=function(e){var t=e.children,a=Object(r.useReducer)(mt,ft),s=Object(n.a)(a,2),i=s[0],o=s[1];return l.a.createElement(Et.Provider,{value:i},l.a.createElement(bt.Provider,{value:o},t))},pt=function(){var e=[it(Et),ot(bt)],t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,{successNotification:function(e){return r({type:"NOTIFICATION_SUCCESS",payload:{message:e}})},errorNotification:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return r({type:"NOTIFICATION_ERROR",payload:{message:e,duration:t}})},hideNotification:function(){return r({type:"NOTIFICATION_IS_CLOSE"})},spinnerIsRunning:function(){return r({type:"SPINNER_IS_RUNNING"})},spinnerIsStopped:function(){return r({type:"SPINNER_IS_STOPPED"})}}]},gt=function(e){var t=pt(),a=Object(n.a)(t,2)[1],l=a.spinnerIsRunning,s=a.spinnerIsStopped;Object(r.useEffect)((function(){return(!0===e?l:s)()}),[e])},ht=pt,Ot=function(e){return null!==e&&"object"===typeof e.environments&&Object.keys(e.environments).length>0},_t=Object(r.createContext)(),Nt=Object(r.createContext)(),yt=function(){return[it(_t),ot(Nt)]},Ct=function(e){var t=e.children,a=function(){var e=V({url:j.h}),t=Object(n.a)(e,1)[0],a=t.data,l=t.success,s=t.error,i=Object(r.useReducer)(ct,null),o=Object(n.a)(i,2),c=o[0],u=o[1],d=ht(),m=Object(n.a)(d,2)[1].errorNotification,f=ut(),E=f.goToSummary,b=f.goToStartProvisioning;return Object(r.useEffect)((function(){!0===l&&(Ot(a)?(u({type:"CONFIGURATION_LOAD_INITIAL_STATE",payload:a}),E()):b())}),[a,l]),Object(r.useEffect)((function(){!1===l&&m(function(e){return"No Configuration Found"===e?{heading:"Cannot find this SFDC Org ID in the configuration of the selected Heroku app.",details:"Please make sure the selected Heroku app does not already have a configuration tied to another SFDC Org.\n              Each Heroku app can only have a single SFDC source org configured, and this cannot be changed once configured."}:e}(s),null)}),[s,l]),[c,u]}(),s=Object(n.a)(a,2),i=s[0],o=s[1];return l.a.createElement(_t.Provider,{value:i},l.a.createElement(Nt.Provider,{value:o},t))},jt=a(74),St=a(270),At=a(278),Tt=function(){var e=ht(),t=Object(n.a)(e,2),a=t[0],s=a.isOpen,i=a.isLoading,o=a.variant,c=a.message,u=void 0===c?{}:c,d=a.duration,m=t[1].hideNotification;return l.a.createElement(r.Fragment,null,i&&l.a.createElement(jt.a,{size:"large",variant:"brand"}),!0===s&&l.a.createElement(St.a,null,l.a.createElement(At.a,{duration:d,labels:u,variant:o,onRequestClose:m})))},It=a(60),Rt=function(e){var t=e.routes;return l.a.createElement(vt,null,l.a.createElement(Ct,null,l.a.createElement(Tt,null),l.a.createElement(It.a,{routes:t})))},kt=a(277),Dt=function(e){var t=e.text;return l.a.createElement(kt.a,null,l.a.createElement("p",null,t))},wt=function(){var e=Object(C.c)();return l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement("div",{className:"slds-text-longform slds-text-align_center"},l.a.createElement("h2",{className:"slds-text-heading_medium"},"Welcome to GRAX!"),l.a.createElement("p",{className:"slds-text-body_regular"},"Your Data Value Platform.")),l.a.createElement("footer",{className:"slds-card__footer"},l.a.createElement(Dt,{text:"Ensure you have valid Salesforce, Elasticsearch, and cloud storage credentials before beginning.\n        You will not be able to save your configuration without valid credentials for all three providers."}),l.a.createElement(u.a,{className:"slds-button slds-button_brand",label:"Start",onClick:function(){return e.push(j.m)}})))},xt=a(271),Pt=a(276),Bt=function(){return l.a.createElement(xt.a,null,l.a.createElement(Pt.a,{labels:{heading:"To get more information on setting up GRAX,",headingLink:"Please click here"},onClickHeadingLink:function(){window.location=j.k},variant:"warning"}))},Mt=a(7),zt=function(e,t){var a=t.payload;switch(t.type){case"ADVANCED_CONFIG_INITIAL_LOAD":case"ADVANCED_CONFIG_SET_VALUE":return Object(I.a)({},e,{},a);default:throw new z}},Ft=function(e,t){var a=t.type,n=t.payload;switch(a){case"QUICK_START_FORM_INITIAL_LOAD":return Object(I.a)({},e,Object(Mt.a)({name:n.name},e.provider,Object(I.a)({},e[e.provider],{provider:e.provider},n)));case"QUICK_START_FORM_SET_PROVIDER":return Object(I.a)({},e,{provider:n.provider});case"QUICK_START_FORM_SET_NAME":return Object(I.a)({},e,Object(Mt.a)({name:n.name},e.provider,Object(I.a)({},e[e.provider],{name:n.name})));case"BASIC_CONFIG_SET_VALUE":return Object(I.a)({},e,Object(Mt.a)({},e.provider,Object(I.a)({},e[e.provider],{name:e.name,provider:e.provider},n)));default:throw new z}},Ut=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ft;return function(i){var o=i.children,c=i.value,u=Object(r.useReducer)(s,a),d=Object(n.a)(u,2),m=d[0],f=d[1];return Object(r.useEffect)((function(){void 0!==c&&(c.provider&&f({type:"QUICK_START_FORM_SET_PROVIDER",payload:{provider:c.provider}}),f({type:"QUICK_START_FORM_INITIAL_LOAD",payload:c}))}),[c]),l.a.createElement(e.Provider,{value:m},l.a.createElement(t.Provider,{value:f},o))}},Vt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zt;return function(i){var o=i.children,c=i.value,u=Object(r.useReducer)(s,a),d=Object(n.a)(u,2),m=d[0],f=d[1];return Object(r.useEffect)((function(){f({type:"ADVANCED_CONFIG_INITIAL_LOAD",payload:c})}),[c]),l.a.createElement(e.Provider,{value:m},l.a.createElement(t.Provider,{value:f},o))}},Lt=function(e,t){var a=t.type,n=t.payload,r=t.meta,l=e.provider;switch(a){case"QUICK_START_FORM_INITIAL_LOAD":return Object(I.a)({},e,Object(Mt.a)({},l,n));case"QUICK_START_FORM_SET_PROVIDER":return Object(I.a)({},e,{provider:n.provider});case"SALESFORCE_CONNECTION_SET_VALUE":var s=e[l][r.variant];return Object(I.a)({},e,Object(Mt.a)({},l,Object(I.a)({},e[l],Object(Mt.a)({},r.variant,Object(I.a)({provider:l},s,{},n)))));default:throw new z}},Gt=(Ye={provider:"salesforce"},Object(Mt.a)(Ye,"salesforce",{sourceDataSource:{},syncSalesforceEinstein:{},bulkRestoreDestination:{}}),Object(Mt.a)(Ye,"oauth",{}),Ye),qt=Object(r.createContext)(),Kt=Object(r.createContext)(),Ht=function(){return[it(qt),ot(Kt)]},Wt=Ut(qt,Kt,Gt,Lt),Yt=(Ze={name:"Default",maxbatchsize:300,provider:"bonsai"},Object(Mt.a)(Ze,"bonsai",{}),Object(Mt.a)(Ze,"aws",{}),Object(Mt.a)(Ze,"elasticIo",{}),Ze),Zt=Object(r.createContext)(),Qt=Object(r.createContext)(),Jt=function(){return[it(Zt),ot(Qt)]},Xt=Ut(Zt,Qt,Yt),$t=function(e,t){var a=t.type,n=t.payload,r=n.oauth,l=e,s={type:a,payload:Object(f.a)(n,["oauth"])};if("QUICK_START_FORM_INITIAL_LOAD"===a){s.payload.s3CompatibleEndpoint&&(l=Object(I.a)({},l,{provider:"aws-ecs"}));var i=r.clientId,o=r.clientSecret,c=r.tokenUrl;(i||o||c)&&(s=Object(I.a)({},s,{payload:Object(I.a)({},s.payload,{enableOAuth:!0})}))}return Ft(l,s)},ea=(Qe={provider:"aws"},Object(Mt.a)(Qe,"aws",{}),Object(Mt.a)(Qe,"aws-ecs",{}),Object(Mt.a)(Qe,"azure",{}),Object(Mt.a)(Qe,"google",{}),Object(Mt.a)(Qe,"minio",{}),Qe),ta=Object(r.createContext)(),aa=Object(r.createContext)(),na=function(){return[it(ta),ot(aa)]},ra=Ut(ta,aa,ea,$t),la=Object(r.createContext)(),sa=Object(r.createContext)(),ia=function(){return[it(la),ot(sa)]},oa=Vt(la,sa),ca=a(31),ua=a.n(ca),da=a(10),ma=(Je={},Object(Mt.a)(Je,"elastic","Elastic"),Object(Mt.a)(Je,"storage","cloud storage"),Object(Mt.a)(Je,"sourceDataSource","Salesforce"),Object(Mt.a)(Je,"syncSalesforceEinstein","Einstein Salesforce Destination"),Object(Mt.a)(Je,"bulkRestoreDestination","Bulk Restore Salesforce Destination"),Je),fa={successful:{label:"success",category:"utility",colorVariant:"default",name:"success"},failed:{label:"failure",category:"utility",colorVariant:"error",name:"error"}},Ea=function(e,t){var a=Object(r.useState)(t),l=Object(n.a)(a,2),s=l[0],i=l[1];if(Object(r.useEffect)((function(){return i(t)}),[t]),""!==s){var o=ma[e];return{iconSettings:fa["invalidOrganizationId"===s?"failed":s],message:{successful:"".concat(o," credentials validated"),failed:"Invalid ".concat(o," credentials"),invalidOrganizationId:"You cannot enter SFDC credentials for a SFDC org different than the org you are currently in"}[s]}}return{}},ba=function(e){return l.a.createElement(da.a,{assistiveText:{label:e.label},category:e.category,colorVariant:e.colorVariant,name:e.name,size:"x-small"})},va=function(e){var t=e.variant,a=e.status,n=Ea(t,a),r=n.iconSettings,s=n.message;return l.a.createElement(l.a.Fragment,null,void 0!==r&&void 0!==s&&l.a.createElement("div",{className:"slds-grid slds-row slds-grid_align-center slds-m-bottom_x-small "},l.a.createElement(kt.a,{icon:ba(r),theme:"light"},l.a.createElement("p",null,s))))},pa=a(30),ga=a(52),ha=function(e){var t=e.value,a=e.type,s=void 0===a?"text":a,i=e.helpText,o=e.disabled,c=void 0!==o&&o,u=e.onBlur,d=e.secured,m=e.blocked,E=Object(f.a)(e,["value","type","helpText","disabled","onBlur","secured","blocked"]),b=Object(r.useState)(t),v=Object(n.a)(b,2),p=v[0],g=v[1],h=Object(r.useState)(d?"password":s),O=Object(n.a)(h,2),_=O[0],N=O[1],y=Object(r.useState)(!!m||c),C=Object(n.a)(y,2),j=C[0],S=C[1];return Object(r.useEffect)((function(){return g(t)}),[t]),l.a.createElement(oe.a,Object.assign({value:p,type:_,disabled:j,onBlur:function(e){!0===m&&S(!0),void 0!==u&&u(e)},onChange:function(e){return g(e.target.value)}},!0===d?function(e,t){return{iconRight:l.a.createElement(pa.a,{name:"password"===e?"preview":"hide",category:"utility",onClick:t})}}(_,(function(){return N("password"===_?s:"password")})):{},!0===m?function(e,t){return{iconRight:l.a.createElement(pa.a,{name:!0===e?"edit":"error",category:"utility",onClick:t})}}(j,(function(){return S(!j)})):{},void 0!==i?function(e){return{fieldLevelHelpTooltip:l.a.createElement(ga.a,{id:"field-level-help-tooltip",align:"top left",content:e})}}(i):{},E))},Oa=function(e){var t=Object(r.useState)(!0),a=Object(n.a)(t,2),l=a[0],s=a[1];return Object(r.useEffect)((function(){s(!0);var e=setTimeout((function(){return s(!1)}),3e3);return function(){return clearTimeout(e)}}),[e]),l},_a=function(){var e=V(),t=Object(n.a)(e,2),a=t[0],l=a.isLoading,s=a.data,i=a.error,o=a.success,c=t[1],u=Object(r.useState)({status:""}),d=Object(n.a)(u,2),m=d[0],f=d[1],E=Object(r.useState)(null),b=Object(n.a)(E,2),v=b[0],p=b[1];return gt(l),Object(r.useEffect)((function(){if(null!==v){var e=Object(I.a)({},v);"aws-ecs"===e.credentials.provider&&(e.credentials.provider="aws"),c({url:j.i,method:"POST",data:e})}}),[v]),Object(r.useEffect)((function(){if(!0===o){if("sourceDataSource"===v.variant)if(D().sfdcorgid!==s.userInfo.organizationId)return void f(Object(I.a)({},s,{status:"invalidOrganizationId"}));f(s)}}),[s,o]),Object(r.useEffect)((function(){!1===o&&f(i)}),[i,o]),[m,p]},Na=function(e){var t=e.variant,a=e.name,s=e.userName,i=e.password,o=e.token,c=e.url,d=e.organizationId,m=e.onBlur,f=e.onValidated,E=_a(),b=Object(n.a)(E,2),v=b[0],p=b[1];Object(r.useEffect)((function(){return f(v)}),[v]);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"SFDC Username",required:!0,value:s,id:"userName",onBlur:m})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"SFDC Password",required:!0,secured:!0,value:i,id:"password",onBlur:m})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"SFDC Security Token",required:!0,secured:!0,value:o,id:"token",onBlur:m}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"SFDC URL",helpText:"https://login.salesforce.com for Production  |  https://test.salesforce.com for Sandbox",required:!0,value:c,id:"url",onBlur:m})),d&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{readOnly:!0,label:"SFDC Organization ID (18 Digit)",value:d,id:"organizationId",onBlur:m}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"Validate SFDC Connection",variant:"outline-brand",onClick:function(){return p({variant:t,type:"salesforce",credentials:{provider:"salesforce",userName:s,password:i,token:o,url:c,name:a,organizationId:d}})}}))))},ya=a(144),Ca=function(e){return Object(ya.a)(e),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"OAuth",variant:"outline-brand"})))},ja=function(e,t){if(void 0===e)throw new Error("Action Name is required");if(void 0===t)throw new Error("Dispatch is required");return function(a,n,r){if(void 0===a)throw new Error("Property name is required");t({meta:r,type:e,payload:Object(Mt.a)({},a,n)})}},Sa=function(e,t){var a=ja(e,t);return function(e){var t=e.target,n=t.type,r=t.id,l=t.valueAsNumber,s=t.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.meta,c=void 0===o?{}:o,u=i.valueCasting,d=void 0===u||u;if(void 0===r)throw new Error("Id is required");var m="number"===n&&!0===d?l:s;a(r,m,c)}},Aa=function(e,t){var a=ja(e,t);return function(e,t){if(void 0===e)throw new Error("Name is required");a(e,1===t.length?t[0].value:null)}},Ta=function(e,t){var a=ja(e,t);return function(e,t){var n=e.target.id,r=t.checked;if(void 0===n)throw new Error("Id is required");a(n,r)}},Ia=function(e,t){var a=ja(e,t);return function(e,t){if(void 0===t)throw new Error("Id is required");a(t,e)}},Ra=function(e){if(void 0===e.provider)throw new Error("No Provider Tab Selected");return e[e.provider]},ka=[{label:"Username / Password",value:"salesforce"}],Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sourceDataSource",t=Ht(),a=Object(n.a)(t,2),r=a[0],l=a[1],s=Ra(r),i=Sa("SALESFORCE_CONNECTION_SET_VALUE",l),o=function(t){return i(t,{meta:{variant:e}})},c=s[e]||{},u=c.userName,d=c.password,m=c.token,f=c.url,E=c.name,b=c.organizationId,v=r.provider;return[{selectedTab:v,userName:u,password:d,token:m,url:f,name:E,organizationId:b,options:ka},{onBlur:o,dispatch:l}]},wa=function(e){var t=e.variant,a=e.showConnectionName,s=void 0!==a&&a,i=Object(r.useState)(""),o=Object(n.a)(i,2),c=o[0],u=o[1],d=Oa(c),m=Da(t),f=Object(n.a)(m,2),E=f[0],b=E.userName,v=E.password,p=E.token,g=E.url,h=E.name,O=E.organizationId,_=E.selectedTab,N=f[1].onBlur;return l.a.createElement(l.a.Fragment,null,"sourceDataSource"===t&&l.a.createElement(Dt,{text:"Please enter credentials for the integration user the GRAX app will use to log in. In order\n        to prevent crossing your wires, the credentials entered here must be for this current SFDC\n        org you are in."}),!0===d&&l.a.createElement(va,{variant:t,status:c.status}),!0===s&&l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-bottom_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(ha,{label:"Connection Name",required:!0,value:h,id:"name",helpText:'Please name your Salesforce connection e.g. "Dev Sandbox\u201c',onBlur:N}))),"salesforce"===_?l.a.createElement(Na,{variant:t,userName:b,password:v,token:p,url:g,name:h,organizationId:O,onBlur:N,onValidated:u}):l.a.createElement(Ca,null))},xa=function(){return l.a.createElement(Z.a,{title:"Salesforce Connection",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},l.a.createElement(wa,{showConnectionName:!0,variant:"sourceDataSource"}))},Pa=function(e){var t=e.options,a=e.value,n=e.id,r=e.required,s=void 0===r||r,i=e.onClick,o=function(e){!1===s&&e===a?i(null):i(e,n)};return l.a.createElement(d.a,null,t.map((function(e){return l.a.createElement(u.a,{label:e.label,key:e.label,onClick:function(){return o(e.value)},variant:e.value===a?"brand":"neutral",disabled:e.disabled})})))};Pa.defaultProps={required:!0,id:null};var Ba=Pa,Ma=function(e){var t=e.url,a=e.gatewayPath,n=e.onBlur;return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Bonsai URL",required:!0,value:t,id:"url",onBlur:n})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Gateway path",value:a,id:"gatewayPath",onBlur:n})))},za=a(43),Fa=function(e){Object(P.a)(a,e);var t=Object(B.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={inputValue:"",selection:[]},n}return Object(za.a)(a,[{key:"componentDidMount",value:function(){this.setState({selection:this.props.selection})}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({selection:this.props.selection})}},{key:"render",value:function(){var e=this;return l.a.createElement(Ee.a,{events:{onChange:function(t,a){var n=a.value;e.props.onSelect(t,n),e.setState({inputValue:n})},onRequestRemoveSelectedOption:function(t,a){e.setState({inputValue:"",selection:[]}),e.props.onSelect(t,a.selection)},onSubmit:function(t,a){var n=a.value;e.props.onSelect(t,n),e.setState({inputValue:"",selection:[].concat(Object(fe.a)(e.state.selection),[{label:n,icon:l.a.createElement(da.a,{assistiveText:{label:"Account"},category:"standard",name:"account"})}])})},onSelect:function(t,a){var n;(n=e.props).onSelect.apply(n,[t].concat(Object(fe.a)(Object.keys(a).map((function(e){return a[e]}))))),e.setState({inputValue:"",selection:a.selection})}},labels:this.props.labels,options:Object(be.a)({inputValue:this.state.inputValue,options:this.props.options,selection:this.state.selection||[],limit:1e3}),selection:this.state.selection,value:this.state.selectedOption?this.state.selectedOption.label:this.state.inputValue,variant:"inline-listbox",required:!0,menuItemVisibleLength:5})}}]),a}(l.a.Component);Fa.displayName="SCombobox";var Ua,Va=Fa,La=(Ua={},Object(Mt.a)(Ua,"us-east-2","US East (Ohio)"),Object(Mt.a)(Ua,"us-east-1","US East (N. Virginia)"),Object(Mt.a)(Ua,"us-west-1","US West (N. California)"),Object(Mt.a)(Ua,"us-west-2","US West (Oregon)"),Object(Mt.a)(Ua,"ap-east-1","Asia Pacific (Hong Kong)"),Object(Mt.a)(Ua,"ap-south-1","Asia Pacific (Mumbai)"),Object(Mt.a)(Ua,"ap-northeast-3","Asia Pacific (Osaka-Local)"),Object(Mt.a)(Ua,"ap-northeast-2","Asia Pacific (Seoul)"),Object(Mt.a)(Ua,"ap-southeast-1","Asia Pacific (Singapore)"),Object(Mt.a)(Ua,"ap-southeast-2","Asia Pacific (Sydney)"),Object(Mt.a)(Ua,"ap-northeast-1","Asia Pacific (Tokyo)"),Object(Mt.a)(Ua,"ca-central-1","Canada (Central)"),Object(Mt.a)(Ua,"eu-central-1","Europe (Frankfurt)"),Object(Mt.a)(Ua,"eu-west-1","Europe (Ireland)"),Object(Mt.a)(Ua,"eu-west-2","Europe (London)"),Object(Mt.a)(Ua,"eu-west-3","Europe (Paris)"),Object(Mt.a)(Ua,"eu-north-1","Europe (Stockholm)"),Object(Mt.a)(Ua,"me-south-1","Middle East (Bahrain)"),Object(Mt.a)(Ua,"sa-east-1","South America (S\xe3o Paulo)"),Ua),Ga=Object.entries(La).map((function(e,t){var a=Object(n.a)(e,2),r=a[0];return{label:a[1],value:r,subTitle:r,id:t.toString()}})),qa=function(){return[Ga,function(e){var t=Ga.find((function(t){return t.value===e}));if(void 0!==t)return[t]}]},Ka=function(e){var t=e.label,a=e.value,r=e.id,s=e.onChange,i=qa(),o=Object(n.a)(i,2),c=o[0],u=o[1];return l.a.createElement(Va,{value:a,options:c,id:r,selection:u(a),onSelect:function(e,t){return s(t)},required:!0,labels:{label:t,placeholder:"Select Option"}})},Ha=function(e){var t=e.url,a=e.accessKey,n=e.secretAccessKey,r=e.region,s=e.onBlur,i=e.handleCombobox;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Endpoint Name",required:!0,value:t,id:"url",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Access Key ID",required:!0,secured:!0,value:a,id:"accessKey",onBlur:s}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Secret Access Key",required:!0,secured:!0,value:n,id:"secretAccessKey",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ka,{value:r,label:"S3 Region",onChange:function(e){return i("region",e)}}))))};Ha.defaultProps={url:"",accessKey:"",secretAccessKey:"",region:""};var Wa=Ha,Ya=function(e){var t=e.user,a=e.password,n=e.url,s=e.port,i=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Elastic Username",required:!0,value:t,id:"user",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Elastic Password",required:!0,secured:!0,value:a,id:"password",onBlur:i}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Elastic URL",required:!0,value:n,id:"url",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{type:"number",label:"Elastic Port",required:!0,value:s,id:"port",onBlur:i}))))};Ya.defaultProps={user:"",password:"",url:"",port:void 0};var Za=Ya,Qa=function(e){var t=Sa("BASIC_CONFIG_SET_VALUE",e.dispatch),a=Aa("BASIC_CONFIG_SET_VALUE",e.dispatch);switch(e.selectedTab){case"bonsai":return l.a.createElement(Ma,{url:e.url,gatewayPath:e.gatewayPath,onBlur:t});case"aws":return l.a.createElement(Wa,{url:e.url,accessKey:e.accessKey,secretAccessKey:e.secretAccessKey,region:e.region,bucket:e.bucket,onBlur:t,handleCombobox:a});case"elasticIo":return l.a.createElement(Za,{user:e.user,password:e.password,url:e.url,port:e.port,onBlur:t});default:return null}},Ja=[{label:"Bonsai Elasticsearch",value:"bonsai"},{label:"AWS Elasticsearch",value:"aws"},{label:"Elastic.co",value:"elasticIo"}],Xa=function(){var e=Jt(),t=Object(n.a)(e,2),a=t[0],r=t[1],l=Sa("QUICK_START_FORM_SET_NAME",r),s=Ia("QUICK_START_FORM_SET_PROVIDER",r),i=a.name,o=a.provider;return[{name:i,selectedTab:o,provider:a[o],options:Ja},{onBlur:l,handleButtonGroup:s,dispatch:r}]},$a=function(){var e=_a(),t=Object(n.a)(e,2),a=t[0],s=t[1],i=Oa(a),o=Xa(),c=Object(n.a)(o,2),d=c[0],m=d.selectedTab,f=d.name,E=d.provider,b=d.options,v=c[1],p=v.handleButtonGroup,g=v.onBlur,h=v.dispatch;return l.a.createElement(r.Fragment,null,l.a.createElement(Z.a,{title:"Elasticsearch Provider",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},!0===i&&l.a.createElement(va,{variant:"elastic",status:a.status}),l.a.createElement("div",{className:"slds-grid slds-gutters_small  slds-m-bottom_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(ha,{label:"Name",required:!0,value:f,id:"name",onBlur:g}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(Ba,{options:b,value:m,id:"provider",onClick:p}))),l.a.createElement(Qa,Object.assign({selectedTab:m},E,{dispatch:h})),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"Validate Elastic Connection",onClick:function(){return s({type:"elastic",credentials:E})}})))))},en=function(){var e=ia(),t=Object(n.a)(e,2),a=t[0],r=a.clientId,s=a.tokenUrl,i=a.clientSecret,o=t[1],c=Sa("ADVANCED_CONFIG_SET_VALUE",o);return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"OAuth Client ID",value:r,id:"clientId",onBlur:c})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"OAuth Client Secret",value:i,id:"clientSecret",onBlur:c})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"OAuth Token URL",value:s,id:"tokenUrl",onBlur:c})))};en.defaultProps={clientId:"",tokenUrl:"",clientSecret:""};var tn=en,an=function(e){var t=e.label,a=e.helpText;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"slds-form-element__label"},t),null!==a&&l.a.createElement(ga.a,{content:a,align:"top left",variant:"learnMore",dialogClassName:"dialog-classname"}))},nn=function(e){var t=e.isADestructiveAction,a=void 0!==t&&t,s=Object(r.useRef)(!1),i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1];return Object(r.useEffect)((function(){!1===s.current?s.current=!0:!1===a&&d(!0)}),[a]),l.a.createElement(ne.a,{noHeader:!0,footer:[l.a.createElement(u.a,{key:"promptBtn",label:"Ok",onClick:function(){return d(!1)}})],isOpen:c,onRequestClose:function(){return d(!1)},prompt:"error",size:"small",title:"Confirmation Needed"},l.a.createElement("div",{className:"slds-m-around_medium"},"Once you save the configuration, you will lose the information for this feature you just disabled, and will need to re-enter the next time you enable the feature"))},rn=function(e){var t=e.id,a=e.label,s=e.checked,i=e.onToggle,o=e.helpText,c=void 0===o?null:o,u=e.isDestructive,d=void 0!==u&&u,m=Object(r.useState)(!1),f=Object(n.a)(m,2),E=f[0],b=f[1];return Object(r.useEffect)((function(){return b(s)}),[s]),l.a.createElement(l.a.Fragment,null,l.a.createElement(an,{label:a,helpText:c}),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement("div",{style:{width:0}},l.a.createElement(ce.a,{variant:"toggle",id:t,checked:E,onChange:i}))),d&&l.a.createElement(nn,{isADestructiveAction:E}))},ln=function(e){var t=e.s3CompatibleEndpoint,a=e.bucket,n=e.accessKeyName,r=e.secretAccessKey,s=e.enableOAuth,i=e.region,o=e.onBlur,c=e.handleCheckbox,u=e.handleCombobox;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Endpoint",required:!0,value:t,id:"s3CompatibleEndpoint",onBlur:o})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"S3 Bucket Name",required:!0,value:a,id:"bucket",onBlur:o})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ka,{label:"S3 Region",value:i,onChange:function(e){return u("region",e)}}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Access Key ID",required:!0,secured:!0,value:n,id:"accessKey",onBlur:o})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Secret Access Key",required:!0,secured:!0,value:r,id:"secretAccessKey",onBlur:o})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(rn,{label:"Enable OAuth",checked:s,id:"enableOAuth",variant:"toggle",isDestructive:!0,onToggle:c}))),!0===s&&l.a.createElement(tn,null))};ln.defaultProps={s3CompatibleEndpoint:"",bucket:"",accessKeyName:"",secretAccessKey:"",enableOAuth:!1,clientId:"",tokenUrl:"",clientSecret:"",region:""};var sn=ln,on=function(e){var t=e.s3AssumeRoleArn,a=e.s3AssumeRoleRefreshCredsInHour,n=e.s3AssumeRoleExternalId,s=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement("h3",{className:"slds-section__title"},l.a.createElement("span",{className:"slds-truncate",title:"Cloud Storage Provider"},"Assume Role Options")),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Assume Role / ARN Name",required:!0,value:t,id:"s3AssumeRoleArn",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Refresh Token / Expiry Time (Hours)",type:"number",required:!0,value:a,id:"s3AssumeRoleRefreshCredsInHour",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Assume Role External ID",value:n,id:"s3AssumeRoleExternalId",onBlur:s}))))},cn=function(e){var t=e.heading;return l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_x-small"},l.a.createElement("div",{className:"slds-col slds-size_3-of-3"},l.a.createElement("h3",{className:"slds-section__title"},l.a.createElement("span",{className:"slds-truncate",title:"Cloud Storage Provider"},t))))},un=[{label:"AES256",value:"AES256"},{label:"AWS KMS",value:"AWS KMS"},{label:"No Encryption",value:""}],dn=function(e){var t=e.serverSideEncryption,a=void 0===t?"AES256":t,n=e.serverSideEncryptionKmsKey,s=e.onBlur,i=e.handleButtonGroup;return l.a.createElement(r.Fragment,null,l.a.createElement(cn,{heading:"Server-Side Encryption"}),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement("span",{className:"slds-form-element__label"},"\xa0"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement(Ba,{options:un,value:a,id:"serverSideEncryption",onClick:i}))),"AWS KMS"===a&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"S3 KMS ID",value:n,id:"serverSideEncryptionKmsKey",onBlur:s}))))},mn=function(e){var t=e.accessKeyName,a=e.secretAccessKey,n=e.bucket,r=e.region,s=e.s3AssumeRoleEnabled,i=e.s3AssumeRoleArn,o=e.s3AssumeRoleRefreshCredsInHour,c=e.s3AssumeRoleExternalId,u=e.serverSideEncryptionKmsKey,d=e.serverSideEncryption,m=e.onBlur,f=e.handleButtonGroup,E=e.handleCheckbox,b=e.handleCombobox;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"S3 Bucket Name",required:!0,value:n,id:"bucket",onBlur:m})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ka,{label:"S3 Region",value:r,id:"region",onChange:function(e){return b("region",e)}})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Access Key ID",required:!0,secured:!0,value:t,id:"accessKey",onBlur:m}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Secret Access Key",required:!0,secured:!0,value:a,id:"secretAccessKey",onBlur:m})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(rn,{label:"Assume Role Enabled",checked:s,id:"s3AssumeRoleEnabled",variant:"toggle",isDestructive:!0,onToggle:E}))),!0===s&&l.a.createElement(on,{s3AssumeRoleArn:i,s3AssumeRoleRefreshCredsInHour:o,s3AssumeRoleExternalId:c,onBlur:m}),l.a.createElement(dn,{serverSideEncryptionKmsKey:u,serverSideEncryption:d,onBlur:m,handleButtonGroup:f}))};mn.defaultProps={accessKeyName:"",secretAccessKey:"",bucket:"",region:"",s3AssumeRoleEnabled:!1,s3AssumeRoleArn:"",s3AssumeRoleExternalId:"",s3AssumeRoleRefreshCredsInHour:12,serverSideEncryptionKmsKey:"",serverSideEncryption:""};var fn=mn,En=function(e){var t=e.storageAccountName,a=e.containerName,n=e.accountAccessKey,r=e.onBlur;return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Azure Storage Account Name",required:!0,value:t,id:"storageAccountName",onBlur:r})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Azure Container Name",required:!0,value:a,id:"containerName",onBlur:r})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Storage Account Access Key",required:!0,secured:!0,value:n,id:"accountAccessKey",onBlur:r})))},bn=function(e){var t=e.googleProjectId,a=e.googleBucketName,n=e.googlePrivateKey,s=e.googleClientEmail,i=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Google Project Id",required:!0,value:t,id:"googleProjectId",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Google Bucket Name",required:!0,value:a,id:"googleBucketName",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Google Private Key",secured:!0,required:!0,value:n,id:"googlePrivateKey",onBlur:i}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Google Client Email",value:s,id:"googleClientEmail",onBlur:i}))))};bn.defaultProps={googleProjectId:"",googleBucketName:"",googlePrivateKey:"",googleClientEmail:""};var vn=bn,pn=function(){return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(oe.a,{label:"Minio Endpoint"})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(oe.a,{label:"Minio Port"})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(oe.a,{label:"Minio Access Key"}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(oe.a,{label:"Minio Secret Key"})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(oe.a,{label:"Minio Bucket Name"}))))},gn=function(e){var t=e.dispatch,a=Sa("BASIC_CONFIG_SET_VALUE",t),n=Aa("BASIC_CONFIG_SET_VALUE",t),r=Ta("BASIC_CONFIG_SET_VALUE",t),s=Ia("BASIC_CONFIG_SET_VALUE",t);switch(e.selectedTab){case"aws":return l.a.createElement(fn,{provider:e.provider,name:e.name,accessKeyName:e.accessKey,secretAccessKey:e.secretAccessKey,bucket:e.bucket,region:e.region,s3AssumeRoleEnabled:e.s3AssumeRoleEnabled,serverSideEncryptionKmsKey:e.serverSideEncryptionKmsKey,serverSideEncryption:e.serverSideEncryption,onBlur:a,handleButtonGroup:s,handleCheckbox:r,handleCombobox:n});case"aws-ecs":return l.a.createElement(sn,{s3CompatibleEndpoint:e.s3CompatibleEndpoint,bucket:e.bucket,region:e.region,accessKeyName:e.accessKey,secretAccessKey:e.secretAccessKey,enableOAuth:e.enableOAuth,clientId:e.clientId,tokenUrl:e.tokenUrl,clientSecret:e.clientSecret,onBlur:a,handleCheckbox:r,handleCombobox:n});case"azure":return l.a.createElement(En,{storageAccountName:e.storageAccountName,containerName:e.containerName,accountAccessKey:e.accountAccessKey,onBlur:a});case"google":return l.a.createElement(vn,{googleProjectId:e.googleProjectId,googleBucketName:e.googleBucketName,googlePrivateKeyId:e.googlePrivateKeyId,googlePrivateKey:e.googlePrivateKey,googleClientEmail:e.googleClientEmail,onBlur:a});case"minio":return l.a.createElement(pn,null);default:return null}},hn=[{label:"AWS S3 Storage",value:"aws"},{label:"S3 Compatible",value:"aws-ecs"},{label:"Azure BLOB",value:"azure"},{label:"Google Cloud Platform",value:"google"}],On=function(){var e=na(),t=Object(n.a)(e,2),a=t[0],l=t[1],s=Ia("QUICK_START_FORM_SET_PROVIDER",l),i=Ra(a),o=a.provider;return Object(r.useEffect)((function(){}),[]),[{selectedTab:o,provider:i,options:hn},{handleButtonGroup:s,dispatch:l}]},_n=function(){var e=ia(),t=Object(n.a)(e,1)[0],a=_a(),r=Object(n.a)(a,2),s=r[0],i=r[1],o=Oa(s),c=On(),d=Object(n.a)(c,2),m=d[0],f=m.selectedTab,E=m.provider,b=m.options,v=d[1],p=v.handleButtonGroup,g=v.dispatch;return l.a.createElement(Z.a,{title:"Cloud Storage Provider",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},!0===o&&l.a.createElement(va,{variant:"storage",status:s.status}),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(Ba,{options:b,value:f,id:"provider",onClick:p}))),l.a.createElement(gn,Object.assign({selectedTab:f},E,{dispatch:g})),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"Validate Storage Connection",onClick:function(){var e={type:"storage",credentials:E};!0===E.enableOAuth&&(e.credentials=Object(I.a)({},e.credentials,{},t)),i(e)}}))))},Nn={environments:Object(Mt.a)({},"Heroku Provided Configuration",{dataSources:[],elastic:[],storage:[],metadataBackup:[],syncAnalytics:[],timeMachine:[{}],pushToQueue:[{}],oauth:[{}],variables:{}}),globalEnvironmentDefaults:{asyncAttachmentProcessorOrganizationIds:[],asyncBulkLoadOrganizationIds:[],asyncQueueOrganizationIds:[],syncSalesforceEinsteinOrganizationIds:[],syncSalesforceSourceOrganizationIds:[],metadataBackupOrganizationIds:[],odataOrganizationIds:[]}},yn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(x.a)(this,e),this.configuration=this.initializeConfiguration(t)}return Object(za.a)(e,[{key:"initializeConfiguration",value:function(e){var t=Object(I.a)({},e);return t.environments&&0!==Object.keys(t.environments).length||(t=Object(I.a)({},t,{environments:Nn.environments})),t.globalEnvironmentDefaults||(t=Object(I.a)({},t,{globalEnvironmentDefaults:Nn.globalEnvironmentDefaults})),ua.a.merge({},t)}},{key:"_findDataSourceByOrgId",value:function(e){var t=this.environment.dataSources.filter((function(t){return t.organizationId===e}));return 0===t.length?null:t[0]}},{key:"_removeOrgIdFromGlobals",value:function(e,t){var a=this;t.forEach((function(t){if(t.endsWith("Ids")){var n=a.globals[t].indexOf(e);-1!==n&&a.globals[t].splice(n,1)}else t.endsWith("Id")&&a.globals[t]===e&&delete a.globals[t]}))}},{key:"environment",get:function(){var e=Object.keys(this.configuration.environments)[0];return this.configuration.environments[e]}},{key:"globals",get:function(){return this.configuration.globalEnvironmentDefaults}},{key:"sessionCacheTimeoutMinutes",get:function(){return this.globals.sessionCacheTimeoutMinutes},set:function(e){this.globals.sessionCacheTimeoutMinutes=e}},{key:"asyncIntervalMinutes",get:function(){return this.globals.asyncIntervalMinutes},set:function(e){this.globals.asyncIntervalMinutes=e}},{key:"bulkRestoreDestinationDataSource",get:function(){return this._findDataSourceByOrgId(this.globals.bulkRestoreDestinationOrganizationId)}},{key:"dataSources",get:function(){return this.environment.dataSources},set:function(e){this.environment.dataSources=e}},{key:"elastic",get:function(){return this.environment.elastic[0]},set:function(e){this.environment.elastic=[e]}},{key:"metadataBackup",get:function(){return this.environment.metadataBackup[0]},set:function(e){this.environment.metadataBackup=e}},{key:"pushToQueue",get:function(){return this.environment.pushToQueue[0]},set:function(e){this.environment.pushToQueue=e}},{key:"sourceDataSource",get:function(){return this._findDataSourceByOrgId(this.globals.asyncAttachmentProcessorOrganizationIds[0])}},{key:"syncSalesforceEinsteinOrganizationId",get:function(){return(this.globals.syncSalesforceEinsteinOrganizationIds||[])[0]}},{key:"syncSalesforceEinsteinDataSources",get:function(){var e=this;return(this.globals.syncSalesforceEinsteinOrganizationIds||[]).map((function(t){return e._findDataSourceByOrgId(t)}))[0]||null}},{key:"storage",get:function(){return this.environment.storage[0]},set:function(e){this.environment.storage=[e]}},{key:"oauth",get:function(){return this.environment.oauth[0]},set:function(e){var t=this.storage.enableOAuth;this.environment.oauth=!0===t?[e]:[{}]}},{key:"syncAnalytics",get:function(){return this.environment.syncAnalytics[0]},set:function(e){var t=e.isEinsteinAnalyticsEnabled,a=e.isMarketingCloudEnabled,n=Object(f.a)(e,["isEinsteinAnalyticsEnabled","isMarketingCloudEnabled"]),r=Object(I.a)({},n);if(void 0===t||!1===t){n.syncEinsteinAnalyticsDatasetName,n.syncSalesforceObjects;var l=Object(f.a)(n,["syncEinsteinAnalyticsDatasetName","syncSalesforceObjects"]),s=this.syncSalesforceEinsteinOrganizationId;void 0!==s&&this._removeOrgIdFromGlobals(s,["syncSalesforceEinsteinOrganizationIds"]),r=l}if(!1===a){n.marketingCloudHost,n.marketingCloudUser,n.marketingCloudPassword,n.marketingCloudPort;r=Object(f.a)(n,["marketingCloudHost","marketingCloudUser","marketingCloudPassword","marketingCloudPort"])}this.environment.syncAnalytics=[r]}},{key:"timeMachine",get:function(){return this.environment.timeMachine[0]},set:function(e){this.environment.timeMachine=[e]}},{key:"variables",get:function(){return this.environment.variables},set:function(e){this.environment.variables=e}}]),e}(),Cn=function(e){var t=function(){var e=V(),t=Object(n.a)(e,2),a=t[0],r=t[1];return[a,function(e){return r({url:j.h,method:"POST",data:e})}]}(),a=Object(n.a)(t,2),l=a[0],s=l.isLoading,i=l.error,o=l.data,c=l.success,u=a[1],d=ht(),m=Object(n.a)(d,2)[1],f=m.successNotification,E=m.errorNotification,b=ut().goToSummary;return gt(s),Object(r.useEffect)((function(){!1===c&&E(function(e){var t=e.invalidCredentials,a=void 0===t?{}:t,n=e.schemaValidationErrors,r=void 0===n?[]:n,l=Object.keys(a);if(l.length>0)return"invalidOrganizationId"===a.sourceDataSource?"You cannot enter SFDC credentials for a SFDC org different than the org you are currently in":"Invalid Credentials: ".concat(l.map((function(e){return ma[e]})).join(", "));if(r.length>0){var s=r[0];for(var i in s){if(void 0===s[i].schemaPath)return"Invalid credentials: Salesforce connections must have a unique name";if(s[i].schemaPath.includes("#/definitions/metadataBackup"))return"Invalid credentials: Git Integration"}}return"Unknown error saving configuration"}(i))}),[i,c]),Object(r.useEffect)((function(){!0===c&&(f("Configuration saved successfully"),e({type:"CONFIGURATION_RELOAD_STATE",payload:o.configuration}),b())}),[o,c]),u},jn=function(e,t){var a=t.payload,n=t.type;switch(n){case"ENVIRONMENT_VARIABLE_SET_VARS":return Object(I.a)({},e,{variables:Object(I.a)({},e.variables,{},a)});case"ENVIRONMENT_VARIABLE_SET_TIME_MACHINE":return Object(I.a)({},e,{timeMachine:Object(I.a)({},e.timeMachine,{},a)});case"ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE":return Object(I.a)({},e,{pushToQueue:Object(I.a)({},e.pushToQueue,{},a)});default:return zt(e,{payload:a,type:n})}},Sn=Object(r.createContext)(),An=Object(r.createContext)(),Tn=function(){return[it(Sn),ot(An)]},In=Vt(Sn,An,{variables:{},timeMachine:{},pushToQueue:{},asyncIntervalMinutes:"10",sessionCacheTimeoutMinutes:"15"},jn),Rn=Object(r.createContext)(),kn=Object(r.createContext)(),Dn=function(){return[it(Rn),ot(kn)]},wn=Vt(Rn,kn,{isEnabled:!1,sourceControlEnabled:!1,sourceControlProvider:"github"}),xn=Object(r.createContext)(),Pn=Object(r.createContext)(),Bn=function(){return[it(xn),ot(Pn)]},Mn=Vt(xn,Pn),zn=function(e){return null!==e&&"object"===typeof e?Object.entries(e).reduce((function(t,a){var r=Object(n.a)(a,2),l=r[0],s=r[1],i=Object(I.a)({},t);return""!==s&&void 0!==s&&null!==s&&(i[l]=e[l]),i}),{}):e},Fn=function(e,t){t.type,t.provider,t.organizationId;var a=Object(f.a)(t,["type","provider","organizationId"]);return!0===Object.keys(zn(a)).length>0?[].concat(Object(fe.a)(e),[t]):e},Un=function(){var e=yt(),t=Object(n.a)(e,2),a=t[0],r=t[1],l=na(),s=Object(n.a)(l,1)[0],i=Dn(),o=Object(n.a)(i,1)[0],c=Bn(),u=Object(n.a)(c,1)[0],d=Ht(),m=Object(n.a)(d,1)[0],E=Ra(m),b=Ra(s),v=Tn(),p=Object(n.a)(v,1)[0],g=p.pushToQueue,h=p.timeMachine,O=p.variables,_=p.sessionCacheTimeoutMinutes,N=p.asyncIntervalMinutes,y=Cn(r);return function(){var e=new yn(a);!0===u.isEinsteinAnalyticsEnabled&&(e.dataSources=Fn(e.dataSources,E.syncSalesforceEinstein)),e.dataSources=Fn(e.dataSources,E.bulkRestoreDestination),e.metadataBackup=function(e){var t=e.isEnabled,a=e.sourceControlEnabled,n=e.sourceControlProvider,r=[];if(t&&a)if("gitlab"===n){e.gitUserId;var l=Object(f.a)(e,["gitUserId"]);r.push(zn(l))}else r.push(zn(e));else r.push({isEnabled:!!t,sourceControlEnabled:!1});return r}(o),e.pushToQueue=function(e){var t=[];if("Kafka"===e.provider){var a=e.provider,n=e.authorizationToken,r=e.apiEndpoint;t.push(zn({provider:a,authorizationToken:n,apiEndpoint:r}))}else if("Apigee"===e.provider){var l=e.provider,s=e.apiClientId,i=e.apiEndpoint,o=e.apiClientSecret;t.push(zn({provider:l,apiClientId:s,apiEndpoint:i,apiClientSecret:o}))}else t.push({});return t}(g),e.variables=function(e){var t=e;return void 0!==e.cdcEnabled&&(t=Object(I.a)({},t,{cdcEnabled:e.cdcEnabled.toString()})),zn(t)}(O),e.storage=zn(b),e.syncAnalytics=zn(u),e.timeMachine=zn(h),e.asyncIntervalMinutes=N,e.sessionCacheTimeoutMinutes=_,y(e.configuration)}},Vn=function(){var e=yt(),t=Object(n.a)(e,2),a=t[0],r=t[1],l=Ht(),s=Object(n.a)(l,1)[0],i=Jt(),o=Object(n.a)(i,1)[0],c=na(),u=Object(n.a)(c,1)[0],d=ia(),m=Object(n.a)(d,1)[0],f=Ra(s),E=Ra(o),b=Ra(u),v=Cn(r);return function(){var e,t=new yn(a);t.dataSources=Fn(t.dataSources,f.sourceDataSource),t.elastic=null!==(e=E)&&"object"===typeof e?Object.entries(e).reduce((function(t,a){var r=Object(n.a)(a,2),l=r[0],s=r[1],i=Object(I.a)({},t);return""!==s&&void 0!==s&&null!==s&&(i[l]=e[l]),i}),{}):e,t.storage=Object(I.a)({},b,{provider:"aws-ecs"===b.provider?"aws":b.provider}),t.oauth=m,v(t.configuration)}},Ln=function(e){var t=e.isAnExistingConfig,a=e.formRef,n=e.onSubmit,r=ut(),s=r.goToStartProvisioning,i=r.goToSummary;return l.a.createElement("div",{className:"slds-grid slds-m-bottom_medium",style:{justifyContent:"flex-end"}},l.a.createElement(u.a,{className:"slds-m-right_x-small",label:"Save",variant:"brand",type:void 0!==a?"submit":"button",onClick:function(){void 0!==a?!0===a.current.checkValidity()&&n():n()}}),l.a.createElement(u.a,{label:"Cancel",onClick:function(){return(!0===t?i:s)()}}))},Gn=function(e){var t=e.isAnExistingConfig,a=e.formRef,n=Vn();return l.a.createElement(Ln,{isAnExistingConfig:t,formRef:a,onSubmit:n})},qn=function(){var e=yt()[0],t=Object(r.createRef)(),a=Ot(e),n=new yn(e);return[{dataSources:{sourceDataSource:Object(I.a)({},n.sourceDataSource,{type:"sourceDataSource"})},elastic:n.elastic,storage:n.storage,oauth:n.oauth,formRef:t,hashKey:n.hashKey,isAnExistingConfig:a}]},Kn=function(){var e=qn(),t=Object(n.a)(e,1)[0],a=t.dataSources,r=t.elastic,s=t.storage,i=t.oauth,o=t.formRef,c=t.isAnExistingConfig;return l.a.createElement(Wt,{value:a},l.a.createElement(Xt,{value:r},l.a.createElement(ra,{value:Object(I.a)({},s,{oauth:i})},l.a.createElement(oa,{value:i},l.a.createElement("form",{ref:o,onSubmit:function(e){return e.preventDefault()}},l.a.createElement(Dt,{text:"Ensure you have the correct credentials for ALL sections before beginning.\n        Upon saving the page, a test will be made to verify each connection.\n        You will not be able to save until all connections are validated."}),l.a.createElement(Gn,{isAnExistingConfig:c,formRef:o}),l.a.createElement(xa,null),l.a.createElement($a,null),l.a.createElement(_n,null))))))},Hn=[{label:"Github",value:"github"},{label:"GitLab",value:"gitlab"}],Wn=function(e){return[{options:Hn}]},Yn=function(e){var t=e.sourceControlProvider,a=e.gitRepositoryName,s=e.gitRepoAuthorizationToken,i=e.gitUserId,o=e.handleButtonGroup,c=e.onBlur,u=Wn(),d=Object(n.a)(u,1)[0].options;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ba,{options:d,value:t,id:"sourceControlProvider",onClick:o}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Git Repository Name",required:!0,value:a,id:"gitRepositoryName",onBlur:c})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Git Repository Authorization Token",helpText:"In Github you should be able to find by navigating to: user>settings>developer settings>personal access token>generate token",required:!0,secured:!0,value:s,id:"gitRepoAuthorizationToken",onBlur:c})),"github"===t&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Git User ID",required:!0,value:i,id:"gitUserId",onBlur:c}))))},Zn=function(){var e=Dn(),t=Object(n.a)(e,2),a=t[0],r=t[1],s=Sa("ADVANCED_CONFIG_SET_VALUE",r),i=Ia("ADVANCED_CONFIG_SET_VALUE",r),o=Ta("ADVANCED_CONFIG_SET_VALUE",r),c=a.isEnabled,u=a.sourceControlEnabled,d=a.sourceControlProvider,m=a.gitRepositoryName,f=a.gitRepoAuthorizationToken,E=a.gitUserId;return l.a.createElement(Z.a,{title:"Metadata Backup Settings",className:"slds-m-bottom_medium slds-m-top_none"},l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-bottom_x-small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(rn,{label:"Enable Metadata Backup",helpText:"By default, metadata will always be backed up to the configured cloud storage provider.",id:"isEnabled",checked:c,isDestructive:!0,onToggle:o})),!0===c&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(rn,{label:"Enable Git Integration",id:"sourceControlEnabled",checked:u,isDestructive:!0,variant:"toggle",onToggle:o}))),!0===c&&!0===u&&l.a.createElement(Yn,{gitRepositoryName:m,gitRepoAuthorizationToken:f,gitUserId:E,sourceControlProvider:d,handleButtonGroup:i,onBlur:s}))},Qn=function(){return l.a.createElement(r.Fragment,null,l.a.createElement(cn,{heading:"Einstein Salesforce Destination"}),l.a.createElement("div",{className:" slds-m-top_x-small"},l.a.createElement(wa,{showConnectionName:!0,variant:"syncSalesforceEinstein"})))},Jn=function(e){var t=e.marketingCloudHost,a=e.marketingCloudUser,n=e.marketingCloudPassword,s=e.marketingCloudPort,i=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement(cn,{heading:"Marketing Cloud Settings"}),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Marketing Cloud Host (FTP)",required:!0,value:t,id:"marketingCloudHost",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Marketing Cloud Username (FTP)",required:!0,value:a,id:"marketingCloudUser",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Marketing Cloud Password (FTP)",required:!0,secured:!0,value:n,id:"marketingCloudPassword",onBlur:i}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Marketing Cloud Port (FTP)",type:"number",required:!0,value:s,id:"marketingCloudPort",onBlur:i}))))},Xn=function(e){var t=Bn(),a=Object(n.a)(t,2),l=a[0],s=a[1],i=Sa("ADVANCED_CONFIG_SET_VALUE",s),o=Ta("ADVANCED_CONFIG_SET_VALUE",s),c=ja("ADVANCED_CONFIG_SET_VALUE",s),u=l.marketingCloudHost,d=l.marketingCloudUser,m=l.marketingCloudPassword,f=l.marketingCloudPort,E=l.syncQueryFile,b=l.syncBatchSize,v=l.syncDestinationAnalyticsUrl,p=l.isEinsteinAnalyticsEnabled,g=l.isMarketingCloudEnabled;return Object(r.useEffect)((function(){void 0!==e&&c("isEinsteinAnalyticsEnabled",!0)}),[e]),Object(r.useEffect)((function(){void 0!==u&&c("isMarketingCloudEnabled",!0)}),[u]),[{isEinsteinAnalyticsEnabled:p,isMarketingCloudEnabled:g,marketingCloudHost:u,marketingCloudUser:d,marketingCloudPassword:m,marketingCloudPort:f,syncQueryFile:E,syncBatchSize:b,syncDestinationAnalyticsUrl:v},{onBlur:i,handleCheckbox:o}]},$n=function(e){var t=e.syncSalesforceEinsteinOrganizationId,a=Xn(t),r=Object(n.a)(a,2),s=r[0],i=s.isEinsteinAnalyticsEnabled,o=s.isMarketingCloudEnabled,c=s.marketingCloudHost,u=s.marketingCloudUser,d=s.marketingCloudPassword,m=s.marketingCloudPort,f=s.syncQueryFile,E=s.syncBatchSize,b=r[1],v=b.onBlur,p=b.handleCheckbox;return l.a.createElement(Z.a,{title:"Data Sync",className:"slds-m-bottom_medium slds-m-top_none"},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(rn,{label:"Einstein Analytics",checked:i,id:"isEinsteinAnalyticsEnabled",isDestructive:!0,variant:"toggle",onToggle:p})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(rn,{label:"Marketing Cloud",checked:o,id:"isMarketingCloudEnabled",isDestructive:!0,variant:"toggle",onToggle:p}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Query File",helpText:"Please ensure the query file is a json file and .json is included in the file name you enter here. This json configuration query file must be stored in the following path of your cloud storage providerExample Path: Amazon S3 > Vandelay Industries Prod Bucket > grax > audittrail > salesforce > Org ID of Salesforce Environment > configurationqueryfile.json",required:!0,value:f,id:"syncQueryFile",onBlur:v})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,{label:"Batch Size",type:"number",value:E,id:"syncBatchSize",onBlur:v}))),!0===i&&l.a.createElement(Qn,null),o&&l.a.createElement(Jn,{marketingCloudHost:c,marketingCloudUser:u,marketingCloudPassword:d,marketingCloudPort:m,onBlur:v}))},er=function(e){var t=e.isOpen,a=e.onRequestClose,n=e.confirm;return l.a.createElement(ne.a,{noHeader:!0,footer:[l.a.createElement(u.a,{key:"promptBtn",label:"Cancel",onClick:a}),l.a.createElement(u.a,{key:"promptBtn",label:"Confirm",variant:"brand",onClick:n})],isOpen:t,onRequestClose:a,prompt:"error",size:"medium",title:"Confirmation Needed to Reveal Section"},l.a.createElement("div",{className:"slds-m-around_medium"},"This section is meant for configuring system settings that only an advanced GRAX admin or enablement engineer will be familiar with. Please proceed with caution and reach out to GRAX Support if you have any questions."))},tr=a(2),ar=a.n(tr),nr=(a(202),function(e){var t=e.children,a=e.title,s=(e.helpText,e.isOpen),i=void 0!==s&&s,o=e.nonCollapsible,c=void 0!==o&&o,d=e.className,m=void 0===d?"slds-m-bottom_medium slds-m-top_none":d,f=Object(r.useState)(!!c||i),E=Object(n.a)(f,2),b=E[0],v=E[1],p=l.a.createElement("span",{className:ar()("slds-truncate",{"slds-p-horizontal_small":!!c}),title:a},a),g=c?p:l.a.createElement(u.a,{iconCategory:"utility",iconClassName:"slds-section__title-action-icon slds-button__icon_left",iconName:"switch",onClick:function(){return v(!b)},className:"slds-section__title-action",variant:"base"},p);return l.a.createElement("div",{className:ar()(m,"slds-section",{"slds-is-open":b})},l.a.createElement("h3",{className:ar()("slds-section__title",{"slds-theme_shade":!!c})},g),l.a.createElement("div",{className:"slds-section__content"},t))}),rr=function(e){return function(t){return function(a){var s=Object.assign({},a),i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1],m=Object(r.useState)(!1),f=Object(n.a)(m,2),E=f[0],b=f[1],v=Object(r.useState)(!1),p=Object(n.a)(v,2),g=p[0],h=p[1];return l.a.createElement(nr,{title:e},!1===c&&l.a.createElement(u.a,{iconCategory:"utility",iconVariant:"bare",iconName:c?"hide":"preview",iconPosition:"left",onClick:function(){!1===c&&!1===g?b(!0):d(!c)},variant:"base",label:c?"Hide Fields":"Reveal Fields",className:"slds-m-top_x-small"}),!0===c&&l.a.createElement("ul",null,l.a.createElement(t,s)),l.a.createElement(er,{isOpen:E,onRequestClose:function(){return b(!1)},confirm:function(){d(!0),b(!1),g||h(!0)}}))}}},lr=function(e){var t=e.label,a=e.variableName,n=e.type,r=e.value,s=e.onBlur,i=Object(f.a)(e,["label","variableName","type","value","onBlur"]);return l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(ha,Object.assign({label:t,id:a,type:n,value:r,onBlur:function(e){return s(e,{valueCasting:!1})},valueCasting:!0},i)))},sr=rr("Attachment Settings")((function(e){var t=e.ATTACHMENT_BATCH_SIZE,a=e.ATTACHMENT_PROCESSING_SECONDS_PER_RECORD,n=e.onBlur;return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(lr,{label:"Attachment Batch Size",helpText:"Used by async attachment process to grab this many attachments at a size (default = 5000)",variableName:"ATTACHMENT_BATCH_SIZE",value:t,type:"number",onBlur:n}),l.a.createElement(lr,{label:"Attachment Processing Seconds Per Record",helpText:"Used for attachment processing expiry time calculations (default = 5 seconds)",variableName:"ATTACHMENT_PROCESSING_SECONDS_PER_RECORD",value:a,onBlur:n}))})),ir=(rr("Org Migration Settings")((function(e){var t=e.GRAX_SYNCHID,a=e.RESTORE_SLEEP_DURATION,n=e.GRAX_OBJECT_TYPES_TO_RESTORE,r=e.GRAX_MAX_RESTORE,s=e.onBlur;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(lr,{label:"Synch ID",variableName:"GRAX_SYNCHID",value:t,type:"number",onBlur:s}),l.a.createElement(lr,{label:"Bulk Restore Sleep Duration (Minutes)",variableName:"RESTORE_SLEEP_DURATION",value:a,onBlur:s}),l.a.createElement(lr,{label:"Objects to Restore",variableName:"GRAX_OBJECT_TYPES_TO_RESTORE",value:n,onBlur:s})),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(lr,{label:"Bulk Restore Max Batch Size",variableName:"GRAX_MAX_RESTORE",value:r,type:"number",onBlur:s})),l.a.createElement(cn,{heading:"Bulk Restore Salesforce Destination"}),l.a.createElement("div",{className:"slds-m-top_x-small"},l.a.createElement(wa,{showConnectionName:!0,variant:"bulkRestoreDestination"})))})),rr("Point in Time Restore")((function(e){var t=e.queryFile,a=e.onBlur;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(lr,{label:"Point-in-Time Restore Query File",variableName:"queryFile",value:t,required:!0,onBlur:a})))})),[{label:"Apigee",value:"Apigee"},{label:"Kafka",value:"Kafka"}]),or=(rr("Push to Queue")((function(e){var t=e.provider,a=e.apiEndpoint,n=e.apiClientId,r=e.apiClientSecret,s=e.authorizationToken,i=e.onToggle,o=e.onBlur,c=[];if("Apigee"===t||"Kafka"===t)switch(c.push(l.a.createElement(lr,{label:"Push-to-Queue API Endpoint",variableName:"apiEndpoint",value:a,required:!0,onBlur:o})),t){case"Apigee":c.push([l.a.createElement(lr,{label:"Push-to-Queue API Client ID",variableName:"apiClientId",value:n,required:!0,onBlur:o}),l.a.createElement(lr,{label:"Push-to-Queue API Client Secret",variableName:"apiClientSecret",value:r,required:!0,onBlur:o})]);break;case"Kafka":c.push(l.a.createElement(lr,{label:"Push-to-Queue Authorization Token",variableName:"authorizationToken",value:s,required:!0,onBlur:o}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_x-small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ba,{options:ir,value:t,required:!1,onClick:function(e){return i("provider",e)}}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},c))})),rr("Other")((function(e){var t=e.asyncIntervalMinutes,a=e.asyncIntervalMinutesOnBlur,r=na(),s=Object(n.a)(r,2),i=s[0],o=s[1];i.storageOff,Ta("BASIC_CONFIG_SET_VALUE",o);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(lr,{label:"Async Interval (minutes)",helpText:"Determines the interval that the asynchronous heroku dyno runs at. Note that if you have set GRAX_ENV_ASYNC_INTERVAL_MINUTES in your heroku config vars, that value will override this field.",variableName:"asyncIntervalMinutes",value:t,required:!0,type:"number",onBlur:a}),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},!1)))}))),cr=function(){var e=Tn(),t=Object(n.a)(e,2),a=t[0],r=t[1],s=a.variables,i=void 0===s?{}:s,o=a.timeMachine,c=void 0===o?{}:o,u=a.pushToQueue,d=void 0===u?{}:u,m=a.asyncIntervalMinutes,f=(d.provider,d.apiEndpoint,d.apiClientId,d.apiClientSecret,d.authorizationToken,c.queryFile,i.cdcEnabled,i.ATTACHMENT_BATCH_SIZE),E=i.ATTACHMENT_PROCESSING_SECONDS_PER_RECORD,b=(i.GRAX_SYNCHID,i.RESTORE_SLEEP_DURATION,i.GRAX_OBJECT_TYPES_TO_RESTORE,i.GRAX_MAX_RESTORE,Ta("ENVIRONMENT_VARIABLE_SET_VARS",r),Sa("ENVIRONMENT_VARIABLE_SET_VARS",r)),v=(Sa("ENVIRONMENT_VARIABLE_SET_TIME_MACHINE",r),ja("ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE",r),Sa("ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE",r),Sa("ADVANCED_CONFIG_SET_VALUE",r));return l.a.createElement(l.a.Fragment,null,!1,l.a.createElement(sr,{ATTACHMENT_BATCH_SIZE:f,ATTACHMENT_PROCESSING_SECONDS_PER_RECORD:E,onBlur:b}),!1,!1,!1,l.a.createElement(or,{asyncIntervalMinutes:m,asyncIntervalMinutesOnBlur:v}))},ur=function(e){var t=e.isAnExistingConfig,a=Un();return l.a.createElement(Ln,{isAnExistingConfig:t,onSubmit:a})},dr=function(){var e=yt(),t=Object(n.a)(e,1)[0],a=Object(r.createRef)(),l=Ot(t),s=new yn(t),i=s.asyncIntervalMinutes,o=s.sessionCacheTimeoutMinutes,c=s.storage,u=s.oauth,d=s.metadataBackup,m=s.syncAnalytics,f=s.variables,E=s.timeMachine,b=s.pushToQueue,v=s.syncSalesforceEinsteinOrganizationId;return{dataSources:{syncSalesforceEinstein:Object(I.a)({},s.syncSalesforceEinsteinDataSources,{type:"syncSalesforceEinstein"}),bulkRestoreDestination:Object(I.a)({},s.bulkRestoreDestinationDataSource,{type:"bulkRestoreDestination"})},storage:c,oauth:u,metadataBackup:d,syncAnalytics:m,environmentVariables:{asyncIntervalMinutes:i,sessionCacheTimeoutMinutes:o,variables:f,timeMachine:E,pushToQueue:b},syncSalesforceEinsteinOrganizationId:v,isAnExistingConfig:l,formRef:a}},mr=function(){var e=dr(),t=e.dataSources,a=e.storage,n=e.oauth,r=e.syncSalesforceEinsteinOrganizationId,s=e.metadataBackup,i=e.syncAnalytics,o=e.environmentVariables,c=e.isAnExistingConfig;return l.a.createElement(wn,{value:s},l.a.createElement(Wt,{value:t},l.a.createElement(Mn,{value:i},l.a.createElement(In,{value:o},l.a.createElement(ra,{value:Object(I.a)({},a,{oauth:n})},l.a.createElement(oa,{value:n},l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},l.a.createElement(Dt,{text:"Please note that fields designated with * should be filled out\n                  in order for a particular feature to work as expected"}),l.a.createElement(ur,{isAnExistingConfig:c}),l.a.createElement(Zn,null),l.a.createElement($n,{syncSalesforceEinsteinOrganizationId:r}),l.a.createElement(cr,null))))))))},fr=a(145),Er=function(e){var t={};return e.forEach((function(e){t[e.type]=br(e)})),t},br=function(e){var t=e.type,a=Object(f.a)(e,["type"]),n=[],r=Object.keys(a),l=fr[t];return l.map((function(e){return e.jsonName})).forEach((function(e){if(r.includes(e)){var t=l.filter((function(t){return t.jsonName===e}))[0].displayName,s=vr(e,a[e]);n.push({label:t,content:s,truncate:!0})}})),n},vr=function(e,t){return"provider"===e?"aws"===t?"AWS":ua.a.upperFirst(t):"region"===e?La[t]:ua.a.toString(t)},pr=function(e){var t=Object(r.useState)({}),a=Object(n.a)(t,2),l=a[0],s=a[1];return Object(r.useEffect)((function(){if(e){var t=new yn(e),a=t.elastic,n=t.storage,r=t.sourceDataSource,l=Er([Object(I.a)({},a,{type:"elastic"}),Object(I.a)({},n,{type:"storage"}),Object(I.a)({},r,{type:"salesforce"})]);s(l)}}),[e]),l},gr=function(e){var t=e.configuration,a=pr(t),n=a.salesforce,r=a.elastic,o=a.storage;return l.a.createElement(i.a,{hasNoHeader:!0,className:"slds-card__body_inner"},l.a.createElement(s.a,{title:"Salesforce Source",variant:"record-home",details:n}),l.a.createElement(s.a,{title:"Elasticsearch",variant:"record-home",details:r}),l.a.createElement(s.a,{title:"Cloud Storage",variant:"record-home",details:o}))},hr=function(){var e=yt(),t=Object(n.a)(e,1)[0],a=ut(),r=a.goToBasicConfiguration,o=a.goToAdvancedConfiguration,d=l.a.createElement(da.a,{assistiveText:{label:"Required Configuration"},category:"standard",name:"calibration"}),m=l.a.createElement(da.a,{assistiveText:{label:"Advanced Configuration"},category:"standard",name:"custom"});return l.a.createElement("div",{className:"summaryCard"},l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement(s.a,{onRenderActions:function(){return l.a.createElement(c.a,null,l.a.createElement(u.a,{label:"Update Credentials",onClick:function(){return r()}}))},title:"Required Configuration",variant:"record-home",icon:d}),l.a.createElement(gr,{configuration:t})),l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement(s.a,{onRenderActions:function(){return l.a.createElement(c.a,null,l.a.createElement(u.a,{label:"Edit Advanced Configuration",onClick:function(){return o()}}))},title:"Advanced Configuration",variant:"record-home",icon:m}),l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement(kt.a,{theme:"dark"},l.a.createElement("p",null,"Only advanced users should edit these settings.")))))},Or=[{path:j.o,key:"".concat(j.o,"2"),component:Rt,routes:[{exact:!0,key:j.q,path:j.q,component:wt},{exact:!0,key:j.p,path:j.p,component:hr},{exact:!0,key:j.r,path:j.r,component:Bt},{exact:!0,key:j.m,path:j.m,component:Kn},{exact:!0,key:j.l,path:j.l,component:mr}]},{exact:!0,key:j.g,path:j.g,component:Y},{exact:!0,key:j.e,path:j.e,component:Xe},{exact:!0,key:j.f,path:j.f,component:Xe},{exact:!0,key:j.b,path:j.b,component:st}];t.a=Or},153:function(e,t,a){e.exports=a(250)},158:function(e,t,a){},160:function(e,t,a){},20:function(e,t,a){"use strict";a.d(t,"n",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"k",(function(){return d})),a.d(t,"j",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return O})),a.d(t,"m",(function(){return C})),a.d(t,"e",(function(){return y})),a.d(t,"i",(function(){return j})),a.d(t,"f",(function(){return S})),a.d(t,"g",(function(){return A}));var n=a(7),r=a(21),l=a.n(r);a.d(t,"l",(function(){return l.a}));a(161),a(164);var s=a(31),i=a.n(s),o=l.a.locales();function c(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function u(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}var d=null!=window.parent,m=!0===navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),f=/^((?:(?:19|20)\d{2})-(?:10|11|12|0?\d)-(?:30|31|(?:0|1|2)\d))((?:(?:T|\s)(?:(?:0|1|2)\d)(?:\:[0-5]\d)(?::[0-5]\d)?((?:(?:\.\d{3})?)?Z?(?:[+-](?:0|1|2)\d\:?[0-5]\d)?))?)$/,E="L LT",b="L",v=window.location.search.match(/[\?&]locale\=([^&]+)/),p=window.location.search.match(/[\?&]tz\=([^&]+)/),g=window.navigator.userLanguage||window.navigator.language,h=v?decodeURIComponent(v[1]).split("_").join("-"):g,O=p?decodeURIComponent(p[1]):l.a.tz.guess(),_={"in-ID":"id","iw-IL":"he","lu-CD":"yo","no-NO":"nb","rm-CH":"nl","rn-BI":"yo","sh-BA":"sr","sh-CS":"sr","sh-ME":"sr","sh-ME-USD":"sr","so-DJ":"fr","so-SO":"fr","sr-BA":"sr-cyrl","sr-CS":"sr-cyrl","ti-ET":"fr","xh-ZA":"af","zh-MO":"zh-hk","zh-SG":"zh-hk","zu-ZA":"en"};console.log("Available localizations: "+o.join(", "));var N=h;null!=_[N]&&(N=_[N]),N=N.toLowerCase(),-1===o.indexOf(N)&&-1!==h.indexOf("-")&&(N=N.split("-")[0]),-1!==o.indexOf(N)?l.a.locale(N):l.a.locale("en"),O&&l.a.tz.setDefault(O),console.log("User Locale: "+h),console.log("Trying to use locale: ",N),console.log("Available Locale: "+l.a.locale()),console.log("User TimeZone: "+O);var y=function(e){var t=e.inputValue,a=e.limit,n=void 0===a?10:a,r=e.options,l=(e.selection,new RegExp(i.a.escapeRegExp(t),"ig"));return i.a.filter(r,(function(e,a){return!t||"separator"===e.type||e.label.match(l)||e.id.match(l)})).splice(0,n)},C=function(e,t,a){return Object.assign({},e,Object(n.a)({},t,a))},j=function(e){var t=e.date,a=e.timezone,n=void 0===a?O:a,r=e.inputFormat,s=void 0===r?"YYYY-MM-DD":r,i=e.outputFormat,o=void 0===i?"YYYY-MM-DDTHH:mm:ss.SSS":i;return[l.a.tz(t,s,n).startOf("day").utc().format(o),l.a.tz(t,s,n).endOf("day").utc().format(o)]},S=function(e){return e?l()(e).format(b):""},A=function(e){return l()(e,b).toDate()}},250:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),s=a.n(l),i=(a(158),a(113));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(i.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,a){"use strict";a.d(t,"n",(function(){return n})),a.d(t,"o",(function(){return r})),a.d(t,"p",(function(){return l})),a.d(t,"m",(function(){return s})),a.d(t,"l",(function(){return i})),a.d(t,"r",(function(){return o})),a.d(t,"q",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return E})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return v})),a.d(t,"j",(function(){return p})),a.d(t,"d",(function(){return g})),a.d(t,"s",(function(){return h})),a.d(t,"a",(function(){return O})),a.d(t,"k",(function(){return _}));var n="/grax-app/client/cloud",r="".concat(n,"/configuration"),l="".concat(r,"/summary"),s="".concat(r,"/basic-configuration"),i="".concat(r,"/advanced-configuration"),o="".concat(r,"/new-configuration"),c="".concat(r,"/empty-landing-page"),u="".concat(n,"/dedup"),d="".concat(u,"/scenarios"),m="".concat(u,"/scenarios/:scenario_id"),f="".concat(u,"/scenarios/new"),E="".concat(u,"/duplicates/:scenario_id"),b="/grax-app/cloud-configuration",v="".concat(b,"/validations"),p="/grax-app/grax-data-lake",g="/graxproxy/api/dedup",h="".concat(g,"/scenarios"),O="".concat("/grax-app/assets","/assets/icons/"),_="https://documentation.grax.io/docs/configuration-new"},60:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a(0),r=a.n(n),l=a(1),s=a.n(l),i=a(149),o=a(6),c=(s.a.arrayOf(s.a.shape({key:s.a.string.isRequired,path:s.a.oneOf([o.o,o.m,o.n,o.l,o.q,o.g,o.e,o.f,o.b]).isRequired,exact:s.a.bool,component:s.a.elementType.isRequired})).isRequired,function(e){var t=[];return"configuration"===e?t.push(o.o):"cloud"===e?t.push(o.r):t.push("/"),t});t.a=function(e){var t=e.routes,a=void 0===t?[]:t;return r.a.createElement(n.Fragment,null,a.map((function(e){return r.a.createElement(i.b,{key:e.key,path:e.path,exact:e.exact,render:function(){return r.a.createElement(e.component,{routes:e.routes})}})})))}}},[[153,4,5]]]);
//# sourceMappingURL=main.0984d4d6.chunk.js.map