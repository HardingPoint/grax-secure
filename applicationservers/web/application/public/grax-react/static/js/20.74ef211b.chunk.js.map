{"version":3,"sources":["components/GRAXRestoreTabs.jsx","lib/grax-data-lake.js"],"names":["GRAXRestore","lazy","Promise","all","__webpack_require__","e","then","bind","GRAXRestoreMapping","GRAXRestoreTabs","props","_this","Object","_Users_brianna_LA_consulting_harding_point_grax_applicationservers_web_application_graxreact_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_brianna_LA_consulting_harding_point_grax_applicationservers_web_application_graxreact_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_brianna_LA_consulting_harding_point_grax_applicationservers_web_application_graxreact_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","isLoading","error","customMapping","$","ajax","type","url","baseUrl","GetParams","action","data","success","parseJSON","setState","xhr","status","err","console","toString","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_salesforce_design_system_react__WEBPACK_IMPORTED_MODULE_6__","size","variant","appName","react__WEBPACK_IMPORTED_MODULE_5__","fallback","onMappingChange","_salesforce_design_system_react__WEBPACK_IMPORTED_MODULE_7__","id","_salesforce_design_system_react__WEBPACK_IMPORTED_MODULE_8__","label","React","Component","d","__webpack_exports__","isDev","orgid","pageParams","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","tokenParam","window","location","search","match","orgidParam","useridParam","sessionidParam","endpointParam","token","decodeURIComponent","userid","sessionid","endpoint","datalakeIndexParam","datalakeIndex","params","undefined","param"],"mappings":"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","file":"static/js/20.74ef211b.chunk.js","sourcesContent":["///* global $ */\nimport React, { Suspense, lazy } from 'react';\nimport { Tabs, TabsPanel, Spinner } from '@salesforce/design-system-react';\n\nimport {baseUrl, GetParams} from '../lib/grax-data-lake';\n\nimport $ from 'jquery';\n\nconst GRAXRestore = lazy(() => import('./GRAXRestore'));\nconst GRAXRestoreMapping = lazy(() => import('./GRAXRestoreMapping'));\n\nexport default class GRAXRestoreTabs extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoading: true,\n            error: null,\n            customMapping: null\n        };\n    }\n\n    componentDidMount() {\n        $.ajax({\n            type: 'GET',\n            //dataType: 'jsonp',\n            url: baseUrl + '/grax-app/grax-data-lake/getCustomMapping' + GetParams({action:'load'}),\n            data: {},\n            success: function(data) {\n                var customMapping = data;\n\n                try {\n                    customMapping = $.parseJSON(data);\n                } catch(e){}\n\n                this.setState({\n                    customMapping: customMapping,\n                    isLoading: false\n                });\n            }.bind(this),\n            error: function(xhr, status, err) {\n                console.error(xhr, status, err);\n\n                this.setState({\n                    error: xhr.status === 404 ? null : err.toString(),\n                    customMapping: xhr.status === 404 ? {} : null,\n                    isLoading: false\n                });\n            }.bind(this)\n        });\n    }\n\n    render() {\n        if(this.state.isLoading) {\n            return (\n                <Spinner size=\"large\" variant=\"brand\" />\n            );\n        }\n\n        if(this.props.appName === 'mapping') {\n            return (\n                <Suspense fallback={<Spinner size=\"large\" variant=\"brand\" />}>\n                    <GRAXRestoreMapping customMapping={this.state.customMapping} onMappingChange={(customMapping) => {\n                        this.setState({\n                            customMapping: customMapping\n                        });\n                    }} />\n                </Suspense>\n            );\n        }\n\n        return (\n            <Tabs variant={this.props.variant} id=\"grax-restore-tabs\">\n                {this.props.appName === 'restore' ? (\n                    <TabsPanel label=\"Restore\">\n                        <Suspense fallback={<Spinner size=\"large\" variant=\"brand\" />}>\n                            <GRAXRestore customMapping={this.state.customMapping} />\n                        </Suspense>\n                    </TabsPanel>\n                ) : null}\n            </Tabs>\n        );\n    }\n}","/* eslint-disable no-useless-escape */\n/* --------------------------------------------------------------------------\n * This file is subject to the terms and conditions defined in\n * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,\n * which is part of this source code package.\n * --------------------------------------------------------------------------\n *          Copyright (c) 2017-2018 Harding Point\n *                  All rights reserved\n * --------------------------------------------------------------------------\n * Support:\tSupport@Grax.io\n * Website:\thttps://grax.io\n * Github:\thttps://github.com/HardingPoint/grax-application\n * License:\thttps://github.com/HardingPoint/grax-application/blob/master/LICENSE\n * --------------------------------------------------------------------------*/\n\nimport $ from \"jquery\";\n\n// export const isDev = window.location.port !== '80';\n\nexport const isDev = false;\n\nconst devBaseUrl = \"https://grax-datalake-demo2.herokuapp.com\";\n\nexport const baseUrl = isDev ? devBaseUrl : \"\";\n\nvar tokenParam = window.location.search.match(/[\\?&]token\\=([^&]+)/);\nvar orgidParam = window.location.search.match(/[\\?&]orgid\\=([^&]+)/);\nvar useridParam = window.location.search.match(/[\\?&]userid\\=([^&]+)/);\nvar sessionidParam = window.location.search.match(/[\\?&]sessionid\\=([^&]+)/);\nvar endpointParam = window.location.search.match(/[\\?&]endpoint\\=([^&]+)/);\n\nexport const token = tokenParam ? decodeURIComponent(tokenParam[1]) : null;\nexport const orgid = orgidParam ? decodeURIComponent(orgidParam[1]) : null;\nexport const userid = useridParam ? decodeURIComponent(useridParam[1]) : null;\nexport const sessionid = sessionidParam ? decodeURIComponent(sessionidParam[1]) : null;\nexport const endpoint = endpointParam ? decodeURIComponent(endpointParam[1]) : null;\n\nvar datalakeIndexParam = window.location.search.match(/[\\?&]datalakeIndex\\=([^&]+)/);\nexport const pageParams = {\n  datalakeIndex: datalakeIndexParam ? decodeURIComponent(datalakeIndexParam[1]) : null\n};\n\nexport function GetParams(params) {\n  if (params === null || params === undefined) params = {};\n\n  if (params.action === null || params.action === undefined || params.action === \"\")\n    params.action = \"load\";\n\n  params.token = token;\n  params.orgid = orgid;\n  params.userid = userid;\n  params.sessionid = sessionid;\n  params.endpoint = endpoint;\n\n  return \"?\" + $.param(params);\n}\n\nexport { $ };\n"],"sourceRoot":""}