(this.webpackJsonpgraxreact=this.webpackJsonpgraxreact||[]).push([[3],{112:function(e,a,t){"use strict";(function(e){var n,r=t(36),l=t(45),s=t(47),i=t(37),c=t(46),o=t(0),u=t.n(o),d=t(62),m=t(61),E=t(83),f=t(74),b=t(146),v=(t(156),t(157),t(21)),p=t(143),g=t(70),h=t(6),O=Object(o.lazy)((function(){return Promise.all([t.e(1),t.e(14)]).then(t.bind(null,248))})),_=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(8)]).then(t.bind(null,252))})),N=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(7)]).then(t.bind(null,254))})),y=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(11)]).then(t.bind(null,253))})),C=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(6)]).then(t.bind(null,251))})),S=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(10)]).then(t.bind(null,249))}));n=null!=window.__grax__&&null!=window.__grax__.appName?window.__grax__.appname:window.location.pathname.split("/").pop()||"cloud",e&&Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets"})&&!window.__grax__&&(window.__grax__={orgid:Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets"}).REACT_APP_ORGID,pageParams:{authorization:Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets"}).REACT_APP_BASIC_TOKEN}});var j={summarycharts:"summary-charts",delete:"datalake-delete",timemachine:"grax-object-time-machine",logging:"grax-logs"},A=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={isLoading:!0},t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("summarycharts"===n){var a=document.createElement("script");a.src="https://www.gstatic.com/charts/loader.js",a.async=!0,a.onload=function(){e.setState({isLoading:!1})},document.body.appendChild(a)}else this.setState({isLoading:!1})}},{key:"render",value:function(){return this.state.isLoading?u.a.createElement(d.a,{size:"large",variant:"brand"}):u.a.createElement(u.a.Fragment,null,v.j&&u.a.createElement("style",null,"\n                    html, body {\n                        height: 100%;\n                        overflow: auto;\n                        -webkit-overflow-scrolling: touch;\n                    }\n                "),u.a.createElement("div",{className:v.k?"slds-tabs_scoped__content":""},null!=j[n]?u.a.createElement("div",{"aria-hidden":"false",id:"GRAXHelpLink",style:{position:"absolute",right:"1.5rem",top:"0.75rem"}},u.a.createElement("h3",null,u.a.createElement("a",{href:"https://documentation.grax.io/docs/".concat(j[n]),rel:"noopener noreferrer",target:"_blank"},"GRAX Help"))):null,u.a.createElement(m.a,{iconPath:h.a},u.a.createElement(o.Suspense,{fallback:u.a.createElement(d.a,{size:"large",variant:"brand"})},("restore"===n||"mapping"===n)&&u.a.createElement(O,{variant:v.k?"default":"scoped",appName:n}),"logging"===n&&u.a.createElement(E.a,{variant:v.k?"default":"scoped",id:"grax-logging-tabs"},u.a.createElement(f.a,{label:"Error Logs"},u.a.createElement(_,{columns:["CreatedDate","source","info","error","stack","description"]})),u.a.createElement(f.a,{label:"Restore Logs"},u.a.createElement(_,{subtype:"restore",columns:["CreatedDate","objecttype","sourceId","destinationId","status","error","description"]}))),"timemachine"===n&&u.a.createElement(E.a,{variant:v.k?"default":"scoped",id:"grax-history-tabs"},u.a.createElement(f.a,{label:"History"},u.a.createElement(N,null))),"delete"===n&&u.a.createElement(E.a,{variant:v.k?"default":"scoped",id:"grax-delete-tabs"},u.a.createElement(f.a,{label:"Delete"},u.a.createElement(y,null))),"audit"===n&&u.a.createElement(C,{columns:["LastModifiedDate","ObjectType","ObjectVersion"]}),"summarycharts"===n&&u.a.createElement(S,{variant:v.k?"default":"scoped"}))),"cloud"===n||"configuration"===n&&u.a.createElement(m.a,{iconPath:h.a},u.a.createElement(o.Suspense,{fallback:u.a.createElement(d.a,{size:"large",variant:"brand"})},u.a.createElement(b.a,{initialEntries:[h.n]},u.a.createElement(g.a,{routes:p.a}))))))}}]),a}(u.a.Component);a.a=A}).call(this,t(85))},141:function(e){e.exports=JSON.parse('{"storage":[{"jsonName":"provider","displayName":"Provider"},{"jsonName":"bucket","displayName":"Bucket Name"},{"jsonName":"region","displayName":"Region"},{"jsonName":"s3CompatibleEndpoint","displayName":"Endpoint"},{"jsonName":"storageAccountName","displayName":"Storage Account Name"},{"jsonName":"containerName","displayName":"Container Name"},{"jsonName":"googleBucketName","displayName":"Google Bucket Name"}],"elastic":[{"jsonName":"name","displayName":"Connection Name"},{"jsonName":"provider","displayName":"Provider"}],"salesforce":[{"jsonName":"name","displayName":"Connection Name"},{"jsonName":"userName","displayName":"Username"},{"jsonName":"url","displayName":"URL"},{"jsonName":"organizationId","displayName":"Organization ID"}]}')},143:function(e,a,t){"use strict";var n=t(3),r=t(0),l=t.n(r),s=t(268),i=t(270),c=t(269),o=t(262),u=t(16),d=t(263),m=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,{variant:"list"},l.a.createElement(u.a,{label:"Create Scenario",onClick:e})))},E=t(12),f=t(117),b=t(71),v=t(119),p=function(e){e.children;var a=e.onRowAction,t=Object(E.a)(e,["children","onRowAction"]),n=[];return"SUCCESS"!==t.item.job_status&&n.push({value:1,label:"Run"}),n.push({value:2,label:"Clone"},{value:3,label:"Edit"},{value:4,label:"Delete"}),l.a.createElement(f.a,t,l.a.createElement(b.a,{align:"right",iconCategory:"utility",iconName:"down",iconVariant:"border-filled",onSelect:function(e){return a(t.item.id,e)},buttonClassName:"slds-button_icon-small",options:n}))},g=function(e){e.children;var a=Object(E.a)(e,["children"]);return l.a.createElement(f.a,a,"SUCCESS"===a.item.job_status?l.a.createElement("a",{href:function(e){return e.preventDefault()},onClick:function(){return a.viewDuplicates(a.item.id)}},"View Duplicates"):"View Duplicates")},h=function(e){e.children;var a=Object(E.a)(e,["children"]),t="";return null!==a.item.groups_count&&null!==a.item.records_affected&&(t="".concat(a.item.groups_count," of ").concat(a.item.records_affected)),l.a.createElement(f.a,a,t)},O=function(e){var a=e.children,t=Object(E.a)(e,["children"]);return l.a.createElement(f.a,t,l.a.createElement("a",{href:function(e){return e.preventDefault()},onClick:function(){return t.viewScenario(t.item.id)}},a))},_=function(e){e.children;var a=Object(E.a)(e,["children"]).item.fields,t=a.length,n="";return t>0&&(n=a.slice(0,2).map((function(e){return e.split(".")[1]})).join(", "),t>2&&(n+=" +".concat(t-2))),l.a.createElement(f.a,null,n)},N=function(e){var a=e.children,t=Object(E.a)(e,["children"]);return l.a.createElement(f.a,t,a?"Yes":"No")};O.displayName=f.a.displayName,h.displayName=f.a.displayName,p.displayName=f.a.displayName,g.displayName=f.a.displayName,_.displayName=f.a.displayName,N.displayName=f.a.displayName;var y,C,S,j=[l.a.createElement(v.a,{key:"scenario-name",property:"name",label:"Name"},l.a.createElement(O,null)),l.a.createElement(v.a,{key:"object-name",property:"object_name",label:"Object Name"}),l.a.createElement(v.a,{key:"fields",property:"fields",label:"Fields"},l.a.createElement(_,null)),l.a.createElement(v.a,{key:"merge-actions",property:"scenario_action",label:"Merge Action"}),l.a.createElement(v.a,{key:"fields",property:"is_active",label:"Is Active"},l.a.createElement(N,null)),l.a.createElement(v.a,{key:"duplicate-counts",label:"Duplicate Counts"},l.a.createElement(h,null)),l.a.createElement(v.a,{key:"view-results",property:"job_status"},l.a.createElement(g,null)),l.a.createElement(v.a,{key:"row-actions",property:"job_status",label:""},l.a.createElement(p,null))],A=t(146),I=t(6),R=t(80),T=t.n(R),k=t(5),w=t(17),D=t(36),B=t(47),x=t(37),P=t(46),z=t(145),F=function(e){function a(){return Object(D.a)(this,a),Object(B.a)(this,Object(x.a)(a).apply(this,arguments))}return Object(P.a)(a,e),a}(Object(z.a)(Error)),M={isLoading:null,error:null,data:null,success:null},L=function(e,a){var t=a.type,n=a.payload,r=n.isLoading,l=n.data,s=n.error;switch(t){case"FETCH_IS_LOADING":return!0===r?Object(k.a)({},M,{isLoading:!0}):Object(k.a)({},e,{isLoading:!1});case"FETCH_SET_DATA":return Object(k.a)({},e,{data:l,error:null,success:!0,isLoading:!1});case"FETCH_THROW_ERROR":return Object(k.a)({},e,{data:null,error:s,success:!1,isLoading:!1});default:throw new F}},U=t(120),V=t.n(U).a.create();Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets"}).REACT_APP_ORGID&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets"}).REACT_APP_ORGID?(C=Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets"}).REACT_APP_ORGID,S=Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets"}).REACT_APP_BASIC_TOKEN):(y=window.__grax__.token,C=window.__grax__.orgid,S=(window.__grax__.pageParams||{}).authorization),V.interceptors.request.use((function(e){var a=Object(k.a)({},e);return a.headers.sfdcorgid=C,a.withCredentials=!0,null!=S&&""!==S?a.headers.Authorization="Basic ".concat(S):y&&""!==y&&(a.headers.Authorization="Bearer ".concat(y)),a}));var q=V,K=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(w.a)({},e),l=Object(r.useState)(t),s=Object(n.a)(l,2),i=s[0],c=s[1],o=Object(r.useReducer)(L,Object(k.a)({},M,{},a)),u=Object(n.a)(o,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){void 0!==i.url&&(m({type:"FETCH_IS_LOADING",payload:{isLoading:!0}}),function(){var e,a;T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.awrap(q(i));case 3:e=t.sent,m({type:"FETCH_SET_DATA",payload:{data:e.data}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a=t.t0.response,m({type:"FETCH_THROW_ERROR",payload:{error:a.data}});case 11:case"end":return t.stop()}}),null,null,[[0,7]])}())}),[i]),[d,c]},G=function(){var e=K(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(I.p,"/").concat(e),method:"POST"})}]},H=function(){var e=K(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(I.p,"/").concat(e),method:"DELETE",params:{sfdcorgid:""}})}]},Q=function(){var e=K(null,{data:{data:[]}}),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(I.p,"/").concat(e,"/run"),params:{sfdcorgid:""},method:"POST"})}]},W=Object(r.createContext)(),Y=function(){var e=function(){var e=K(null,{data:{data:[]}}),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(){return r({url:I.p,params:{sfdcorgid:""}})}]}(),a=Object(n.a)(e,2),t=a[0],l=a[1],s=H(),i=Object(n.a)(s,2),c=i[0],o=i[1],u=Q(),d=Object(n.a)(u,2),m=d[0],E=d[1],f=G(),b=Object(n.a)(f,2),v=b[0],p=b[1],g=Object(A.c)(),h=Object(r.useContext)(W).openToast;Object(r.useEffect)(l,[]),Object(r.useEffect)((function(){null!==v.data&&v.data.data.id?h({heading:["Scenario Cloned"]}):null!==c.status&&200===c.status?(h({heading:["Scenario Deleted"]}),l()):null!==m.data&&"success"===m.data.status&&(h({heading:["Scenario is Running"]}),l())}),[v.data,c.data,m.data]);var O=function(e){return g.push("".concat(I.c,"/scenarios/").concat(e))},_=function(e){return g.push("".concat(I.c,"/duplicates/").concat(e))};return[t,{createScenario:function(){return g.push("".concat(I.c,"/scenarios/new"))},viewScenario:O,viewDuplicates:_,onRowAction:function(e,a){switch(a.value){case 1:E(e);break;case 5:_(e);break;case 2:p(e);break;case 3:O(e);break;case 4:o(e)}}}]},X=function(){var e=Y(),a=Object(n.a)(e,2),t=a[0],r=a[1],o=r.onRowAction,u=r.createScenario,d=r.viewScenario,E=r.viewDuplicates;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"slds-m-bottom_large",title:"Scenarios",variant:"object-home",onRenderActions:m.bind(null,u),trail:[l.a.createElement("a",{href:"javascript:void(0);"},"Dedup")]}),l.a.createElement(i.a,{style:{flexGrow:1},heading:"All Scenarios"},l.a.createElement(c.a,{items:t.data.data,noRowHover:!0,viewScenario:d,viewDuplicates:E,onRowAction:o},j)))};X.displayName="DedupScenarios";var J=X,Z=t(264),$=function(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],l=a[1],s=K(),i=Object(n.a)(s,2),c=i[0],o=i[1];return Object(r.useEffect)((function(){if(null!==c.data){var e=[],a=c.data;for(var t in a)if(1===t.split(".").length&&!1===t.startsWith("grax")){var n=a[t];e.push({label:t,value:"doc.".concat(t),dataType:n})}l(e)}}),[c.data]),[t,function(e){""!==e?o({url:"".concat(I.j,"/getDataTypeFields/").concat(e,"?action=load"),params:{sfdcorgid:""}}):l([])}]},ee={isEditMode:!1,objectIndex:"",formState:{filterCriteria:[],matchCriteria:[{}],sfdcorgid:"",name:"",description:"",object_name:"",is_active:!0,scenario_action:"MANUAL_MERGE",fields:[],results_table_fields:[],records_affected:null,groups_count:null},editMode:{}},ae=function(e,a){switch(a.type){case"SCENARIO_LOAD":var t=a.payload;return Object(k.a)({},e,{isEditMode:a.payload.isEditMode,formState:{matchCriteria:t.matchCriteria,filterCriteria:a.payload.filterCriteria,name:t.name,description:t.description,object_name:t.object_name,results_table_fields:t.results_table_fields,fields:t.fields,is_active:t.is_active,scenario_action:t.scenario_action}});case"SCENARIO_SET_MATCH_CRITERIA":case"SCENARIO_SET_FILTER_CRITERIA":case"SCENARIO_SET_NAME":case"SCENARIO_SET_DESCRIPTION":case"SCENARIO_SET_IS_ACTIVE":case"SCENARIO_SET_SCENARIO_ACTION":var n=a.payload,r=Object(k.a)({},e,{formState:Object(k.a)({},e.formState,{},n)});return!0===e.isEditMode&&(r=Object(k.a)({},r,{editMode:Object(k.a)({},e.editMode,{},n)})),r;case"SCENARIO_SET_RESULTS_TABLE_FIELDS":var l=a.payload.fields.map((function(e){return e.value})),s=Object(k.a)({},e,{formState:Object(k.a)({},e.formState,{results_table_fields:l})});return!0===e.isEditMode&&(s=Object(k.a)({},s,{editMode:Object(k.a)({},s.editMode,{results_table_fields:l})})),s;case"SCENARIO_SET_FIELDS":var i=a.payload.fields.map((function(e){return e.value})),c=Object(k.a)({},e,{formState:Object(k.a)({},e.formState,{fields:i})});return!0===e.isEditMode&&(c=Object(k.a)({},c,{editMode:Object(k.a)({},c.editMode,{fields:i})})),c;case"SCENARIO_SET_OBJECT_NAME":var o=a.payload,u=e.formState.matchCriteria.map((function(e){return Object(k.a)({},e,{field_name:"",operator:""})})),d=e.formState.filterCriteria.map((function(e){return Object(k.a)({},e,{field_name:"",operator:""})})),m=Object(k.a)({},e,{objectIndex:o.objectIndex,formState:Object(k.a)({},e.formState,{object_name:o.object_name,matchCriteria:u,filterCriteria:d})});return!0===e.isEditMode&&(m=Object(k.a)({},m,{editMode:Object(k.a)({},m.editMode,{object_name:o.object_name,matchCriteria:u,filterCriteria:d})})),m;default:throw new Error}},te=function(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],l=a[1],s=K({url:"".concat(I.j,"/getDataTypes"),params:{sfdcorgid:""}}),i=Object(n.a)(s,1)[0];return Object(r.useEffect)((function(){null!==i.data&&l(i.data.filter((function(e){return!1===e.label.startsWith("grax")&&"logs"!==e.label})))}),[i.data]),t},ne=function(){var e=Object(r.useReducer)(ae,ee),a=Object(n.a)(e,2),t=a[0],l=a[1],s=function(){var e=K(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){r({url:"".concat(I.p,"/").concat(e),params:{sfdcorgid:""}})}]}(),i=Object(n.a)(s,2),c=i[0],o=i[1],u=function(){var e=K(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:I.p,method:"POST",data:e})}]}(),d=Object(n.a)(u,2),m=d[0],f=d[1],b=H(),v=Object(n.a)(b,2),p=v[0],g=v[1],h=Q(),O=Object(n.a)(h,2),_=O[0],N=O[1],y=G(),C=Object(n.a)(y,2),S=C[0],j=C[1],R=function(){var e=K(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e,a){"number"===typeof e&&r({url:"".concat(I.p,"/").concat(e),method:"PATCH",data:a,params:{sfdcorgid:""}})}]}(),T=Object(n.a)(R,2),w=T[0],D=T[1],B=$(),x=Object(n.a)(B,2),P=x[0],z=x[1],F=Object(A.d)(),M=Object(A.c)(),L=Object(r.useContext)(W).openToast,U=Number(F.scenario_id),V=Number.isInteger(U),q="".concat(V?"Update":"Create"," Scenario"),Y=t.formState,X=te();Object(r.useEffect)((function(){!0===V&&o(U)}),[V]),Object(r.useEffect)((function(){null!==c.data&&null===c.error&&l({type:"SCENARIO_LOAD",payload:Object(k.a)({isEditMode:V},c.data.data)})}),[c.data]),Object(r.useEffect)((function(){""!==t.objectIndex&&z(t.objectIndex)}),[t.objectIndex]),Object(r.useEffect)((function(){return l({type:"SCENARIO_SET_RESULTS_TABLE_FIELDS",payload:{fields:P}})}),[P]),Object(r.useEffect)((function(){var e=t.isEditMode,a=t.formState,n=t.objectIndex,r=a.object_name;if(!0===e&&""!==r&&""===n&&X.length>0){var l=X.find((function(e){return e.label===r}));void 0!==l&&z(l.id)}}),[X,t.formState.object_name]),Object(r.useEffect)((function(){null!==m.data&&m.data.data.id?(L({heading:["New Scenario Created"]}),M.push("".concat(I.c,"/scenarios/").concat(m.data.data.id))):null!==S.data&&S.data.data.id?(L({heading:["Scenario Cloned"]}),M.push("".concat(I.c,"//scenarios/").concat(S.data.data.id))):null!==p.status&&200===p.status?(L({heading:["Scenario Deleted"]}),M.push("".concat(I.c,"/scenarios"))):null!==_.data&&"success"===_.data.status&&L({heading:["Scenario is Running"]})}),[m.data,S.data,p,w,_]),Object(r.useEffect)((function(){null!==w.data&&null===w.error&&L({heading:"Scenario Updated"})}),[w.data]);return[{formState:Y,isEditMode:V,docPrefixedFields:P,scenarioId:U,heading:q,sObjects:X},{dispatch:l,deleteScenario:g,cloneScenario:j,runDeduplication:N,viewDuplicates:function(e){return M.push("/grax-app/client/duplicates/".concat(e))},onSubmit:function(e){if(!0===t.isEditMode)D(U,t.editMode);else{var a=t.formState,n=(a.fields,Object(E.a)(a,["fields"]));f(n)}e.preventDefault()}}]},re=t(1),le=t.n(re),se=t(271),ie={isEditMode:le.a.bool.isRequired,onDelete:le.a.func,onDuplicate:le.a.func},ce=function(e){var a=e.isOpen,t=e.onDelete,n=e.onClose;return l.a.createElement(se.a,{disableClose:!0,footer:[l.a.createElement(u.a,{label:"Cancel",onClick:n}),l.a.createElement(u.a,{label:"Delete",variant:"destructive",onClick:function(){n(),t()}})],isOpen:a,onRequestClose:n,prompt:"error",size:"small",title:l.a.createElement("span",null,"Delete Scenario?")})},oe=function(e){var a=e.isEditMode,t=e.onDelete,s=e.onDuplicate,i=e.onRun,c=e.onViewDuplicates,o=Object(r.useState)(!1),d=Object(n.a)(o,2),m=d[0],E=d[1],f=l.a.createElement(u.a,{className:"slds-m-horizontal_xx-small",iconCategory:"utility",iconName:"delete",iconVariant:"border-filled",onClick:t}),v=l.a.createElement(b.a,{buttonVariant:"icon",checkmark:!0,iconName:"settings",iconSize:"large",iconVariant:"more",align:"right",onSelect:function(e){switch(e.value){case 1:i();break;case 5:c();break;default:s()}},options:[{label:"Run",value:1},{label:"View Result",value:5},{label:"Duplicate",value:2}]}),p=[];return!0===a&&(p.push(v),p.push(f),p.push(l.a.createElement(ce,{isOpen:m,onClose:function(){return E(!1)},onDelete:t}))),p};oe.propType=ie,oe.displayName="DedupScenarioCardActions";var ue=oe,de=t(250),me=t(72),Ee={name:le.a.string.required,description:le.a.string.required,isActive:le.a.bool.required,onChangeName:le.a.func,onChangeDescription:le.a.func,onChangeNameIsActive:le.a.func},fe=Object(r.memo)((function(e){var a=e.name,t=e.description,n=e.isActive,s=e.onChangeName,i=e.onChangeDescription,c=e.onChangeIsActive,o=Object(r.useRef)(0);return o.current=o.current+1,l.a.createElement(Z.a,{title:"General",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-5"},l.a.createElement(de.a,{label:"Name",required:!0,value:a,onChange:function(e){return s(e.target.value)}})),l.a.createElement("div",{className:"slds-col slds-size_2-of-5"},l.a.createElement(de.a,{label:"Description",value:t,onChange:function(e){return i(e.target.value)}})),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"Is Active"),l.a.createElement(me.a,{checked:n,variant:"toggle",onChange:function(e,a){var t=a.checked;return c(t)}})))))}));fe.prototype=Ee,fe.prototype.displayName="DedupScenarioGeneral";var be=fe,ve=t(55),pe=t(265),ge=t(266),he=function(e){var a=e.options,t=void 0===a?[]:a,s=e.onChange,i=Object(E.a)(e,["options","onChange"]),c=Object(r.useState)(""),o=Object(n.a)(c,2),u=o[0],d=o[1],m=Object(r.useState)([]),f=Object(n.a)(m,2),b=f[0],v=f[1],p=function(e,a){s&&s(e,a,t)};return l.a.createElement(pe.a,Object.assign({events:{onChange:function(e,a){var t=a.value;return d(t)},onRequestRemoveSelectedOption:function(e,a){d(""),v(a.selection),p(e,a.selection)},onSelect:function(e,a){d(""),v(a.selection),p(e,a.selection)}},options:Object(ge.a)({inputValue:u,limit:1e3,options:t,selection:b}),selection:b,value:u,variant:"inline-listbox",required:!0,menuItemVisibleLength:5,classNameMenu:"slds-dropdown_length-7"},i))};he.defaultProps={options:[],props:{}};var Oe=he,_e=Object(r.createContext)(),Ne=function(){return Object(r.useContext)(_e)},ye=function(e){var a=e.children,t=K({url:"".concat(I.d,"/metadata"),params:{sfdcorgid:""}},{data:{data:{operators:[],stopwords:[],synonyms:[]}}}),s=Object(n.a)(t,1)[0],i=Object(r.useMemo)((function(){return{metadata:s}}),[s]);return l.a.createElement(_e.Provider,{value:i},a)},Ce={scenarioActions:le.a.array,scenarioAction:le.a.string,onChange:le.a.func},Se=function(e){var a=e.scenarioAction,t=e.onChange,n=Ne().metadata.data.data.scenario_actions,s=Object(r.useRef)(0);return s.current=s.current+1,l.a.createElement("div",{className:"slds-col slds-size_2-of-5"},l.a.createElement(Oe,{options:function(e){var a=[];for(var t in e){var n=e[t].values;n=n.map((function(e){return{label:e.display_value,value:e.code}})),a.push.apply(a,Object(ve.a)(n))}return a}(n),value:a,labels:{placeholder:"Select Option"},required:!0,onChange:function(e,a){return t(1===a.length?a[0].value:null)}}))};Se.prototype=Ce,Se.displayName="DedupScenarioMergeActions";var je=Object(r.memo)(Se),Ae=function(e){var a=e.heading;e.onSubmit;return l.a.createElement(s.a,{className:"slds-m-bottom_large",title:a,variant:"object-home",trail:[l.a.createElement("span",null,"Dedup "),l.a.createElement("a",{href:"javascript:void(0);"},"Scenarios")],onRenderActions:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,{variant:"list"},l.a.createElement(u.a,{label:"Save",type:"submit"})))}})},Ie=t(21),Re=function(e){var a=e.onRemove,t=Object(E.a)(e,["onRemove"]);return l.a.createElement("div",{className:"slds-col slds-size_1-of-12"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"\xa0"),l.a.createElement("div",{className:"slds-from_element__control"},l.a.createElement(u.a,Object.assign({onClick:a,iconCategory:"utility",variant:"icon",iconName:"delete",iconVariant:"border-filled"},t)))))},Te=function(e){var a=e.onClick,t=Object(E.a)(e,["onClick"]);return l.a.createElement(u.a,Object.assign({className:"slds-m-top_medium",label:"Add New Row",iconCategory:"utility",iconName:"add",iconPosition:"left",onClick:a},t))},ke=function e(a){return function(t){var n=t.rows,s=t.onChange,i=t.footer,c=t.hideFooter,o=Object(E.a)(t,["rows","onChange","footer","hideFooter"]),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(n.concat(e))},d=function(e,a){return s(n.map((function(t,n){return a===n?e:t})))},m="".concat(e.name).concat(a.name),f=[];a.displayName=m,n.map((function(e,t){return f.push(l.a.createElement(a,Object.assign({row:e,index:t,key:"".concat(m,"-").concat(t),onChange:function(e){return d(e,t)},onRemove:function(){return function(e){return s(n.filter((function(a,t){return e!==t})))}(t)}},o)))}));return[f,function(e,a){if(void 0===a)return l.a.isValidElement(e)?Object(r.cloneElement)(e,{addRow:u}):l.a.createElement(Te,{onClick:function(){return u({})}})}(i,c)]}};ke.displayName="withRepeating";var we=ke,De={fieldName:le.a.string,docPrefixedFields:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string})),operator:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string})),onChangeField:le.a.func,onChangeOperator:le.a.func,operators:le.a.arrayOf(le.a.string)},Be=function(e){var a=e.fieldName,t=e.operator,s=e.docPrefixedFields,i=e.onChangeField,c=e.onChangeOperator,o=Object(r.useState)(""),u=Object(n.a)(o,2),d=u[0],m=u[1],E=function(){var e=Object(r.useState)(null),a=Object(n.a)(e,2),t=a[0],l=a[1],s=Object(r.useState)([]),i=Object(n.a)(s,2),c=i[0],o=i[1],u=Ne().metadata.data.data.operators;return Object(r.useEffect)((function(){if(null===t)o([]);else{var e=u.filter((function(e){return e.applicable_data_types.includes(t)})).map((function(e){return{label:e.name,value:e.id}}));o(e)}}),[t,u]),[c,l]}(),f=Object(n.a)(E,2),b=f[0],v=f[1];Object(r.useEffect)((function(){if(0===b.length&&""!==a&&s.length>0){var e=s.find((function(e){return e.value===a}));void 0!==e&&v(e.dataType)}}),[s]),Object(r.useEffect)((function(){var e="";void 0!==a&&a.startsWith("doc.")&&(e=a.split("doc.")[1]),m(e)}),[a]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(Oe,{onChange:function(e,a){return function(e){if(1===e.length){var a=e[0],t=a.value,n=a.dataType;i(t),v(n)}else i(""),v(null)}(a)},options:s,value:d,required:!0,labels:{label:"Fields",placeholder:"Select Option"}})),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(Oe,{onChange:function(e,a){return c(1===a.length?a[0].label:"")},options:b,value:t,required:!0,labels:{label:"Operators",placeholder:"Select Option"}})))};Be.prototype=De,Be.displayName="DedupScenarioFieldsAndOperators";var xe=Be,Pe={row:le.a.shape({field:le.a.string,operator:le.a.string,value:le.a.string,stopWord:le.a.array,synonyms:le.a.array,cleanse:le.a.bool}),index:le.a.number,onChange:le.a.func,onRemove:le.a.func,docPrefixedFields:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string})),operators:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string}))},ze=function(e){var a=e.row,t=e.onChange,n=e.onRemove,r=e.setMetadata,s=e.docPrefixedFields,i=e.operators,c=1===e.rowsNum;return l.a.createElement("li",{className:"slds-grid slds-gutters_small"},l.a.createElement(xe,{docPrefixedFields:s,operators:i,fieldName:a.field_name,operator:a.operator,onChangeField:function(e){return t(Object.assign({},a,{field_name:e,operator:""}))},onChangeOperator:function(e){return t(Object(Ie.m)(a,"operator",e))}}),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"stopWord"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement("a",{className:"",style:{lineHeight:"1.875rem"},href:function(e){return e.preventDefault()},onClick:function(){return r({matchCriteriaId:a.id,id:a.stopwords_list_id,variant:"stopwords"})}},"Contact Prefixes")))),l.a.createElement("div",{className:"slds-col slds-size_1-of-6"},l.a.createElement("div",{className:"slds-form-element"},l.a.createElement("label",{className:"slds-form-element__label"},"Synonym"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement("a",{className:"",style:{lineHeight:"1.875rem"},href:function(e){return e.preventDefault()},onClick:function(){return r({matchCriteriaId:a.id,id:a.synonyms_id,variant:"synonyms"})}},"Synonym name")))),l.a.createElement("div",{className:"slds-col slds-size_2-of-12"},l.a.createElement("span",{className:"slds-form-element__label"},"Use Cleansed Field"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement(me.a,{variant:"toggle",checked:a.cleanse,onChange:function(e,n){n.checked;return t(Object(Ie.m)(a,"cleanse",!a.cleanse))}}))),l.a.createElement(Re,{onRemove:n,disabled:c}))};ze.prototype=Pe,ze.displayName="DedupScenarioMatchCriterias";var Fe=we(ze),Me={row:le.a.shape({field:le.a.string,operator:le.a.string,value:le.a.any}),index:le.a.number,onChange:le.a.func,onRemove:le.a.func,docPrefixedFields:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string})),operators:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string}))},Le=function(e){var a=e.row,t=e.onChange,s=e.onRemove,i=e.docPrefixedFields,c=e.operators,o=Object(r.useState)(),u=Object(n.a)(o,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){return m(a.value)}),[a.value]),l.a.createElement("li",{className:"slds-grid slds-gutters_small"},l.a.createElement(xe,{docPrefixedFields:i,operators:c,fieldName:a.field_name,operator:a.operator,onChangeField:function(e){return t(Object(Ie.m)(a,"field_name",e))},onChangeOperator:function(e){return t(Object(Ie.m)(a,"operator",e))}}),l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(de.a,{label:"Value",value:d,required:!0,onChange:function(e){return m(e.target.value)},onBlur:function(e){return t(Object(Ie.m)(a,"value",d))}})),l.a.createElement(Re,{onRemove:s}))};Le.proptype=Me,Le.displayName="DedupScenarioFilterCriterias";var Ue=we(Le),Ve=t(144),qe=we((function(e){var a=e.row,t=e.selectedId,s=(e.onChange,e.onRemove),i=Object(r.useState)(!1),c=Object(n.a)(i,2),o=c[0],d=c[1];return l.a.createElement("tr",{className:"slds-hint-parent"},l.a.createElement("th",{className:"slds-cell-edit"},l.a.createElement(Ve.a,{variant:"base",checked:t===a.id})),l.a.createElement("th",{className:"slds-cell-edit"},l.a.createElement("span",{className:"slds-grid slds-grid_align-spread"},l.a.createElement("a",{className:"slds-truncate"},l.a.createElement("span",{className:"slds-grid slds-grid_align-spread"},l.a.createElement("span",{className:"slds-truncate",title:"Acme"},a.name))),l.a.createElement(u.a,{iconSize:"small",onClick:function(){return d(!0)},iconCategory:"utility",variant:"icon",iconName:"edit",iconVariant:"bare",className:"slds-cell-edit__button",iconClassName:"slds-button__icon_hint slds-button__icon_edit"})),o&&l.a.createElement("section",{className:"slds-popover slds-popover slds-popover_edit",role:"dialog",style:{position:"absolute",top:"0px",left:"0.0625rem"}},l.a.createElement("div",{className:"slds-popover__body",id:"dialog-body-id-1"},l.a.createElement("div",{className:"slds-form-element slds-grid slds-wrap"},l.a.createElement("label",{className:"slds-form-element__label slds-form-element__label_edit slds-no-flex",for:"company-01"},l.a.createElement("span",{className:"slds-assistive-text"},"Company")),l.a.createElement("div",{className:"slds-form-element__control slds-grow"},l.a.createElement("input",{className:"slds-input",id:"company-01",type:"text",value:"Acme Enterprises",onBlur:function(){d(!1)}})))))),l.a.createElement("td",{className:"slds-cell-edit slds-text-align_right"},l.a.createElement(u.a,{iconSize:"small",onClick:s,iconCategory:"utility",variant:"icon",iconName:"delete",iconVariant:"border-filled"})))})),Ke=function(e){var a=e.criteria,t=(e.onChange,e.onSelect,Object(r.useState)([])),s=Object(n.a)(t,2),i=s[0],c=s[1],o=Ne().metadata.data.data,u=o.stopwords,d=o.synonyms;return Object(r.useEffect)((function(){"stopwords"===a.variant?c(u):c(d)}),[a]),l.a.createElement("table",{className:"slds-table slds-table_bordered slds-no-row-hover slds-table_edit"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"slds-line-height_reset"},l.a.createElement("th",{className:"",style:{width:"1rem"}}),l.a.createElement("th",null,l.a.createElement("a",{className:"slds-th__action slds-text-link_reset",href:"javascript:void(0);",role:"button",tabindex:"0"},l.a.createElement("span",{className:"slds-assistive-text"},"Sort by: "),l.a.createElement("div",{className:"slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate"},l.a.createElement("span",{className:"slds-truncate",title:"Account Name"},"Name")))),l.a.createElement("th",{"aria-label":"Close Date","aria-sort":"none",className:"",scope:"col"}))),l.a.createElement("tbody",null,l.a.createElement(qe,{rows:i,selectedId:a.id,hideFooter:!0})))},Ge={stopwords:"Stopwords",synonyms:"Synonyms"},He=function(e){var a=e.isOpen,t=e.criteria,n=e.onChange,r=e.onRequestClose;return l.a.createElement(se.a,{isOpen:a,heading:Ge[t.variant],onRequestClose:r,size:"small",footer:[l.a.createElement(u.a,{label:"Cancel",onClick:r}),l.a.createElement(u.a,{variant:"brand",label:"Apply",onClick:r})]},l.a.createElement(Ke,{criteria:t,onChange:n}))},Qe={matchCriteria:le.a.shape({field:le.a.string,operator:le.a.string,value:le.a.string,stopword:le.a.array,synonyms:le.a.array,cleanse:le.a.bool}),filterCriteria:le.a.shape({field:le.a.string,operator:le.a.string,value:le.a.any}),operators:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string})),stopwords:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string})),synonyms:le.a.arrayOf(le.a.shape({label:le.a.string,value:le.a.string})),onChangeMatchCriteria:le.a.func,onChangeFilterCriteria:le.a.func},We=function(e){var a=e.matchCriteria,t=e.filterCriteria,s=e.objectName,i=(e.fields,e.docPrefixedFields),c=e.sObjects,o=e.onChangeObject,u=(e.onChangeFields,e.onChangeMatchCriteria),d=e.onChangeFilterCriteria,m=Object(r.useState)(!1),E=Object(n.a)(m,2),f=E[0],b=E[1],v=Object(r.useState)({}),p=Object(n.a)(v,2),g=p[0],h=p[1],O=Ne().metadata.operators;return l.a.createElement(r.Fragment,null,l.a.createElement(Z.a,{title:"Objects",className:"slds-m-bottom_medium",nonCollapsible:!0},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-5"},l.a.createElement(Oe,{options:c,labels:{placeholder:"Select option"},value:s,onChange:function(e,a){var t=1===a.length?a[0]:{objectName:"",objectIndex:""};o(t.label,t.id)}})))),l.a.createElement(Z.a,{title:"Matching Criterias",className:"slds-m-bottom_medium",nonCollapsible:!0},l.a.createElement(Fe,{rows:a,docPrefixedFields:i,operators:O,rowsNum:a.length,onChange:u,setMetadata:function(e){b(!0),h(e)}})),l.a.createElement(Z.a,{title:"Filter Criterias",className:"slds-m-bottom_medium",nonCollapsible:!0},l.a.createElement(Ue,{rows:t,docPrefixedFields:i,operators:O,onChange:d})),l.a.createElement(He,{isOpen:f,criteria:g,onRequestClose:function(){return b(!1)}}))};We.propType=Qe;var Ye=We,Xe=function(){var e=ne(),a=Object(n.a)(e,2),t=a[0],s=t.formState,c=t.isEditMode,o=t.docPrefixedFields,u=t.scenarioId,d=t.heading,m=t.sObjects,E=a[1],f=E.dispatch,b=E.deleteScenario,v=E.duplicateScenario,p=E.runDeduplication,g=E.viewDuplicates,h=E.onSubmit,O=s.name,_=s.description,N=s.is_active,y=s.object_name,C=s.fields,S=s.matchCriteria,j=s.filterCriteria,A=s.scenario_action;return l.a.createElement(ye,null,l.a.createElement("form",{onSubmit:function(e){return h(e)}},l.a.createElement(Ae,{heading:d}),l.a.createElement(i.a,{heading:d,headerActions:l.a.createElement(ue,{isEditMode:c,onDelete:function(){return b(u)},onDuplicate:function(){return v(u)},onRun:function(){return p(u)},onViewDuplicates:function(){return g(u)}})},l.a.createElement("div",{className:"slds-p-horizontal_medium"},l.a.createElement(be,{name:O,description:_,isActive:N,onChangeName:Object(r.useCallback)((function(e){return f({type:"SCENARIO_SET_NAME",payload:{name:e}})}),[O]),onChangeDescription:Object(r.useCallback)((function(e){return f({type:"SCENARIO_SET_DESCRIPTION",payload:{description:e}})}),[_]),onChangeIsActive:Object(r.useCallback)((function(e){return f({type:"SCENARIO_SET_IS_ACTIVE",payload:{is_active:e}})}),[N])}),l.a.createElement(Ye,{matchCriteria:S,filterCriteria:j,objectName:y,fields:C,docPrefixedFields:o,sObjects:m,onChangeMatchCriteria:function(e){return f({type:"SCENARIO_SET_MATCH_CRITERIA",payload:{matchCriteria:e}})},onChangeFilterCriteria:function(e){return f({type:"SCENARIO_SET_FILTER_CRITERIA",payload:{filterCriteria:e}})},onChangeObject:function(e,a){return f({type:"SCENARIO_SET_OBJECT_NAME",payload:{object_name:e,objectIndex:a}})},onChangeFields:function(e){return f({type:"SCENARIO_SET_FIELDS",payload:{fields:e}})}}),l.a.createElement(Z.a,{title:"Merge Actions",nonCollapsible:!0,className:"slds-m-bottom_medium"},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(je,{scenarioAction:A,onChange:function(e){return f({type:"SCENARIO_SET_SCENARIO_ACTION",payload:{scenario_action:e}})}})))))))};Xe.propType={},Xe.displayName="DedupScenario";var Je,Ze,$e,ea,aa=Xe,ta=function(e){var a=e.tableFields;return l.a.createElement("thead",null,l.a.createElement("tr",{className:"slds-line-height_reset"},l.a.createElement("th",{className:"slds-text-align_right",style:{width:"3.25rem"}}),a.map((function(e){return l.a.createElement("th",{"aria-label":"Contact"},l.a.createElement("div",null,l.a.createElement("span",{className:"slds-truncate",title:"Contact"},e)))})),l.a.createElement("th",{"aria-label":"Contact",style:{width:"3.25rem"}},l.a.createElement("div",null,l.a.createElement("span",{className:"slds-truncate",title:"Contact"})))))},na=t(61),ra=function(e){var a=e.tableFields,t=e.row,s=e.onViewRecord,i=Object(r.useState)(!1),c=Object(n.a)(i,2),o=c[0],d=c[1];return l.a.createElement("tr",{"aria-level":"1",className:"slds-hint-parent"},l.a.createElement("td",{style:{width:"3.25rem"}},l.a.createElement("div",{className:"slds-checkbox"},l.a.createElement(me.a,{checked:o,onChange:function(e){d(!o)}}))),a.map((function(e){return l.a.createElement("td",null,l.a.createElement("div",{className:"slds-truncate",title:"Acme"},function(e,a){return a[e]}(e,t)))})),l.a.createElement("td",{className:"slds-text-align_right"},l.a.createElement(na.a,{iconPath:"/assets/icons"},l.a.createElement(u.a,{align:"right",iconCategory:"utility",iconName:"expand",iconVariant:"border",iconSize:"small",onClick:function(e){s(t)}}))))},la=function(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],l=a[1],s=Object(r.useState)([]),i=Object(n.a)(s,2),c=i[0],o=i[1],u=Object(r.useState)([]),d=Object(n.a)(u,2),m=d[0],E=d[1],f=Object(r.useState)(null),b=Object(n.a)(f,2),v=b[0],p=b[1],g=function(){var e=K(null,{data:{data:{results:[]}}}),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(I.p,"/").concat(e,"/results"),params:{sfdcorgid:""}})}]}(),h=Object(n.a)(g,2),O=h[0],_=h[1],N=Object(A.d)(),y=Object(r.useContext)(W).openToast,C=N.scenario_id;return Object(r.useEffect)((function(){return _(C)}),[C]),Object(r.useEffect)((function(){var e=O.data.data.results;if(e.length>0){var a=["doc.Name","doc.Website","doc.Phone","doc.BillingCity","doc.BillingState"].map((function(e){return e.split(".")[1]}));l(e),p(e[0].index_name),o(a.slice(0,4)),E(a)}}),[O.data]),Object(r.useEffect)((function(){"CREATED"===O.data.data.job_status&&y({heading:["Scenario Job Created"]})}),[O.data.data.job_status]),{tableFields:c,tableFieldsExpanded:m,rows:t,indexName:v}},sa=function(e){var a=e.keyName,t=e.tableFields;return l.a.createElement("tr",{className:"slds-is-selected"},l.a.createElement("td",{colspan:t.length+1},"Duplicate key: ",a),l.a.createElement("td",{className:"slds-text-align_right",style:{width:"3.25rem"}},l.a.createElement(na.a,{iconPath:"/assets/icons"},l.a.createElement(b.a,{align:"right",iconCategory:"utility",iconName:"down",iconVariant:"border-filled",onSelect:function(e){},buttonClassName:"slds-button_icon-small",options:[{label:"Merge Records",value:"A0"}]}))))},ia=function(e){var a=e.field,t=e.record;return l.a.createElement("tr",{className:"slds-hint-parent"},l.a.createElement(r.Fragment,null,l.a.createElement("td",null,l.a.createElement("div",{className:"slds-truncate",title:"Acme"},a)),l.a.createElement("td",{colSpan:"3"},l.a.createElement("div",{className:"slds-truncate",title:"Acme"},function(e,a){return a[e]}(a,t)))))},ca=function(e){var a=e.setIsOpen,t=e.tableFields,n=e.record;return l.a.createElement(na.a,{iconPath:"/assets/icons"},l.a.createElement(se.a,{isOpen:!0,size:"medium",onRequestClose:function(){return a(!1)},hasNoHeader:!0},l.a.createElement("table",{"aria-multiselectable":"true",className:"slds-table slds-table_header-hidden slds-table_bordered slds-table_cell-buffer slds-no-row-hover slds-tree slds-table_tree",role:"grid"},l.a.createElement("thead",null,l.a.createElement("tr",{"aria-level":"1",className:"slds-hint-parent"},l.a.createElement("th",{role:"gridcell"},l.a.createElement("div",{className:"slds-truncate",title:"Acme"},"STANDARD FIELD NAMES")))),l.a.createElement("tbody",null,null!==n&&l.a.createElement(r.Fragment,null,t.map((function(e){return l.a.createElement(ia,{field:e,record:n})})))))))},oa=function(){var e=la(),a=e.tableFields,t=e.tableFieldsExpanded,c=e.rows,o=e.indexName,u=Object(r.useState)(!1),d=Object(n.a)(u,2),m=d[0],E=d[1],f=Object(r.useState)(null),b=Object(n.a)(f,2),v=b[0],p=b[1],g=function(e){p(e)};return Object(r.useEffect)((function(){null!==v&&E(!0)}),[v]),l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"slds-m-bottom_large",title:"All Potential Duplicate Records",variant:"object-home",trail:[l.a.createElement("a",{href:"javascript:void(0);"},"Dedup")]}),l.a.createElement(i.a,{style:{flexGrow:1},hasNoHeader:null===o,heading:"Index: ".concat(o)},c.length>0&&l.a.createElement(r.Fragment,null,l.a.createElement("table",{"aria-multiselectable":"true",className:"slds-table  slds-table_bordered slds-no-row-hover ",role:"grid"},l.a.createElement(ta,{tableFields:a}),l.a.createElement("tbody",null,c.map((function(e){return l.a.createElement(r.Fragment,null,l.a.createElement(sa,{keyName:e.key,tableFields:a}),e.records.map((function(e){return l.a.createElement(ra,{tableFields:a,row:e,onViewRecord:g})})))})))),!0===m&&l.a.createElement(ca,{isOpen:m,setIsOpen:E,tableFields:t,record:v}))))},ua=function(e){var a=Object(r.useContext)(e);if(void 0===a)throw new Error("useStateContext must be called inside provider");return a},da=function(e){var a=Object(r.useContext)(e);if(void 0===a)throw new Error("useDispatchContext must be called inside a provider");return a},ma=t(7),Ea={environments:Object(ma.a)({},"Heroku Provided Configuration",{dataSources:[],elastic:[],storage:[],metadataBackup:[],timeMachine:[{}],pushToQueue:[{}],variables:{},syncAnalytics:[]}),globalEnvironmentDefaults:{asyncAttachmentProcessorOrganizationIds:[],asyncBulkLoadOrganizationIds:[],asyncQueueOrganizationIds:[],syncSalesforceEinsteinOrganizationIds:[],syncSalesforceSourceOrganizationIds:[],metadataBackupOrganizationIds:[],odataOrganizationIds:[]}},fa=function(e,a){switch(a.type){case"CONFIGURATION_LOAD_INITIAL_STATE":case"CONFIGURATION_RELOAD_STATE":return a.payload;default:throw new F}},ba=Object(r.createContext)(),va=Object(r.createContext)(),pa=function(){return[ua(ba),da(va)]},ga=function(e){var a=e.children,t=function(){var e=K({url:I.h}),a=Object(n.a)(e,1)[0].data,t=Object(r.useReducer)(fa,Ea),l=Object(n.a)(t,2),s=l[0],i=l[1];return Object(r.useEffect)((function(){null!==a&&i({type:"CONFIGURATION_LOAD_INITIAL_STATE",payload:a})}),[a]),[s,i]}(),s=Object(n.a)(t,2),i=s[0],c=s[1];return l.a.createElement(ba.Provider,{value:i},l.a.createElement(va.Provider,{value:c},a))},ha=function(e,a){var t=a.type,n=a.payload;switch(t){case"SPINNER_IS_RUNNING":return Object(k.a)({},e,{isLoading:!0});case"SPINNER_IS_STOPPED":return Object(k.a)({},e,{isLoading:!1});case"NOTIFICATION_IS_OPEN":return Object(k.a)({},e,{isOpen:!0});case"NOTIFICATION_IS_CLOSE":return Object(k.a)({},e,{isOpen:!1});case"NOTIFICATION_SUCCESS":return Object(k.a)({},e,{isOpen:!0,variant:"success",message:[n.message]});case"NOTIFICATION_ERROR":return Object(k.a)({},e,{isOpen:!0,variant:"error",message:[n.message],duration:5e3});default:throw new F}},Oa={isLoading:!1,isOpen:!1,variant:"success",message:"",duration:2e3},_a=Object(r.createContext)(),Na=Object(r.createContext)(),ya=function(e){var a=e.children,t=Object(r.useReducer)(ha,Oa),s=Object(n.a)(t,2),i=s[0],c=s[1];return l.a.createElement(_a.Provider,{value:i},l.a.createElement(Na.Provider,{value:c},a))},Ca=t(62),Sa=t(267),ja=t(273),Aa=function(){var e=[ua(_a),da(Na)],a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,{successNotification:function(e){return r({type:"NOTIFICATION_SUCCESS",payload:{message:e}})},errorNotification:function(e){return r({type:"NOTIFICATION_ERROR",payload:{message:e}})},hideNotification:function(){return r({type:"NOTIFICATION_IS_CLOSE"})},spinnerIsRunning:function(){return r({type:"SPINNER_IS_RUNNING"})},spinnerIsStopped:function(){return r({type:"SPINNER_IS_STOPPED"})}}]},Ia=function(e){var a=Aa(),t=Object(n.a)(a,2)[1],l=t.spinnerIsRunning,s=t.spinnerIsStopped;Object(r.useEffect)((function(){return(!0===e?l:s)()}),[e])},Ra=Aa,Ta=function(){var e=Ra(),a=Object(n.a)(e,2),t=a[0],s=t.isOpen,i=t.isLoading,c=t.variant,o=t.message,u=t.duration,d=a[1].hideNotification;return l.a.createElement(r.Fragment,null,i&&l.a.createElement(Ca.a,{size:"large",variant:"brand",assistiveText:{label:o}}),!0===s&&l.a.createElement(Sa.a,null,l.a.createElement(ja.a,{duration:u,labels:{heading:[o]},variant:c,onRequestClose:d})))},ka=t(70),wa=function(e){var a=e.routes;return l.a.createElement(ga,null,l.a.createElement(ya,null,l.a.createElement(Ta,null),l.a.createElement(ka.a,{routes:a})))},Da=t(27),Ba=t.n(Da),xa=t(272),Pa=function(e){var a=e.text;return l.a.createElement(xa.a,null,l.a.createElement("p",null,a))},za=function(){var e=Object(A.c)();return l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement("div",{className:"slds-text-longform slds-text-align_center"},l.a.createElement("h2",{className:"slds-text-heading_medium"},"Welcome to GRAX!"),l.a.createElement("p",{className:"slds-text-body_regular"},"Your Data Value Platform.")),l.a.createElement("footer",{className:"slds-card__footer"},l.a.createElement(Pa,{text:"Ensure you have valid Salesforce, Elasticsearch, and cloud storage credentials before beginning.\n        You will not be able to save your configuration without valid credentials for all three providers."}),l.a.createElement(u.a,{className:"slds-button slds-button_brand",label:"Start",onClick:function(){return e.push(I.l)}})))},Fa=t(10),Ma=t(141),La=t(45),Ua=function(){function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(D.a)(this,e),this.configuration=this.initializeConfiguration(a)}return Object(La.a)(e,[{key:"initializeConfiguration",value:function(e){var a=Object(k.a)({},e);return a.environments&&0!==Object.keys(a.environments).length||(a=Object(k.a)({},a,{environments:Ea.environments})),a.globalEnvironmentDefaults||(a=Object(k.a)({},a,{globalEnvironmentDefaults:Ea.globalEnvironmentDefaults})),Ba.a.merge({},a)}},{key:"addDataSource",value:function(e){this.environment.dataSources.push(e)}},{key:"_findDataSourceByOrgId",value:function(e){var a=this.environment.dataSources.filter((function(a){return a.organizationId===e}));return 0===a.length?null:a[0]}},{key:"_removeOrgIdFromGlobals",value:function(e,a){var t=this;a.forEach((function(a){if(a.endsWith("Ids")){var n=t.globals[a].indexOf(e);-1!==n&&t.globals[a].splice(n,1)}else a.endsWith("Id")&&t.globals[a]===e&&delete t.globals[a]}))}},{key:"environment",get:function(){var e=Object.keys(this.configuration.environments)[0];return this.configuration.environments[e]}},{key:"globals",get:function(){return this.configuration.globalEnvironmentDefaults}},{key:"asyncIntervalMinutes",get:function(){return this.globals.asyncIntervalMinutes},set:function(e){this.globals.asyncIntervalMinutes=e}},{key:"bulkRestoreDestinationDataSource",get:function(){return this._findDataSourceByOrgId(this.globals.bulkRestoreDestinationOrganizationId)}},{key:"dataSources",get:function(){return this.environment.dataSources}},{key:"elastic",get:function(){return this.environment.elastic[0]},set:function(e){this.environment.elastic=[e]}},{key:"metadataBackup",get:function(){return this.environment.metadataBackup[0]},set:function(e){if(void 0===e.isEnabled||!1===e.isEnabled){var a=e.name,t=e.isEnabled;this.environment.metadataBackup=[{name:a,isEnabled:t}]}else if(void 0===e.sourceControlEnabled||!1===e.sourceControlEnabled){var n=e.name,r=e.isEnabled,l=e.sourceControlEnabled;this.environment.metadataBackup=[{name:n,isEnabled:r,sourceControlEnabled:l}]}else if("gitlab"===e.sourceControlProvider){e.gitUserId;var s=Object(E.a)(e,["gitUserId"]);this.environment.metadataBackup=[s]}else this.environment.metadataBackup=[e]}},{key:"pushToQueue",get:function(){return this.environment.pushToQueue[0]},set:function(e){if("Kafka"===e.provider){var a=e.provider,t=e.authorizationToken,n=e.apiEndpoint;this.environment.pushToQueue=[{provider:a,authorizationToken:t,apiEndpoint:n}]}else if("Apigee"===e.provider){var r=e.provider,l=e.apiClientId,s=e.apiEndpoint,i=e.apiClientSecret;this.environment.pushToQueue=[{provider:r,apiClientId:l,apiEndpoint:s,apiClientSecret:i}]}else this.environment.pushToQueue=[{}]}},{key:"sourceDataSource",get:function(){return this._findDataSourceByOrgId(this.globals.asyncAttachmentProcessorOrganizationIds[0])}},{key:"syncSalesforceEinsteinOrganizationId",get:function(){return(this.globals.syncSalesforceEinsteinOrganizationIds||[])[0]}},{key:"syncSalesforceEinsteinDataSources",get:function(){var e=this;return(this.globals.syncSalesforceEinsteinOrganizationIds||[]).map((function(a){return e._findDataSourceByOrgId(a)}))[0]||null}},{key:"storage",get:function(){return this.environment.storage[0]},set:function(e){this.environment.storage=[e]}},{key:"syncAnalytics",get:function(){return this.environment.syncAnalytics[0]},set:function(e){var a=e.isEinsteinAnalyticsEnabled,t=e.isMarketingCloudEnabled,n=Object(E.a)(e,["isEinsteinAnalyticsEnabled","isMarketingCloudEnabled"]),r=Object(k.a)({},n);if(void 0===a||!1===a){n.syncEinsteinAnalyticsDatasetName,n.syncSalesforceObjects;var l=Object(E.a)(n,["syncEinsteinAnalyticsDatasetName","syncSalesforceObjects"]),s=this.syncSalesforceEinsteinOrganizationId;void 0!==s&&this._removeOrgIdFromGlobals(s,["syncSalesforceEinsteinOrganizationIds"]),r=l}if(!1===t){n.marketingCloudHost,n.marketingCloudUser,n.marketingCloudPassword,n.marketingCloudPort;r=Object(E.a)(n,["marketingCloudHost","marketingCloudUser","marketingCloudPassword","marketingCloudPort"])}this.environment.syncAnalytics=[r]}},{key:"timeMachine",get:function(){return this.environment.timeMachine[0]},set:function(e){this.environment.timeMachine=[e]}},{key:"variables",get:function(){return this.environment.variables},set:function(e){void 0!==e.cdcEnabled?this.environment.variables=Object(k.a)({},e,{cdcEnabled:e.cdcEnabled.toString()}):this.environment.variables=e}}]),e}(),Va=function(e){var a={};return e.forEach((function(e){a[e.type]=qa(e)})),a},qa=function(e){var a=e.type,t=Object(E.a)(e,["type"]),n=[],r=Object.keys(t),l=Ma[a];return l.map((function(e){return e.jsonName})).forEach((function(e){if(r.includes(e)){var a=l.filter((function(a){return a.jsonName===e}))[0].displayName,s=Ka(e,t[e]);n.push({label:a,content:s,truncate:!0})}})),n},Ka=function(e,a){return"provider"===e?"aws"===a?"AWS":Ba.a.upperFirst(a):Ba.a.toString(a)},Ga=function(e){var a=Object(r.useState)({}),t=Object(n.a)(a,2),l=t[0],s=t[1];return Object(r.useEffect)((function(){if(e){var a=new Ua(e),t=a.elastic,n=a.storage,r=a.sourceDataSource,l=Va([Object(k.a)({},t,{type:"elastic"}),Object(k.a)({},n,{type:"storage"}),Object(k.a)({},r,{type:"salesforce"})]);s(l)}}),[e]),l},Ha=function(e){var a=e.configuration,t=Ga(a),n=t.salesforce,r=t.elastic,c=t.storage;return l.a.createElement(i.a,{hasNoHeader:!0,className:"slds-card__body_inner"},l.a.createElement(s.a,{title:"Salesforce Source",variant:"record-home",details:n}),l.a.createElement(s.a,{title:"Elasticsearch",variant:"record-home",details:r}),l.a.createElement(s.a,{title:"Cloud Storage",variant:"record-home",details:c}))},Qa=function(e){var a=e.configuration,t=Object(A.c)(),n=function(e){return t.push(e)},r=l.a.createElement(Fa.a,{assistiveText:{label:"Required Configuration"},category:"standard",name:"calibration"}),c=l.a.createElement(Fa.a,{assistiveText:{label:"Advanced Configuration"},category:"standard",name:"custom"});return l.a.createElement("div",{className:"summaryCard"},l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement(s.a,{onRenderActions:function(){return l.a.createElement(o.a,null,l.a.createElement(u.a,{label:"Update Credentials",onClick:function(){return n(I.l)}}))},title:"Required Configuration",variant:"record-home",icon:r}),l.a.createElement(Ha,{configuration:a})),l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement(s.a,{onRenderActions:function(){return l.a.createElement(o.a,null,l.a.createElement(u.a,{label:"Edit Advanced Configuration",onClick:function(){return n(I.k)}}))},title:"Advanced Configuration",variant:"record-home",icon:c}),l.a.createElement(i.a,{hasNoHeader:!0},l.a.createElement(xa.a,{theme:"dark"},l.a.createElement("p",null,"Only advanced users should edit these settings.")))))},Wa=function(){var e=pa(),a=Object(n.a)(e,1)[0];return!a||Ba.a.isEqual(a,Ea)?l.a.createElement(za,null):l.a.createElement(Qa,{configuration:a})},Ya=function(e,a){var t=a.payload;switch(a.type){case"ADVANCED_CONFIG_INITIAL_LOAD":case"ADVANCED_CONFIG_SET_VALUE":return Object(k.a)({},e,{},t);default:throw new F}},Xa=function(e,a){var t=a.type,n=a.payload;switch(t){case"QUICK_START_FORM_INITIAL_LOAD":return Object(k.a)({},e,Object(ma.a)({name:n.name},e.provider,Object(k.a)({},e[e.provider],{provider:e.provider},n)));case"QUICK_START_FORM_SET_PROVIDER":return Object(k.a)({},e,{provider:n.provider});case"QUICK_START_FORM_SET_NAME":return Object(k.a)({},e,Object(ma.a)({name:n.name},e.provider,Object(k.a)({},e[e.provider],{name:n.name})));case"BASIC_CONFIG_SET_VALUE":return Object(k.a)({},e,Object(ma.a)({},e.provider,Object(k.a)({},e[e.provider],{name:e.name,provider:e.provider},n)));default:throw new F}},Ja=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xa;return function(i){var c=i.children,o=i.value,u=Object(r.useReducer)(s,t),d=Object(n.a)(u,2),m=d[0],E=d[1];return Object(r.useEffect)((function(){void 0!==o&&(o.provider&&E({type:"QUICK_START_FORM_SET_PROVIDER",payload:{provider:o.provider}}),E({type:"QUICK_START_FORM_INITIAL_LOAD",payload:o}))}),[o]),l.a.createElement(e.Provider,{value:m},l.a.createElement(a.Provider,{value:E},c))}},Za=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ya;return function(i){var c=i.children,o=i.value,u=Object(r.useReducer)(s,t),d=Object(n.a)(u,2),m=d[0],E=d[1];return Object(r.useEffect)((function(){E({type:"ADVANCED_CONFIG_INITIAL_LOAD",payload:o})}),[o]),l.a.createElement(e.Provider,{value:m},l.a.createElement(a.Provider,{value:E},c))}},$a=function(e,a){var t=a.type,n=a.payload,r=a.meta,l=e.provider;switch(t){case"QUICK_START_FORM_INITIAL_LOAD":return Object(k.a)({},e,Object(ma.a)({},l,n));case"QUICK_START_FORM_SET_PROVIDER":return Object(k.a)({},e,{provider:n.provider});case"SALESFORCE_CONNECTION_SET_VALUE":var s=e[l][r.variant];return Object(k.a)({},e,Object(ma.a)({},l,Object(k.a)({},e[l],Object(ma.a)({},r.variant,Object(k.a)({provider:l},s,{},n)))));default:throw new F}},et=(Je={provider:"salesforce"},Object(ma.a)(Je,"salesforce",{sourceDataSource:{},syncSalesforceEinstein:{},bulkRestoreDestination:{}}),Object(ma.a)(Je,"oauth",{}),Je),at=Object(r.createContext)(),tt=Object(r.createContext)(),nt=function(){return[ua(at),da(tt)]},rt=Ja(at,tt,et,$a),lt=(Ze={name:"Default",provider:"bonsai"},Object(ma.a)(Ze,"bonsai",{}),Object(ma.a)(Ze,"aws",{}),Object(ma.a)(Ze,"elasticIo",{}),Ze),st=Object(r.createContext)(),it=Object(r.createContext)(),ct=function(){return[ua(st),da(it)]},ot=Ja(st,it,lt),ut=($e={provider:"aws"},Object(ma.a)($e,"aws",{}),Object(ma.a)($e,"aws-ecs",{}),Object(ma.a)($e,"azure",{}),Object(ma.a)($e,"google",{}),Object(ma.a)($e,"minio",{}),$e),dt=Object(r.createContext)(),mt=Object(r.createContext)(),Et=function(){return[ua(dt),da(mt)]},ft=Ja(dt,mt,ut),bt=(ea={},Object(ma.a)(ea,"elastic","Elastic"),Object(ma.a)(ea,"storage","cloud storage"),Object(ma.a)(ea,"sourceDataSource","Salesforce"),Object(ma.a)(ea,"syncSalesforceEinstein","Einstein Salesforce Destination"),Object(ma.a)(ea,"bulkRestoreDestination","Bulk Restore Salesforce Destination"),ea),vt={successful:{label:"success",category:"utility",colorVariant:"default",name:"success"},failed:{label:"failure",category:"utility",colorVariant:"error",name:"error"}},pt=function(e,a){var t=Object(r.useState)(a),l=Object(n.a)(t,2),s=l[0],i=l[1];if(Object(r.useEffect)((function(){i(a)}),[a]),""!==s){var c=bt[e];return{iconSettings:vt[s],message:{successful:"".concat(c," credentials validated"),failed:"Invalid ".concat(c," credentials")}[s]}}return{}},gt=function(e){return l.a.createElement(Fa.a,{assistiveText:{label:e.label},category:e.category,colorVariant:e.colorVariant,name:e.name,size:"x-small"})},ht=function(e){var a=e.variant,t=e.status,n=pt(a,t),r=n.iconSettings,s=n.message;return l.a.createElement(l.a.Fragment,null,void 0!==r&&void 0!==s&&l.a.createElement("div",{className:"slds-grid slds-row slds-grid_align-center slds-m-bottom_x-small "},l.a.createElement(xa.a,{icon:gt(r),theme:"light"},l.a.createElement("p",null,s))))},Ot=function(e){var a=e.options,t=e.value,n=e.id,r=e.required,s=void 0===r||r,i=e.onClick,c=function(e){!1===s&&e===t?i(null):i(e,n)};return l.a.createElement(d.a,null,a.map((function(e){return l.a.createElement(u.a,{label:e.label,key:e.label,onClick:function(){return c(e.value)},variant:e.value===t?"brand":"neutral",disabled:e.disabled})})))};Ot.defaultProps={required:!0,id:null};var _t=Ot,Nt=t(30),yt=t(53),Ct=function(e){var a=e.value,t=e.type,s=void 0===t?"text":t,i=e.helpText,c=e.disabled,o=void 0!==c&&c,u=e.onBlur,d=e.secured,m=e.blocked,f=Object(E.a)(e,["value","type","helpText","disabled","onBlur","secured","blocked"]),b=Object(r.useState)(a),v=Object(n.a)(b,2),p=v[0],g=v[1],h=Object(r.useState)(d?"password":s),O=Object(n.a)(h,2),_=O[0],N=O[1],y=Object(r.useState)(!!m||o),C=Object(n.a)(y,2),S=C[0],j=C[1];return Object(r.useEffect)((function(){return g(a)}),[a]),l.a.createElement(de.a,Object.assign({value:p,type:_,disabled:S,onBlur:function(e){!0===m&&j(!0),void 0!==u&&u(e)},onChange:function(e){return g(e.target.value)}},!0===d?function(e,a){return{iconRight:l.a.createElement(Nt.a,{name:"password"===e?"preview":"hide",category:"utility",onClick:a})}}(_,(function(){return N("password"===_?s:"password")})):{},!0===m?function(e,a){return{iconRight:l.a.createElement(Nt.a,{name:!0===e?"edit":"error",category:"utility",onClick:a})}}(S,(function(){return j(!S)})):{},void 0!==i?function(e){return{fieldLevelHelpTooltip:l.a.createElement(yt.a,{id:"field-level-help-tooltip",align:"top left",content:e})}}(i):{},f))},St=function(e){e.type,e.provider,e.organizationId;var a=Object(E.a)(e,["type","provider","organizationId"]),t=Object.values(a);return!!(t.length>0&&t.find((function(e){return""!==e})))},jt=function(e){var a=Object(r.useState)(!0),t=Object(n.a)(a,2),l=t[0],s=t[1];return Object(r.useEffect)((function(){s(!0);var e=setTimeout((function(){return s(!1)}),3e3);return function(){return clearTimeout(e)}}),[e]),l},At=function(){var e=K(),a=Object(n.a)(e,2),t=a[0],l=t.isLoading,s=t.data,i=t.error,c=a[1],o=Object(r.useState)({status:""}),u=Object(n.a)(o,2),d=u[0],m=u[1],E=Object(r.useState)(null),f=Object(n.a)(E,2),b=f[0],v=f[1];return Ia(l),Object(r.useEffect)((function(){null!==b&&c(function(e){return{url:I.i,method:"POST",data:e}}(b))}),[b]),Object(r.useEffect)((function(){null!==s&&m(s)}),[s]),Object(r.useEffect)((function(){null!==i&&m(i)}),[i]),[d,v]},It=function(e){var a=e.name,t=e.userName,s=e.password,i=e.token,c=e.url,o=e.organizationId,d=e.onBlur,m=e.onValidated,E=At(),f=Object(n.a)(E,2),b=f[0],v=f[1];Object(r.useEffect)((function(){return m(b)}),[b]);return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"SFDC Username",required:!0,value:t,id:"userName",onBlur:d})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"SFDC Password",required:!0,secured:!0,value:s,id:"password",onBlur:d})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"SFDC Security Token",required:!0,secured:!0,value:i,id:"token",onBlur:d}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"SFDC URL",helpText:"https://login.salesforce.com for Production  |  https://test.salesforce.com for Sandbox",required:!0,value:c,id:"url",onBlur:d})),o&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{readOnly:!0,label:"SFDC Organization ID (18 Digit)",value:o,id:"organizationId",onBlur:d}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"Validate SFDC Connection",variant:"outline-brand",onClick:function(){return v({type:"salesforce",credentials:{provider:"selectedTab",userName:t,password:s,token:i,url:c,name:a,organizationId:o}})}}))))},Rt=t(142),Tt=function(e){return Object(Rt.a)(e),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"OAuth",variant:"outline-brand"})))},kt=function(e,a){if(void 0===e)throw new Error("Action Name is required");if(void 0===a)throw new Error("Dispatch is required");return function(t,n,r){if(void 0===t)throw new Error("Property name is required");a({meta:r,type:e,payload:Object(ma.a)({},t,n)})}},wt=function(e,a){var t=kt(e,a);return function(e){var a=e.target,n=a.type,r=a.id,l=a.valueAsNumber,s=a.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=i.meta,o=void 0===c?{}:c,u=i.valueCasting,d=void 0===u||u;if(void 0===r)throw new Error("Id is required");var m="number"===n&&!0===d?l:s;t(r,m,o)}},Dt=function(e,a){var t=kt(e,a);return function(e,a){if(void 0===e)throw new Error("Name is required");t(e,1===a.length?a[0].value:null)}},Bt=function(e,a){var t=kt(e,a);return function(e,a){var n=e.target.id,r=a.checked;if(void 0===n)throw new Error("Id is required");t(n,r)}},xt=function(e,a){var t=kt(e,a);return function(e,a){if(void 0===a)throw new Error("Id is required");t(a,e)}},Pt=function(e){if(void 0===e.provider)throw new Error("No Provider Tab Selected");return e[e.provider]},zt=[{label:"Username / Password",value:"salesforce"}],Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sourceDataSource",a=nt(),t=Object(n.a)(a,2),r=t[0],l=t[1],s=Pt(r),i=wt("SALESFORCE_CONNECTION_SET_VALUE",l),c=function(a){return i(a,{meta:{variant:e}})},o=s[e]||{},u=o.userName,d=o.password,m=o.token,E=o.url,f=o.name,b=o.organizationId,v=r.provider;return[{selectedTab:v,userName:u,password:d,token:m,url:E,name:f,organizationId:b,options:zt},{onBlur:c,dispatch:l}]},Mt=function(e){var a=e.variant,t=e.showConnectionName,s=void 0!==t&&t,i=Object(r.useState)(""),c=Object(n.a)(i,2),o=c[0],u=c[1],d=jt(o),m=Ft(a),E=Object(n.a)(m,2),f=E[0],b=f.userName,v=f.password,p=f.token,g=f.url,h=f.name,O=f.organizationId,_=f.options,N=f.selectedTab,y=E[1],C=y.onBlur,S=y.dispatch;return l.a.createElement(l.a.Fragment,null,!0===d&&l.a.createElement(ht,{variant:a,status:o.status}),!0===s&&l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-bottom_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(Ct,{label:"Connection Name",required:!0,value:h,id:"name",helpText:'Please name your Salesforce connection e.g. "Dev Sandbox\u201c',onBlur:C}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(_t,{options:_,value:N,onClick:function(e){return S({type:"QUICK_START_FORM_SET_PROVIDER",payload:{provider:e}})}}))),"salesforce"===N?l.a.createElement(It,{userName:b,password:v,token:p,url:g,name:h,organizationId:O,onBlur:C,onValidated:u}):l.a.createElement(Tt,null))},Lt=function(){return l.a.createElement(Z.a,{title:"Salesforce Connection",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},l.a.createElement(Mt,{showConnectionName:!0,variant:"sourceDataSource"}))},Ut=function(e){var a=e.url,t=e.onBlur;return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Bonsai URL",required:!0,value:a,id:"url",onBlur:t})))};Ut.defaultProps={url:""};var Vt=Ut,qt=function(e){function a(e){var t;return Object(D.a)(this,a),(t=Object(B.a)(this,Object(x.a)(a).call(this,e))).state={inputValue:"",selection:[]},t}return Object(P.a)(a,e),Object(La.a)(a,[{key:"componentDidMount",value:function(){this.setState({selection:this.props.selection})}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({selection:this.props.selection})}},{key:"render",value:function(){var e=this;return l.a.createElement(pe.a,{events:{onChange:function(a,t){var n=t.value;e.props.onSelect(a,n),e.setState({inputValue:n})},onRequestRemoveSelectedOption:function(a,t){e.setState({inputValue:"",selection:[]}),e.props.onSelect(a,t.selection)},onSubmit:function(a,t){var n=t.value;e.props.onSelect(a,n),e.setState({inputValue:"",selection:[].concat(Object(ve.a)(e.state.selection),[{label:n,icon:l.a.createElement(Fa.a,{assistiveText:{label:"Account"},category:"standard",name:"account"})}])})},onSelect:function(a,t){var n;(n=e.props).onSelect.apply(n,[a].concat(Object(ve.a)(Object.keys(t).map((function(e){return t[e]}))))),e.setState({inputValue:"",selection:t.selection})}},labels:this.props.labels,options:Object(ge.a)({inputValue:this.state.inputValue,options:this.props.options,selection:this.state.selection||[],limit:1e3}),selection:this.state.selection,value:this.state.selectedOption?this.state.selectedOption.label:this.state.inputValue,variant:"inline-listbox",required:!0,menuItemVisibleLength:5})}}]),a}(l.a.Component);qt.displayName="SCombobox";var Kt,Gt=qt,Ht=(Kt={},Object(ma.a)(Kt,"us-east-2","US East (Ohio)"),Object(ma.a)(Kt,"us-east-1","US East (N. Virginia)"),Object(ma.a)(Kt,"us-west-1","US West (N. California)"),Object(ma.a)(Kt,"us-west-2","US West (Oregon)"),Object(ma.a)(Kt,"ap-east-1","Asia Pacific (Hong Kong)"),Object(ma.a)(Kt,"ap-south-1","Asia Pacific (Mumbai)"),Object(ma.a)(Kt,"ap-northeast-3","Asia Pacific (Osaka-Local)"),Object(ma.a)(Kt,"ap-northeast-2","Asia Pacific (Seoul)"),Object(ma.a)(Kt,"ap-southeast-1","Asia Pacific (Singapore)"),Object(ma.a)(Kt,"ap-southeast-2","Asia Pacific (Sydney)"),Object(ma.a)(Kt,"ap-northeast-1","Asia Pacific (Tokyo)"),Object(ma.a)(Kt,"ca-central-1","Canada (Central)"),Object(ma.a)(Kt,"eu-central-1","Europe (Frankfurt)"),Object(ma.a)(Kt,"eu-west-1","Europe (Ireland)"),Object(ma.a)(Kt,"eu-west-2","Europe (London)"),Object(ma.a)(Kt,"eu-west-3","Europe (Paris)"),Object(ma.a)(Kt,"eu-north-1","Europe (Stockholm)"),Object(ma.a)(Kt,"me-south-1","Middle East (Bahrain)"),Object(ma.a)(Kt,"sa-east-1","South America (S\xe3o Paulo)"),Kt),Qt=Object.entries(Ht).map((function(e,a){var t=Object(n.a)(e,2),r=t[0];return{label:t[1],value:r,subTitle:r,id:a.toString()}})),Wt=function(){return[Qt,function(e){var a=Qt.find((function(a){return a.value===e}));if(void 0!==a)return[a]}]},Yt=function(e){var a=e.label,t=e.value,r=e.id,s=e.onChange,i=Wt(),c=Object(n.a)(i,2),o=c[0],u=c[1];return l.a.createElement(Gt,{value:t,options:o,id:r,selection:u(t),onSelect:function(e,a){return s(a)},required:!0,labels:{label:a,placeholder:"Select Option"}})},Xt=function(e){var a=e.url,t=e.accessKey,n=e.secretAccessKey,r=e.region,s=e.onBlur,i=e.handleCombobox;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Endpoint Name",required:!0,value:a,id:"url",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Access Key ID",required:!0,secured:!0,value:t,id:"accessKey",onBlur:s}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Secret Access Key",required:!0,secured:!0,value:n,id:"secretAccessKey",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Yt,{value:r,label:"S3 Region",onChange:function(e){return i("region",e)}}))))};Xt.defaultProps={url:"",accessKey:"",secretAccessKey:"",region:""};var Jt=Xt,Zt=function(e){var a=e.user,t=e.password,n=e.url,s=e.port,i=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Elastic Username",required:!0,value:a,id:"user",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Elastic Password",required:!0,secured:!0,value:t,id:"password",onBlur:i}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Elastic URL",required:!0,value:n,id:"url",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{type:"number",label:"Elastic Port",required:!0,value:s,id:"port",onBlur:i}))))};Zt.defaultProps={user:"",password:"",url:"",port:void 0};var $t=Zt,en=function(e){var a=wt("BASIC_CONFIG_SET_VALUE",e.dispatch),t=Dt("BASIC_CONFIG_SET_VALUE",e.dispatch);switch(e.selectedTab){case"bonsai":return l.a.createElement(Vt,{url:e.url,onBlur:a});case"aws":return l.a.createElement(Jt,{url:e.url,accessKey:e.accessKey,secretAccessKey:e.secretAccessKey,region:e.region,bucket:e.bucket,onBlur:a,handleCombobox:t});case"elasticIo":return l.a.createElement($t,{user:e.user,password:e.password,url:e.url,port:e.port,onBlur:a});default:return null}},an=[{label:"Bonsai Elasticsearch",value:"bonsai"},{label:"AWS Elasticsearch",value:"aws"},{label:"Elastic.co",value:"elasticIo"}],tn=function(){var e=ct(),a=Object(n.a)(e,2),t=a[0],r=a[1],l=wt("QUICK_START_FORM_SET_NAME",r),s=xt("QUICK_START_FORM_SET_PROVIDER",r),i=t.name,c=t.provider;return[{name:i,selectedTab:c,provider:t[c],options:an},{onBlur:l,handleButtonGroup:s,dispatch:r}]},nn=function(){var e=At(),a=Object(n.a)(e,2),t=a[0],s=a[1],i=jt(t),c=tn(),o=Object(n.a)(c,2),d=o[0],m=d.selectedTab,E=d.name,f=d.provider,b=d.options,v=o[1],p=v.handleButtonGroup,g=v.onBlur,h=v.dispatch;return l.a.createElement(r.Fragment,null,l.a.createElement(Z.a,{title:"Elasticsearch Provider",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},!0===i&&l.a.createElement(ht,{variant:"elastic",status:t.status}),l.a.createElement("div",{className:"slds-grid slds-gutters_small  slds-m-bottom_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(Ct,{label:"Name",required:!0,value:E,id:"name",onBlur:g}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(_t,{options:b,value:m,id:"provider",onClick:p}))),l.a.createElement(en,Object.assign({selectedTab:m},f,{dispatch:h})),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"Validate Elastic Connection",onClick:function(){return s({type:"elastic",credentials:f})}})))))},rn=function(e){var a=e.clientId,t=e.tokenUrl,n=e.clientSecret,r=e.onBlur;return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"OAuth Client ID",value:a,id:"clientId",onBlur:r})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"OAuth Client Secret",value:n,id:"clientSecret",onBlur:r})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"OAuth Token URL",value:t,id:"tokenUrl",onBlur:r})))};rn.defaultProps={clientId:"",tokenUrl:"",clientSecret:""};var ln=rn,sn=function(e){var a=e.label,t=e.helpText;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"slds-form-element__label"},a),null!==t&&l.a.createElement(yt.a,{content:t,align:"top left",variant:"learnMore",dialogClassName:"dialog-classname"}))},cn=function(e){var a=e.isADestructiveAction,t=void 0!==a&&a,s=Object(r.useRef)(!1),i=Object(r.useState)(!1),c=Object(n.a)(i,2),o=c[0],d=c[1];return Object(r.useEffect)((function(){!1===s.current?s.current=!0:!1===t&&d(!0)}),[t]),l.a.createElement(se.a,{noHeader:!0,footer:[l.a.createElement(u.a,{key:"promptBtn",label:"Ok",onClick:function(){return d(!1)}})],isOpen:o,onRequestClose:function(){return d(!1)},prompt:"error",size:"small",title:"Confirmation Needed"},l.a.createElement("div",{className:"slds-m-around_medium"},"Once you save the configuration, you will lose the information for this feature you just disabled, and will need to re-enter the next time you enable the feature"))},on=function(e){var a=e.id,t=e.label,s=e.checked,i=e.onToggle,c=e.helpText,o=void 0===c?null:c,u=e.isDestructive,d=void 0!==u&&u,m=Object(r.useState)(!1),E=Object(n.a)(m,2),f=E[0],b=E[1];return Object(r.useEffect)((function(){return b(s)}),[s]),l.a.createElement(l.a.Fragment,null,l.a.createElement(sn,{label:t,helpText:o}),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement("div",{style:{width:0}},l.a.createElement(me.a,{variant:"toggle",id:a,checked:f,onChange:i}))),d&&l.a.createElement(cn,{isADestructiveAction:f}))},un=function(e){var a=e.s3CompatibleEndpoint,t=e.bucket,n=e.accessKeyName,r=e.secretAccessKey,s=e.enableOAuth,i=e.clientId,c=e.tokenUrl,o=e.clientSecret,u=e.region,d=e.onBlur,m=e.handleCheckbox,E=e.handleCombobox;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Endpoint",required:!0,value:a,id:"s3CompatibleEndpoint",onBlur:d})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"S3 Bucket Name",required:!0,value:t,id:"bucket",onBlur:d})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Yt,{label:"S3 Region",value:u,onChange:function(e){return E("region",e)}}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Access Key ID",required:!0,secured:!0,value:n,id:"accessKey",onBlur:d})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Secret Access Key",required:!0,secured:!0,value:r,id:"secretAccessKey",onBlur:d})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(on,{label:"Enable OAuth",checked:s,id:"enableOAuth",variant:"toggle",isDestructive:!0,onToggle:m}))),!0===s&&l.a.createElement(ln,{clientId:i,tokenUrl:c,clientSecret:o,onBlur:d}))};un.defaultProps={s3CompatibleEndpoint:"",bucket:"",accessKeyName:"",secretAccessKey:"",enableOAuth:!1,clientId:"",tokenUrl:"",clientSecret:"",region:""};var dn=un,mn=function(e){var a=e.s3AssumeRoleArn,t=e.s3AssumeRoleRefreshCredsInHour,n=e.s3AssumeRoleExternalId,s=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement("h3",{className:"slds-section__title"},l.a.createElement("span",{className:"slds-truncate",title:"Cloud Storage Provider"},"Assume Role Options")),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Assume Role / ARN Name",required:!0,value:a,id:"s3AssumeRoleArn",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Refresh Token / Expiry Time (Hours)",type:"number",required:!0,value:t,id:"s3AssumeRoleRefreshCredsInHour",onBlur:s})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Assume Role External ID",value:n,id:"s3AssumeRoleExternalId",onBlur:s}))))},En=function(e){var a=e.heading;return l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_x-small"},l.a.createElement("div",{className:"slds-col slds-size_3-of-3"},l.a.createElement("h3",{className:"slds-section__title"},l.a.createElement("span",{className:"slds-truncate",title:"Cloud Storage Provider"},a))))},fn=[{label:"AES256",value:"AES256"},{label:"AWS KMS",value:"AWS KMS"},{label:"No Encryption",value:""}],bn=function(e){var a=e.serverSideEncryption,t=void 0===a?"AES256":a,n=e.serverSideEncryptionKmsKey,s=e.onBlur,i=e.handleButtonGroup;return l.a.createElement(r.Fragment,null,l.a.createElement(En,{heading:"Server-Side Encryption"}),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement("span",{className:"slds-form-element__label"},"\xa0"),l.a.createElement("div",{className:"slds-form-element__control"},l.a.createElement(_t,{options:fn,value:t,id:"serverSideEncryption",onClick:i}))),"AWS KMS"===t&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"S3 KMS ID",value:n,id:"serverSideEncryptionKmsKey",onBlur:s}))))},vn=function(e){var a=e.accessKeyName,t=e.secretAccessKey,n=e.bucket,r=e.region,s=e.s3AssumeRoleEnabled,i=e.s3AssumeRoleArn,c=e.s3AssumeRoleRefreshCredsInHour,o=e.s3AssumeRoleExternalId,u=e.serverSideEncryptionKmsKey,d=e.serverSideEncryption,m=e.onBlur,E=e.handleButtonGroup,f=e.handleCheckbox,b=e.handleCombobox;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"S3 Bucket Name",required:!0,value:n,id:"bucket",onBlur:m})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Yt,{label:"S3 Region",value:r,id:"region",onChange:function(e){return b("region",e)}})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Access Key ID",required:!0,secured:!0,value:a,id:"accessKey",onBlur:m}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Secret Access Key",required:!0,secured:!0,value:t,id:"secretAccessKey",onBlur:m})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(on,{label:"Assume Role Enabled",checked:s,id:"s3AssumeRoleEnabled",variant:"toggle",isDestructive:!0,onToggle:f}))),!0===s&&l.a.createElement(mn,{s3AssumeRoleArn:i,s3AssumeRoleRefreshCredsInHour:c,s3AssumeRoleExternalId:o,onBlur:m}),l.a.createElement(bn,{serverSideEncryptionKmsKey:u,serverSideEncryption:d,onBlur:m,handleButtonGroup:E}))};vn.defaultProps={accessKeyName:"",secretAccessKey:"",bucket:"",region:"",s3AssumeRoleEnabled:!1,s3AssumeRoleArn:"",s3AssumeRoleExternalId:"",s3AssumeRoleRefreshCredsInHour:12,serverSideEncryptionKmsKey:"",serverSideEncryption:""};var pn=vn,gn=function(e){var a=e.storageAccountName,t=e.containerName,n=e.accountAccessKey,r=e.onBlur;return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Azure Storage Account Name",required:!0,value:a,id:"storageAccountName",onBlur:r})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Azure Container Name",required:!0,value:t,id:"containerName",onBlur:r})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Storage Account Access Key",required:!0,secured:!0,value:n,id:"accountAccessKey",onBlur:r})))},hn=function(e){var a=e.googleProjectId,t=e.googleBucketName,n=e.googlePrivateKey,s=e.googleClientEmail,i=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Google Project Id",required:!0,value:a,id:"googleProjectId",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Google Bucket Name",required:!0,value:t,id:"googleBucketName",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Google Private Key",secured:!0,required:!0,value:n,id:"googlePrivateKey",onBlur:i}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Google Client Email",value:s,id:"googleClientEmail",onBlur:i}))))};hn.defaultProps={googleProjectId:"",googleBucketName:"",googlePrivateKey:"",googleClientEmail:""};var On=hn,_n=function(){return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(de.a,{label:"Minio Endpoint"})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(de.a,{label:"Minio Port"})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(de.a,{label:"Minio Access Key"}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(de.a,{label:"Minio Secret Key"})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(de.a,{label:"Minio Bucket Name"}))))},Nn=function(e){var a=e.dispatch,t=wt("BASIC_CONFIG_SET_VALUE",a),n=Dt("BASIC_CONFIG_SET_VALUE",a),r=Bt("BASIC_CONFIG_SET_VALUE",a),s=xt("BASIC_CONFIG_SET_VALUE",a);switch(e.selectedTab){case"aws":return l.a.createElement(pn,{provider:e.provider,name:e.name,accessKeyName:e.accessKey,secretAccessKey:e.secretAccessKey,bucket:e.bucket,region:e.region,s3AssumeRoleEnabled:e.s3AssumeRoleEnabled,serverSideEncryptionKmsKey:e.serverSideEncryptionKmsKey,serverSideEncryption:e.serverSideEncryption,onBlur:t,handleButtonGroup:s,handleCheckbox:r,handleCombobox:n});case"aws-ecs":return l.a.createElement(dn,{s3CompatibleEndpoint:e.s3CompatibleEndpoint,bucket:e.bucket,region:e.region,accessKeyName:e.accessKey,secretAccessKey:e.secretAccessKey,enableOAuth:e.enableOAuth,clientId:e.clientId,tokenUrl:e.tokenUrl,clientSecret:e.clientSecret,onBlur:t,handleCheckbox:r,handleCombobox:n});case"azure":return l.a.createElement(gn,{storageAccountName:e.storageAccountName,containerName:e.containerName,accountAccessKey:e.accountAccessKey,onBlur:t});case"google":return l.a.createElement(On,{googleProjectId:e.googleProjectId,googleBucketName:e.googleBucketName,googlePrivateKeyId:e.googlePrivateKeyId,googlePrivateKey:e.googlePrivateKey,googleClientEmail:e.googleClientEmail,onBlur:t});case"minio":return l.a.createElement(_n,null);default:return null}},yn=[{label:"AWS S3 Storage",value:"aws"},{label:"S3 Compatible",value:"aws-ecs"},{label:"Azure BLOB",value:"azure"},{label:"Google Cloud Platform",value:"google"}],Cn=function(){var e=Et(),a=Object(n.a)(e,2),t=a[0],r=a[1],l=xt("QUICK_START_FORM_SET_PROVIDER",r),s=t.provider;return[{selectedTab:s,provider:t[s],options:yn},{handleButtonGroup:l,dispatch:r}]},Sn=function(){var e=At(),a=Object(n.a)(e,2),t=a[0],r=a[1],s=jt(t),i=Cn(),c=Object(n.a)(i,2),o=c[0],d=o.selectedTab,m=o.provider,E=o.options,f=c[1],b=f.handleButtonGroup,v=f.dispatch;return l.a.createElement(Z.a,{title:"Cloud Storage Provider",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},!0===s&&l.a.createElement(ht,{variant:"storage",status:t.status}),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_2-of-3"},l.a.createElement(_t,{options:E,value:d,id:"provider",onClick:b}))),l.a.createElement(Nn,Object.assign({selectedTab:d},m,{dispatch:v})),l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(u.a,{label:"Validate Storage Connection",onClick:function(){return r({type:"storage",credentials:m})}}))))},jn=function(){var e=Object(A.c)();return{goToSummaryRoute:function(){return e.push(I.n)},goToBasicConfigurationRoute:function(){return e.push(I.l)},goToAdvancedConfigurationRoute:function(){return e.push(I.k)}}},An=function(e){var a=function(){var e=K(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:I.h,method:"POST",data:e})}]}(),t=Object(n.a)(a,2),l=t[0],s=l.isLoading,i=l.error,c=l.data,o=t[1],u=Ra()[1],d=u.successNotification,m=u.errorNotification,E=jn().goToSummaryRoute;return Ia(s),Object(r.useEffect)((function(){null!==i&&m(function(e){var a=e.invalidCredentials,t=void 0===a?{}:a,n=e.schemaValidationErrors,r=void 0===n?[]:n,l=Object.keys(t);if(l.length>0){var s=l.map((function(e){return bt[e]})).join(", ");return"Invalid credentials: ".concat(s)}if(r.length>0){var i=r[0];for(var c in i)if(i[c].schemaPath.includes("#/definitions/metadataBackup"))return"Invalid credentials: Git Integration"}}(i))}),[i]),Object(r.useEffect)((function(){null!==c&&"successful"===c.status&&(d("Configuration saved successfully"),e({type:"CONFIGURATION_RELOAD_STATE",payload:c.configuration}),E())}),[c]),o},In=function(){var e=pa(),a=Object(n.a)(e,2),t=a[0],r=a[1],l=nt(),s=Object(n.a)(l,1)[0],i=ct(),c=Object(n.a)(i,1)[0],o=Et(),u=Object(n.a)(o,1)[0],d=Pt(s),m=Pt(c),E=Pt(u),f=An(r);return function(){var e=new Ua(t);e.addDataSource(d.sourceDataSource),e.elastic=m,e.storage=E,f(e.configuration)}},Rn=function(e){var a=e.formRef,t=e.onSubmit,n=Object(A.c)();return l.a.createElement("div",{className:"slds-grid slds-m-bottom_medium",style:{justifyContent:"flex-end"}},l.a.createElement(u.a,{className:"slds-m-right_x-small",label:"Save",variant:"brand",type:void 0!==a?"submit":"button",onClick:function(){void 0!==a?!0===a.current.checkValidity()&&t():t()}}),l.a.createElement(u.a,{label:"Cancel",onClick:function(){return n.push(I.n)}}))},Tn=function(e){var a=e.formRef,t=In();return l.a.createElement(Rn,{formRef:a,onSubmit:t})},kn=function(){var e=pa()[0],a=Object(r.createRef)(),t=new Ua(e);return[{dataSources:{sourceDataSource:Object(k.a)({},t.sourceDataSource,{type:"sourceDataSource"})},elastic:t.elastic,storage:t.storage,formRef:a}]},wn=function(){var e=kn(),a=Object(n.a)(e,1)[0],t=a.dataSources,r=a.elastic,s=a.storage,i=a.formRef;return l.a.createElement(rt,{value:t},l.a.createElement(ot,{value:r},l.a.createElement(ft,{value:s},l.a.createElement("form",{ref:i,onSubmit:function(e){return e.preventDefault()}},l.a.createElement(Pa,{text:"Ensure you have the correct credentials for ALL sections before beginning.\n        Upon saving the page, a test will be made to verify each connection.\n        You will not be able to save until all connections are validated."}),l.a.createElement(Tn,{formRef:i}),l.a.createElement(Lt,null),l.a.createElement(nn,null),l.a.createElement(Sn,null)))))},Dn={sourceControlProvider:"github"},Bn=Object(r.createContext)(),xn=Object(r.createContext)(),Pn=function(){return[ua(Bn),da(xn)]},zn=Za(Bn,xn,Dn),Fn=function(e,a){var t=a.payload,n=a.type;switch(n){case"ENVIRONMENT_VARIABLE_SET_VARS":return Object(k.a)({},e,{variables:Object(k.a)({},e.variables,{},t)});case"ENVIRONMENT_VARIABLE_SET_TIME_MACHINE":return Object(k.a)({},e,{timeMachine:Object(k.a)({},e.timeMachine,{},t)});case"ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE":return Object(k.a)({},e,{pushToQueue:Object(k.a)({},e.pushToQueue,{},t)});default:return Ya(e,{payload:t,type:n})}},Mn=Object(r.createContext)(),Ln=Object(r.createContext)(),Un=function(){return[ua(Mn),da(Ln)]},Vn=Za(Mn,Ln,{variables:{},timeMachine:{},pushToQueue:{},asyncIntervalMinutes:"10"},Fn),qn=Object(r.createContext)(),Kn=Object(r.createContext)(),Gn=function(){return[ua(qn),da(Kn)]},Hn=Za(qn,Kn),Qn=[{label:"Github",value:"github"},{label:"GitLab",value:"gitlab"}],Wn=function(e){return[{options:Qn}]},Yn=function(e){var a=e.sourceControlProvider,t=e.gitRepositoryName,s=e.gitRepoAuthorizationToken,i=e.gitUserId,c=e.handleButtonGroup,o=e.onBlur,u=Wn(),d=Object(n.a)(u,1)[0].options;return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(_t,{options:d,value:a,id:"sourceControlProvider",onClick:c}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Git Repository Name",required:!0,value:t,id:"gitRepositoryName",onBlur:o})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Git Repository Authorization Token",helpText:"In Github you should be able to find by navigating to: user>settings>developer settings>personal access token>generate token",required:!0,secured:!0,value:s,id:"gitRepoAuthorizationToken",onBlur:o})),"github"===a&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Git User ID",required:!0,value:i,id:"gitUserId",onBlur:o}))))},Xn=function(){var e=Pn(),a=Object(n.a)(e,2),t=a[0],r=a[1],s=wt("ADVANCED_CONFIG_SET_VALUE",r),i=xt("ADVANCED_CONFIG_SET_VALUE",r),c=Bt("ADVANCED_CONFIG_SET_VALUE",r),o=t.isEnabled,u=t.sourceControlEnabled,d=t.sourceControlProvider,m=t.gitRepositoryName,E=t.gitRepoAuthorizationToken,f=t.gitUserId;return l.a.createElement(Z.a,{title:"Metadata Backup Settings",className:"slds-m-bottom_medium slds-m-top_none"},l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-bottom_x-small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(on,{label:"Enable Metadata Backup",helpText:"By default, metadata will always be backed up to the configured cloud storage provider.",id:"isEnabled",checked:o,isDestructive:!0,onToggle:c})),!0===o&&l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(on,{label:"Enable Git Integration",id:"sourceControlEnabled",checked:u,isDestructive:!0,variant:"toggle",onToggle:c}))),!0===o&&!0===u&&l.a.createElement(Yn,{gitRepositoryName:m,gitRepoAuthorizationToken:E,gitUserId:f,sourceControlProvider:d,handleButtonGroup:i,onBlur:s}))},Jn=function(e){var a=e.syncEinsteinAnalyticsDatasetName,t=e.syncSalesforceObjects,n=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement(En,{heading:"Einstein Analytics Settings"}),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Einstein Dataset Name",helpText:"The Einstein dataset will get created with a default name; you can use this option to set a specific name for the dataset",value:a,id:"syncEinsteinAnalyticsDatasetName",onBlur:n})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"AnalyticsObjects",value:t,id:"syncSalesforceObjects",onBlur:n}))))},Zn=function(){return l.a.createElement(r.Fragment,null,l.a.createElement(En,{heading:"Einstein Salesforce Destination"}),l.a.createElement("div",{className:" slds-m-top_x-small"},l.a.createElement(Mt,{showConnectionName:!0,variant:"syncSalesforceEinstein"})))},$n=function(e){var a=e.marketingCloudHost,t=e.marketingCloudUser,n=e.marketingCloudPassword,s=e.marketingCloudPort,i=e.onBlur;return l.a.createElement(r.Fragment,null,l.a.createElement(En,{heading:"Marketing Cloud Settings"}),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Marketing Cloud Host (FTP)",required:!0,value:a,id:"marketingCloudHost",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Marketing Cloud Username (FTP)",required:!0,value:t,id:"marketingCloudUser",onBlur:i})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Marketing Cloud Password (FTP)",required:!0,secured:!0,value:n,id:"marketingCloudPassword",onBlur:i}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Marketing Cloud Port (FTP)",type:"number",required:!0,value:s,id:"marketingCloudPort",onBlur:i}))))},er=function(e){var a=Gn(),t=Object(n.a)(a,2),l=t[0],s=t[1],i=wt("ADVANCED_CONFIG_SET_VALUE",s),c=Bt("ADVANCED_CONFIG_SET_VALUE",s),o=kt("ADVANCED_CONFIG_SET_VALUE",s),u=l.marketingCloudHost,d=l.marketingCloudUser,m=l.marketingCloudPassword,E=l.marketingCloudPort,f=l.syncQueryFile,b=l.syncBatchSize,v=l.syncDestinationAnalyticsUrl,p=l.syncSalesforceObjects,g=l.syncEinsteinAnalyticsDatasetName,h=l.isEinsteinAnalyticsEnabled,O=l.isMarketingCloudEnabled;return Object(r.useEffect)((function(){void 0!==e&&o("isEinsteinAnalyticsEnabled",!0)}),[e]),Object(r.useEffect)((function(){void 0!==u&&o("isMarketingCloudEnabled",!0)}),[u]),[{isEinsteinAnalyticsEnabled:h,isMarketingCloudEnabled:O,marketingCloudHost:u,marketingCloudUser:d,marketingCloudPassword:m,marketingCloudPort:E,syncQueryFile:f,syncBatchSize:b,syncDestinationAnalyticsUrl:v,syncSalesforceObjects:p,syncEinsteinAnalyticsDatasetName:g},{onBlur:i,handleCheckbox:c}]},ar=function(e){var a=e.syncSalesforceEinsteinOrganizationId,t=er(a),r=Object(n.a)(t,2),s=r[0],i=s.isEinsteinAnalyticsEnabled,c=s.isMarketingCloudEnabled,o=s.marketingCloudHost,u=s.marketingCloudUser,d=s.marketingCloudPassword,m=s.marketingCloudPort,E=s.syncQueryFile,f=s.syncBatchSize,b=s.syncSalesforceObjects,v=s.syncEinsteinAnalyticsDatasetName,p=r[1],g=p.onBlur,h=p.handleCheckbox;return l.a.createElement(Z.a,{title:"Data Sync",className:"slds-m-bottom_medium slds-m-top_none"},l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(on,{label:"Einstein Analytics",checked:i,id:"isEinsteinAnalyticsEnabled",isDestructive:!0,variant:"toggle",onToggle:h})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(on,{label:"Marketing Cloud",checked:c,id:"isMarketingCloudEnabled",isDestructive:!0,variant:"toggle",onToggle:h}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Query File",helpText:"Please ensure the query file is a json file and .json is included in the file name you enter here. This json configuration query file must be stored in the following path of your cloud storage providerExample Path: Amazon S3 > Vandelay Industries Prod Bucket > grax > audittrail > salesforce > Org ID of Salesforce Environment > configurationqueryfile.json",required:!0,value:E,id:"syncQueryFile",onBlur:g})),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,{label:"Batch Size",type:"number",value:f,id:"syncBatchSize",onBlur:g}))),!0===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Jn,{syncEinsteinAnalyticsDatasetName:v,syncSalesforceObjects:b,onBlur:g}),l.a.createElement(Zn,null)),c&&l.a.createElement($n,{marketingCloudHost:o,marketingCloudUser:u,marketingCloudPassword:d,marketingCloudPort:m,onBlur:g}))},tr=function(e){var a=e.isOpen,t=e.onRequestClose,n=e.confirm;return l.a.createElement(se.a,{noHeader:!0,footer:[l.a.createElement(u.a,{key:"promptBtn",label:"Cancel",onClick:t}),l.a.createElement(u.a,{key:"promptBtn",label:"Confirm",variant:"brand",onClick:n})],isOpen:a,onRequestClose:t,prompt:"error",size:"medium",title:"Confirmation Needed to Reveal Section"},l.a.createElement("div",{className:"slds-m-around_medium"},"This section is meant for configuring system settings that only an advanced GRAX admin or enablement engineer will be familiar with. Please proceed with caution and reach out to GRAX Support if you have any questions."))},nr=t(2),rr=t.n(nr),lr=(t(199),function(e){var a=e.children,t=e.title,s=(e.helpText,e.isOpen),i=void 0!==s&&s,c=e.nonCollapsible,o=void 0!==c&&c,d=e.className,m=void 0===d?"slds-m-bottom_medium slds-m-top_none":d,E=Object(r.useState)(!!o||i),f=Object(n.a)(E,2),b=f[0],v=f[1],p=l.a.createElement("span",{className:rr()("slds-truncate",{"slds-p-horizontal_small":!!o}),title:t},t),g=o?p:l.a.createElement(u.a,{iconCategory:"utility",iconClassName:"slds-section__title-action-icon slds-button__icon_left",iconName:"switch",onClick:function(){return v(!b)},className:"slds-section__title-action",variant:"base"},p);return l.a.createElement("div",{className:rr()(m,"slds-section",{"slds-is-open":b})},l.a.createElement("h3",{className:rr()("slds-section__title",{"slds-theme_shade":!!o})},g),l.a.createElement("div",{className:"slds-section__content"},a))}),sr=function(e){return function(a){return function(t){var s=Object(w.a)({},t),i=Object(r.useState)(!1),c=Object(n.a)(i,2),o=c[0],d=c[1],m=Object(r.useState)(!1),E=Object(n.a)(m,2),f=E[0],b=E[1],v=Object(r.useState)(!1),p=Object(n.a)(v,2),g=p[0],h=p[1];return l.a.createElement(lr,{title:e},l.a.createElement(u.a,{iconCategory:"utility",iconVariant:"bare",iconName:o?"hide":"preview",iconPosition:"left",onClick:function(){!1===o&&!1===g?b(!0):d(!o)},variant:"base",label:o?"Hide Fields":"Reveal Fields",className:"slds-m-top_x-small"}),!0===o&&l.a.createElement("ul",{className:"slds-m-top_x-small"},l.a.createElement(a,s)),l.a.createElement(tr,{isOpen:f,onRequestClose:function(){return b(!1)},confirm:function(){d(!0),b(!1),g||h(!0)}}))}}},ir=function(e){var a=e.label,t=e.variableName,n=e.type,r=e.value,s=e.onBlur,i=Object(E.a)(e,["label","variableName","type","value","onBlur"]);return l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(Ct,Object.assign({label:a,id:t,type:n,value:r,onBlur:function(e){return s(e,{valueCasting:!1})},valueCasting:!0},i)))},cr=sr("Attachment Settings")((function(e){var a=e.ATTACHMENT_BATCH_SIZE,t=e.ATTACHMENT_PROCESSING_SECONDS_PER_RECORD,n=e.onBlur;return l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(ir,{label:"Attachment Batch Size",helpText:"Used by async attachment process to grab this many attachments at a size (default = 5000)",variableName:"ATTACHMENT_BATCH_SIZE",value:a,type:"number",onBlur:n}),l.a.createElement(ir,{label:"Attachment Processing Seconds Per Record",helpText:"Used for attachment processing expiry time calculations (default = 5 seconds)",variableName:"ATTACHMENT_PROCESSING_SECONDS_PER_RECORD",value:t,onBlur:n}))})),or=(sr("Org Migration Settings")((function(e){var a=e.GRAX_SYNCHID,t=e.RESTORE_SLEEP_DURATION,n=e.GRAX_OBJECT_TYPES_TO_RESTORE,r=e.GRAX_MAX_RESTORE,s=e.onBlur;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(ir,{label:"Synch ID",variableName:"GRAX_SYNCHID",value:a,type:"number",onBlur:s}),l.a.createElement(ir,{label:"Bulk Restore Sleep Duration (Minutes)",variableName:"RESTORE_SLEEP_DURATION",value:t,onBlur:s}),l.a.createElement(ir,{label:"Objects to Restore",variableName:"GRAX_OBJECT_TYPES_TO_RESTORE",value:n,onBlur:s})),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(ir,{label:"Bulk Restore Max Batch Size",variableName:"GRAX_MAX_RESTORE",value:r,type:"number",onBlur:s})),l.a.createElement(En,{heading:"Bulk Restore Salesforce Destination"}),l.a.createElement("div",{className:"slds-m-top_x-small"},l.a.createElement(Mt,{showConnectionName:!0,variant:"bulkRestoreDestination"})))})),sr("Point in Time Restore")((function(e){var a=e.queryFile,t=e.onBlur;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(ir,{label:"Point-in-Time Restore Query File",variableName:"queryFile",value:a,required:!0,onBlur:t})))})),[{label:"Apigee",value:"Apigee"},{label:"Kafka",value:"Kafka"}]),ur=(sr("Push to Queue")((function(e){var a=e.provider,t=e.apiEndpoint,n=e.apiClientId,r=e.apiClientSecret,s=e.authorizationToken,i=e.onToggle,c=e.onBlur,o=[];if("Apigee"===a||"Kafka"===a)switch(o.push(l.a.createElement(ir,{label:"Push-to-Queue API Endpoint",variableName:"apiEndpoint",value:t,required:!0,onBlur:c})),a){case"Apigee":o.push([l.a.createElement(ir,{label:"Push-to-Queue API Client ID",variableName:"apiClientId",value:n,required:!0,onBlur:c}),l.a.createElement(ir,{label:"Push-to-Queue API Client Secret",variableName:"apiClientSecret",value:r,required:!0,onBlur:c})]);break;case"Kafka":o.push(l.a.createElement(ir,{label:"Push-to-Queue Authorization Token",variableName:"authorizationToken",value:s,required:!0,onBlur:c}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_x-small"},l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},l.a.createElement(_t,{options:or,value:a,required:!1,onClick:function(e){return i("provider",e)}}))),l.a.createElement("div",{className:"slds-grid slds-gutters_small"},o))})),sr("Other")((function(e){var a=e.asyncIntervalMinutes,t=e.asyncIntervalMinutesOnBlur,r=Et(),s=Object(n.a)(r,2),i=s[0],c=s[1];i.storageOff,Bt("BASIC_CONFIG_SET_VALUE",c);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"slds-grid slds-gutters_small"},l.a.createElement(ir,{label:"Async Interval (minutes)",helpText:"Determines the interval that the asynchronous heroku dyno runs at. Note that if you have set GRAX_ENV_ASYNC_INTERVAL_MINUTES in your heroku config vars, that value will override this field.",variableName:"asyncIntervalMinutes",value:a,required:!0,type:"number",onBlur:t}),l.a.createElement("div",{className:"slds-col slds-size_1-of-3"},!1)))}))),dr=function(){var e=Un(),a=Object(n.a)(e,2),t=a[0],r=a[1],s=t.variables,i=void 0===s?{}:s,c=t.timeMachine,o=void 0===c?{}:c,u=t.pushToQueue,d=void 0===u?{}:u,m=t.asyncIntervalMinutes,E=(d.provider,d.apiEndpoint,d.apiClientId,d.apiClientSecret,d.authorizationToken,o.queryFile,i.cdcEnabled,i.ATTACHMENT_BATCH_SIZE),f=i.ATTACHMENT_PROCESSING_SECONDS_PER_RECORD,b=(i.GRAX_SYNCHID,i.RESTORE_SLEEP_DURATION,i.GRAX_OBJECT_TYPES_TO_RESTORE,i.GRAX_MAX_RESTORE,Bt("ENVIRONMENT_VARIABLE_SET_VARS",r),wt("ENVIRONMENT_VARIABLE_SET_VARS",r)),v=(wt("ENVIRONMENT_VARIABLE_SET_TIME_MACHINE",r),kt("ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE",r),wt("ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE",r),wt("ADVANCED_CONFIG_SET_VALUE",r));return l.a.createElement(l.a.Fragment,null,!1,l.a.createElement(cr,{ATTACHMENT_BATCH_SIZE:E,ATTACHMENT_PROCESSING_SECONDS_PER_RECORD:f,onBlur:b}),!1,!1,!1,l.a.createElement(ur,{asyncIntervalMinutes:m,asyncIntervalMinutesOnBlur:v}))},mr=function(){var e=pa(),a=Object(n.a)(e,2),t=a[0],r=a[1],l=Et(),s=Object(n.a)(l,1)[0],i=Pn(),c=Object(n.a)(i,1)[0],o=Gn(),u=Object(n.a)(o,1)[0],d=Un(),m=Object(n.a)(d,1)[0],E=nt(),f=Object(n.a)(E,1)[0],b=Pt(f),v=Pt(s),p=An(r);return function(){var e=new Ua(t);e.storage=v;var a,r=b.bulkRestoreDestination,l=b.syncSalesforceEinstein;St(r)&&e.addDataSource(r),St(l)&&!0===u.isEinsteinAnalyticsEnabled&&e.addDataSource(l),e.syncAnalytics=u,e.metadataBackup=(a=c,Object.entries(a).reduce((function(e,t){var r=Object(n.a)(t,2),l=r[0],s=r[1],i=Object(k.a)({},e);return""!==s&&(i[l]=a[l]),i}),{})),e.timeMachine=m.timeMachine,e.pushToQueue=m.pushToQueue,e.variables=m.variables,e.asyncIntervalMinutes=m.asyncIntervalMinutes,p(e.configuration)}},Er=function(){var e=mr();return l.a.createElement(Rn,{onSubmit:e})},fr=function(){var e=pa(),a=Object(n.a)(e,1)[0],t=Object(r.createRef)(),l=new Ua(a),s=l.asyncIntervalMinutes,i=l.storage,c=l.metadataBackup,o=l.syncAnalytics,u=l.variables,d=l.timeMachine,m=l.pushToQueue,E=l.syncSalesforceEinsteinOrganizationId;return{dataSources:{syncSalesforceEinstein:Object(k.a)({},l.syncSalesforceEinsteinDataSources,{type:"syncSalesforceEinstein"}),bulkRestoreDestination:Object(k.a)({},l.bulkRestoreDestinationDataSource,{type:"bulkRestoreDestination"})},storage:i,metadataBackup:c,syncAnalytics:o,environmentVariables:{asyncIntervalMinutes:s,variables:u,timeMachine:d,pushToQueue:m},syncSalesforceEinsteinOrganizationId:E,formRef:t}},br=function(){var e=fr(),a=e.dataSources,t=e.storage,n=e.syncSalesforceEinsteinOrganizationId,r=e.metadataBackup,s=e.syncAnalytics,i=e.environmentVariables;return l.a.createElement(zn,{value:r},l.a.createElement(rt,{value:a},l.a.createElement(Hn,{value:s},l.a.createElement(Vn,{value:i},l.a.createElement(ft,{value:t},l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},l.a.createElement(Pa,{text:"Please note that fields designated with * should be filled out\n                  in order for a particular feature to work as expected"}),l.a.createElement(Er,null),l.a.createElement(Xn,null),l.a.createElement(ar,{syncSalesforceEinsteinOrganizationId:n}),l.a.createElement(dr,null)))))))},vr=[{path:I.n,key:"".concat(I.n,"2"),component:wa,routes:[{exact:!0,key:I.n,path:I.n,component:Wa},{exact:!0,key:I.l,path:I.l,component:wn},{exact:!0,key:I.k,path:I.k,component:br},{exact:!0,key:I.o,path:I.o,component:za}]},{exact:!0,key:I.g,path:I.g,component:J},{exact:!0,key:I.e,path:I.e,component:aa},{exact:!0,key:I.f,path:I.f,component:aa},{exact:!0,key:I.b,path:I.b,component:oa}];a.a=vr},150:function(e,a,t){e.exports=t(247)},155:function(e,a,t){},157:function(e,a,t){},21:function(e,a,t){"use strict";t.d(a,"n",(function(){return o})),t.d(a,"h",(function(){return u})),t.d(a,"k",(function(){return d})),t.d(a,"j",(function(){return m})),t.d(a,"c",(function(){return E})),t.d(a,"a",(function(){return f})),t.d(a,"b",(function(){return b})),t.d(a,"d",(function(){return O})),t.d(a,"m",(function(){return C})),t.d(a,"e",(function(){return y})),t.d(a,"i",(function(){return S})),t.d(a,"f",(function(){return j})),t.d(a,"g",(function(){return A}));var n=t(7),r=t(22),l=t.n(r);t.d(a,"l",(function(){return l.a}));t(158),t(161);var s=t(27),i=t.n(s),c=l.a.locales();function o(e,a,t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+a+";"+r+";path=/"}function u(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var r=t[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(a))return r.substring(a.length,r.length)}return""}var d=null!=window.parent,m=!0===navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),E=/^((?:(?:19|20)\d{2})-(?:10|11|12|0?\d)-(?:30|31|(?:0|1|2)\d))((?:(?:T|\s)(?:(?:0|1|2)\d)(?:\:[0-5]\d)(?::[0-5]\d)?((?:(?:\.\d{3})?)?Z?(?:[+-](?:0|1|2)\d\:?[0-5]\d)?))?)$/,f="L LT",b="L",v=window.location.search.match(/[\?&]locale\=([^&]+)/),p=window.location.search.match(/[\?&]tz\=([^&]+)/),g=window.navigator.userLanguage||window.navigator.language,h=v?decodeURIComponent(v[1]).split("_").join("-"):g,O=p?decodeURIComponent(p[1]):l.a.tz.guess(),_={"in-ID":"id","iw-IL":"he","lu-CD":"yo","no-NO":"nb","rm-CH":"nl","rn-BI":"yo","sh-BA":"sr","sh-CS":"sr","sh-ME":"sr","sh-ME-USD":"sr","so-DJ":"fr","so-SO":"fr","sr-BA":"sr-cyrl","sr-CS":"sr-cyrl","ti-ET":"fr","xh-ZA":"af","zh-MO":"zh-hk","zh-SG":"zh-hk","zu-ZA":"en"};console.log("Available localizations: "+c.join(", "));var N=h;null!=_[N]&&(N=_[N]),N=N.toLowerCase(),-1===c.indexOf(N)&&-1!==h.indexOf("-")&&(N=N.split("-")[0]),-1!==c.indexOf(N)?l.a.locale(N):l.a.locale("en"),O&&l.a.tz.setDefault(O),console.log("User Locale: "+h),console.log("Trying to use locale: ",N),console.log("Available Locale: "+l.a.locale()),console.log("User TimeZone: "+O);var y=function(e){var a=e.inputValue,t=e.limit,n=void 0===t?10:t,r=e.options,l=(e.selection,new RegExp(i.a.escapeRegExp(a),"ig"));return i.a.filter(r,(function(e,t){return!a||"separator"===e.type||e.label.match(l)||e.id.match(l)})).splice(0,n)},C=function(e,a,t){return Object.assign({},e,Object(n.a)({},a,t))},S=function(e){var a=e.date,t=e.timezone,n=void 0===t?O:t,r=e.inputFormat,s=void 0===r?"YYYY-MM-DD":r,i=e.outputFormat,c=void 0===i?"YYYY-MM-DDTHH:mm:ss.SSS":i;return[l.a.tz(a,s,n).startOf("day").utc().format(c),l.a.tz(a,s,n).endOf("day").utc().format(c)]},j=function(e){return e?l.a.utc(e).format(b):""},A=function(e){var a=l.a.utc(e,"L");return new Date(a.year(),a.month(),a.date())}},247:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(13),s=t.n(l),i=(t(155),t(112));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(i.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,a,t){"use strict";t.d(a,"m",(function(){return n})),t.d(a,"n",(function(){return r})),t.d(a,"l",(function(){return l})),t.d(a,"k",(function(){return s})),t.d(a,"o",(function(){return i})),t.d(a,"c",(function(){return c})),t.d(a,"g",(function(){return o})),t.d(a,"e",(function(){return u})),t.d(a,"f",(function(){return d})),t.d(a,"b",(function(){return m})),t.d(a,"h",(function(){return E})),t.d(a,"i",(function(){return f})),t.d(a,"j",(function(){return b})),t.d(a,"d",(function(){return v})),t.d(a,"p",(function(){return p})),t.d(a,"a",(function(){return g}));var n="/grax-app/client/cloud",r="".concat(n,"/configuration"),l="".concat(r,"/basic-configuration"),s="".concat(r,"/advanced-configuration"),i="".concat(r,"/empty-landing-page"),c="".concat(n,"/dedup"),o="".concat(c,"/scenarios"),u="".concat(c,"/scenarios/:scenario_id"),d="".concat(c,"/scenarios/new"),m="".concat(c,"/duplicates/:scenario_id"),E="/grax-app/cloud-configuration",f="".concat(E,"/validations"),b="/grax-app/grax-data-lake",v="/graxproxy/api/dedup",p="".concat(v,"/scenarios"),g="".concat("/grax-app/assets","/assets/icons/")},70:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(1),s=t.n(l),i=t(146),c=t(6);s.a.arrayOf(s.a.shape({key:s.a.string.isRequired,path:s.a.oneOf([c.n,c.l,c.m,c.k,c.o,c.g,c.e,c.f,c.b]).isRequired,exact:s.a.bool,component:s.a.elementType.isRequired})).isRequired;a.a=function(e){var a=e.routes,t=void 0===a?[]:a;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(i.b,{key:e.key,path:e.path,exact:e.exact,render:function(){return r.a.createElement(e.component,{routes:e.routes})}})})))}}},[[150,4,5]]]);
//# sourceMappingURL=main.0e469a97.chunk.js.map