{"version":3,"sources":["lib/grax-data-lake.js","components/SLDSSection.jsx","components/GRAXDatePicker.jsx","public/js/jquery.sldsTree.js","lib/summaryChartData.js","lib/summaryChartsUtils.js","components/GRAXSummaryChartsChart.jsx","components/GRAXSummaryChartsAdvanced.jsx"],"names":["baseUrl","token","window","__grax__","_csrf","orgid","pageParams","userid","GetParams","params","undefined","action","$","param","ajaxSetup","beforeSend","xhr","settings","method","setRequestHeader","authorization","type","test","this","crossDomain","withCredentials","skipFail","fail","jqXHR","textStatus","errorThrown","console","error","status","showError","statusText","responseText","SLDSSection","props","isOpen","isCollapsible","state","handleToggle","bind","e","onToggle","setState","prevState","preventDefault","id","key","title","helpText","className","children","titleElement","join","onClick","assistiveText","label","category","name","size","React","Component","GRAXDatePicker","useState","isValidDate","setIsValidDate","formatter","datePickerFormatter","parser","datePickerParser","onChange","event","data","formattedDate","moment","date","isValid","svgns","fn","sldsTree","options","extend","items","childs","attrs","root","ul","li","div","button","expandButton","expandIcon","onUl","$ul","onLi","$li","item","onDiv","$div","append","onButton","$button","onFinish","$root","getTreeItemContent","level","attr","disabled","toggleClass","icon","document","createElementNS","setAttribute","class","icon_use","setAttributeNS","path","appendChild","on","i","getTreeItemButton","length","getTreeItem","getTree","each","html","jQuery","legacyAPILogged","formatDates","fromDT","fromDate","getFullYear","getMonth","toString","padStart","getDate","toDT","toDate","getUTCTimeRangeFromUserDate","summaryChartData","callback","gp","start","end","Id","gspid","ajax","url","success","err","log","readyState","loadV1SummaryData","contentType","JSON","stringify","source","info","err_message","description","package_name","query","AND","INVALID_DATE","push","GTE","LTE","KEQ","graxorgid","spId","dataIndex","_index","_select","_q","_limit","_from","_sort","_sortType","_ignore_unavailable","results","loadLegacySummaryData","objectsToExcludeFromSummary","module","exports","isObjectExcludedFromSummary","objectName","indexOf","toLowerCase","GRAXSummaryChartsChart","Date","setHours","setMinutes","chartOptions","call","chartObjectTopTen","chartObjectByDate","chartSummaryTopTen","chartSummaryByDate","chartAttributeProgressByDate","chartDeleteTrackingByDate","isLoading","summaryData","defaultChartSettings","width","height","chartArea","left","showChartAttr","showRecords","showInserted","showUpdated","showArchived","chartFromDate","chartToDate","showAttributeFilter","hideChartOptions","chartSelection","google","charts","setOnLoadCallback","drawChart","sortedNames","otherSum","objIndexes","chartDataIndexes","chartData","counter","nameSet","Set","forEach","summary","summaryMap","add","Array","sort","a","b","obj","smyIndex","n","records","tempN","top10BackedUpObjects","rec","visualization","arrayToDataTable","parse","sliceVisibilityThreshold","PieChart","DataTable","addColumn","fromDateAxis","toDateAxis","objectsTotalValue","startTime","smyDate","smyDateFormated","formatStartTime","getHours","fill","v","f","addRows","interpolateNulls","pointSize","explorer","hAxis","format","viewWindow","min","max","viewWindowMode","vAxis","LineChart","summaryIndexes","spName","summaryResults","top10BackedUpSummaries","sumRes","attIndexes","attrNames","attrName","summarysTotalValue","selectedSummaries","containsSelectedObjects","setSeconds","getMinutes","getSeconds","isStacked","ColumnChart","Map","objectLabels","formatDate","rowData","has","get","hasData","Object","entries","sumMap","archived","set","sortedLbls","from","lbl","val1","getTime","val2","value","row","addRow","slantedText","slantedTextAngle","minorGridlines","count","vAxes","0","1","gridlines","color","textStyle","series","ret","isBlank","chartEl","draw","selection","chartInput","dt","variant","events","onRequestRemoveSelectedOption","onSelect","selectChart","onChartSelect","labels","placeholder","comboboxFilterAndLimit","inputValue","limit","defaultChecked","isChecked","toggleDisabled","toggleEnabled","ref","nextProps","CustomDataTableCell","href","encodeURI","executionUniqueKey","target","rel","displayName","DataTableCell","MomentFormattedCell","DATE_FORMAT","utc","tz","TZ","RECORD_SUMMARIES_VARIANT","GRAXSummaryChartsAdvanced","chart","createRef","summaryDataResults","summaryDataSelected","itemsObjectsByDataRange","itemsObjectsByDataRangeSelection","summaryBreakdownDTItems","summaryBreakdownDTSelection","summaryDTItems","summaryDTSelection","displayValuesOptions","displayValuesSelection","renderCounter","filterParams","_currentOrgRecords","summaryDTFilters","checked","loadSummaries","currentChartSelected","chartSelected","gspId","loadSummaryDataTable","loadSummaryBreakdownTable","loadObjectDataTable","getScheduleProcessBreakdownSelection","summaries4chart","index","summaryList","dtSummaries","displayValuesOption","inserted","updated","CreatedDate","existIndex","filter","summaryToShow","dtSummary","objectsList","keys","dataTableRefreshSort","property","sortDirection","updateState","getSelectedSummary","allSummaries","objName","_allSumaries","startTimes","dateIndex","dateData","refreshChart","summartDataResults","summaryIds","objNames","tempData","update","endTime","current","setDateFilter","summaryBreakdownDTHandleChanged","itemsObjectsByDataRangeHandleChanged","getObjectsSelection","dtName","sortColumn","callSortFunction","sortProperty","newState","dataTableSortFunction","direction","val","dataTableId","displayValuesInput","style","actionsHeader","columnSort","columnSortedAscending","columnSortedDescending","selectAllRows","selectRow","fixedHeader","fixedLayout","selectRows","onRowChange","summaryDTHandleChanged","onSort","dataTableHandleSort","sortable","primaryColumn","isSorted","getIsDatatableSortedColumn","currentStepSelection","parentStepSelection","currentStepItems","reduce","accumulator","find","x","parentItem","currentItem","getSummaryBreakdownDTItems","sectionTitle","DATETIME_FORMAT","getItemsObjectsByDataRange","renderAggregatedScheduleProcessSection","renderScheduleProcessBreakdownSection","renderObjectsSection","minHeight","renderFilterCriteriaSection","renderFilterSections","defaultProps"],"mappings":"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","file":"static/js/2.9d20a5d6.chunk.js","sourcesContent":["/* eslint-disable no-useless-escape */\n/* --------------------------------------------------------------------------\n * This file is subject to the terms and conditions defined in\n * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,\n * which is part of this source code package.\n * --------------------------------------------------------------------------\n *          Copyright (c) 2017-2018 Harding Point\n *                  All rights reserved\n * --------------------------------------------------------------------------\n * Support:\tSupport@Grax.io\n * Website:\thttps://grax.io\n * Github:\thttps://github.com/HardingPoint/grax-application\n * License:\thttps://github.com/HardingPoint/grax-application/blob/master/LICENSE\n * --------------------------------------------------------------------------*/\n\nimport $ from \"jquery\";\n\n// export const isDev = window.location.port !== '80';\n\nexport const isDev = false;\n\nexport const baseUrl = isDev ? process.env.REACT_APP_BASE_URL : \"\";\n\nexport const token = window.__grax__.token;\nexport const _csrf = window.__grax__._csrf;\nexport const orgid = window.__grax__.orgid;\nexport const userid = window.__grax__.userid;\nexport const sessionid = null;\nexport const endpoint = null;\nexport const pageParams = window.__grax__.pageParams || {};\n\nexport function GetParams(params) {\n  if (params === null || params === undefined) params = {};\n\n  if (params.action === null || params.action === undefined || params.action === \"\")\n    params.action = \"load\";\n\n  return \"?\" + $.param(params);\n}\n\nfunction csrfSafeMethod(method) {\n  // these HTTP methods do not require CSRF protection\n  return /^(GET|HEAD|OPTIONS|TRACE)$/.test(method);\n}\n$.ajaxSetup({\n  beforeSend: function(xhr, settings) {\n    xhr.setRequestHeader(\"sfdcorgid\", orgid);\n\n    if (pageParams.authorization != null) {\n      xhr.setRequestHeader(\"Authorization\", \"Basic \" + pageParams.authorization);\n    } else {\n      // load token\n      // anticipates that the API token is in the referrer\n      xhr.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n    }\n\n    if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n      xhr.setRequestHeader(\"X-CSRFToken\", _csrf);\n    }\n\n    xhr.withCredentials = true;\n\n    if (settings.skipFail !== true) {\n      xhr.fail((jqXHR, textStatus, errorThrown) => {\n        console.error(jqXHR);\n\n        if (jqXHR.status !== 404 && errorThrown !== \"Not Found\") {\n          window.showError(jqXHR.statusText + \": \" + jqXHR.responseText);\n        }\n      });\n    }\n  }\n});\n\nexport { $ };\n","/* eslint-disable */\nimport React from \"react\";\nimport { Icon } from \"@salesforce/design-system-react\";\n\nimport PropTypes from \"prop-types\";\n\nconst propTypes = {\n  isOpen: PropTypes.bool,\n  isCollapsible: PropTypes.bool,\n  onToggle: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  helpText: PropTypes.any,\n  id: PropTypes.string,\n  key: PropTypes.string,\n  children: PropTypes.any.isRequired\n};\n\nclass SLDSSection extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { isOpen, isCollapsible } = props;\n\n    this.state = {\n      isOpen: isOpen === true ? true : false || isCollapsible === undefined\n    };\n\n    this.handleToggle = this.handleToggle.bind(this);\n  }\n\n  handleToggle(e) {\n    const { onToggle } = this.props;\n\n    this.setState(prevState => ({\n      isOpen: !prevState.isOpen\n    }));\n\n    if (onToggle) {\n      onToggle(isOpen);\n    }\n\n    e.preventDefault();\n  }\n\n  render() {\n    const { id, key, isCollapsible, title, helpText, className, children } = this.props;\n    const { isOpen } = this.state;\n\n    const titleElement = (\n      <span\n        className={`slds-truncate${isCollapsible ? \"\" : \" slds-p-horizontal_small\"}`}\n        title={title}\n      >\n        {title}\n        {helpText}\n      </span>\n    );\n\n    return (\n      <div\n        id={id || key}\n        className={[\"slds-section\", isOpen && \"slds-is-open\", className].join(\n          \" \"\n        )}\n      >\n        <h3 className=\"slds-section__title slds-theme_shade\">\n          {isCollapsible ? (\n            <button type=\"button\" className=\"slds-button slds-section__title-action\" onClick={this.handleToggle}>\n              <Icon\n                assistiveText={{ label: title }}\n                category=\"utility\"\n                name=\"switch\"\n                size=\"x-small\"\n                className=\"slds-section__title-action-icon slds-button__icon slds-button__icon_left\"\n              />\n              {titleElement}\n            </button>\n          ) : (\n            titleElement\n          )}\n        </h3>\n        {isOpen && <div className=\"slds-section__content\">{children}</div>}\n      </div>\n    );\n  }\n}\n\nSLDSSection.propTypes = propTypes;\n\nexport default SLDSSection;\n","/* eslint react/prop-types: 0 */\nimport React, { useState } from \"react\";\n\nimport { Datepicker } from \"@salesforce/design-system-react\";\n\nimport { moment, datePickerFormatter, datePickerParser } from \"../lib/utils\";\n\nconst GRAXDatePicker = props => {\n  const [isValidDate, setIsValidDate] = useState(true);\n\n  return (\n    <div className=\"slds-is-relative\">\n      <Datepicker\n        formatter={datePickerFormatter}\n        parser={datePickerParser}\n        // eslint-disable-next-line\n        {...props}\n        onChange={(event, data) => {\n          setIsValidDate(data.formattedDate === \"\" || moment(data.date).isValid());\n\n          if (props.onChange != null) {\n            props.onChange(event, data);\n          }\n        }}\n      />\n      {isValidDate === false ? (\n        <div className=\"slds-text-color_error\">\n          The date is invalid. Please select/write a valid date.\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default GRAXDatePicker;\n","import jQuery from 'jquery'\n\n(function($) {\n\tvar svgns = 'http://www.w3.org/2000/svg';\n\tvar xlinkns = 'http://www.w3.org/1999/xlink';\n\n    $.fn.sldsTree = function(options) {\n    \tvar $this = this;\n\n    \tvar settings = $.extend(true, {\n        \tdata: [],\n        \titems: {\n        \t\tid: 'id',\n        \t\tlabel: 'label',\n        \t\tchilds: 'childs',\n        \t},\n        \tattrs: {\n\t\t\t\troot: {'class': 'slds-tree_container'},\n\t\t\t\tul: {'class': 'slds-tree'},\n\t\t\t\tli: {\n\t\t\t\t\t'role': 'treeitem',\n\t\t\t\t\t'aria-level': '1',\n\t\t\t\t\t'aria-expanded': 'false'\n\t\t\t\t},\n\t\t\t\tdiv: {'class': 'slds-tree__item'},\n\t\t\t\tbutton: {\n\t\t\t\t\t'class': 'slds-button slds-button_icon slds-m-right_x-small',\n\t\t\t\t\t'aria-hidden': 'true',\n\t\t\t\t\t'tabindex': '-1'\n\t\t\t\t}\n\t\t\t},\n\t\t\texpandButton: {\n\t\t\t\t'disabled': 'slds-is-disabled'\n\t\t\t},\n\t\t\texpandIcon: {\n\t\t\t\t'class': 'slds-button__icon slds-button__icon_small',\n\t\t\t\t'path': './assets/icons/utility-sprite/svg/symbols.svg#chevronright'\n\t\t\t},\n        \tonUl: function($ul, items, settings) {},\n        \tonLi: function($li, item, settings) {},\n        \tonDiv: function($div, item, settings) {\n        \t\t$div.append(item[settings.items.label]);\n        \t},\n        \tonButton: function($button, item, settings) {},\n            onFinish: function($root, items, settings) {}\n        }, options);\n\n        var getTreeItemButton = function(item, disabled, $li) {\n        \tvar $button = $('<button>').attr(settings.attrs.button).toggleClass(settings.expandButton.disabled, disabled);\n\n        \tvar icon = document.createElementNS(svgns, 'svg');\n        \ticon.setAttribute('class', settings.expandIcon.class);\n        \ticon.setAttribute('aria-hidden', 'true');\n\n        \tvar icon_use = document.createElementNS(svgns, 'use');\n        \ticon_use.setAttributeNS(xlinkns, 'xlink:href', settings.expandIcon.path);\n        \t\n        \ticon.appendChild(icon_use);\n\n    \t\t$button.append(icon);\n\n        \t$button.on('click', function(e) {\n        \t\t$li.attr('aria-expanded', function(i, attr) {\n\t\t            return !(attr === 'true');\n\t\t        });\n\n\t\t        e.preventDefault();\n        \t});\n\n        \tsettings.onButton($button, item, settings);\n\n        \treturn $button;\n        }\n\n        var getTreeItemContent = function(item, level, $ul, $li) {\n        \tvar $div = $('<div>').attr(settings.attrs.div);\n\n\t\t\t$div.append(getTreeItemButton(item, !item[settings.items.childs] || item[settings.items.childs].length < 1, $li));\n\n        \tsettings.onDiv($div, item, settings);\n\n        \treturn $div;\n        }\n\n        var getTreeItem = function(item, level, $ul) {\n        \tvar $li = $('<li>').attr(settings.attrs.li);\n\n        \t$li.attr({'aria-level': level}).append(getTreeItemContent(item, level, $ul, $li));\n        \tif(item[settings.items.childs]) {\n        \t\t$li.append(getTree(item[settings.items.childs], level+1));\n        \t}\n\n        \tsettings.onLi($li, item, settings);\n\n        \treturn $li;\n        };\n\n        var getTree = function(items, level) {\n        \tvar $ul = $('<ul>').attr(settings.attrs.ul);\n\n        \tif(level > 1) $ul.attr({'role': 'group'});\n\n\t        $.each(items, function(i, item) {\n\t        \t$ul.append(getTreeItem(item, level, $ul));\n\t        });\n\n\t        settings.onUl($ul, items, settings);\n\n\t        return $ul;\n        };\n\n        $this.attr(settings.attrs.root).html(getTree(settings.data, 1));\n\n        settings.onFinish($this, settings.data, settings);\n\n        return $this;\n    };\n \n}(jQuery));","import $ from 'jquery';\n\nimport { baseUrl, GetParams } from './grax-data-lake';\nimport { getUTCTimeRangeFromUserDate, INVALID_DATE } from './utils';\n\nlet legacyAPILogged = false;\n/**\n * Loads summary Data from Postgres or Elastic\n *\n * @export\n * @param { Object } params - Search Parameters\n * @param { String } params.orgid - SF Organization ID\n * @param { String } params.gspid - Grax Scheduled Process ID *\n * @param { Date } params.fromDate - Date to search From\n * @param { Date } params.toDate - Date to search To\n * @param { callback } (success, data) - callback with boolean of success or failure and data array of results *\n */\nfunction summaryChartData(params, callback) {\n  loadV1SummaryData(params, (success, data) => {\n    if (success) {\n      callback(true, data);\n    } else {\n      if (!legacyAPILogged) {\n        $.ajax({\n          type: \"POST\",\n          skipFail: true, // don't panic if this call fails, an attempt was made\n          url: `${baseUrl}/grax-app/grax-data-lake/sendLog`,\n          contentType: \"application/json; charset=utf-8\",\n          data: JSON.stringify({\n            source: \"summaryChartData\",\n            info: \"loadLegacySummaryData\",\n            err_message: \"loadLegacySummaryData\",\n            description: \"Loading Chart Summary Data from legacy API\",\n            package_name: \"summarycharts\",\n          }),\n        });\n        legacyAPILogged = true;\n      }\n      loadLegacySummaryData(params, callback);\n    }\n  });\n}\n\nfunction formatDates(params) {\n  let fromDT = params.fromDate;\n  fromDT = `${fromDT.getFullYear()}-${(fromDT.getMonth() + 1)\n    .toString()\n    .padStart(2, 0)}-${fromDT.getDate().toString().padStart(2, 0)}`;\n  let toDT = params.toDate;\n  toDT = `${toDT.getFullYear()}-${(toDT.getMonth() + 1)\n    .toString()\n    .padStart(2, 0)}-${toDT.getDate().toString().padStart(2, 0)}`;\n\n  // eslint-disable-next-line prefer-destructuring\n  fromDT = getUTCTimeRangeFromUserDate({ date: fromDT })[0];\n  // eslint-disable-next-line prefer-destructuring\n  toDT = getUTCTimeRangeFromUserDate({ date: toDT })[1];\n\n  return { fromDT, toDT };\n}\n\nfunction loadV1SummaryData(params, callback) {\n  const { fromDT, toDT } = formatDates(params);\n  const gp = GetParams({\n    action: \"load\",\n    start: `${fromDT}Z`,\n    end: `${toDT}Z`,\n    orgid: params.orgid,\n    Id: params.gspid,\n  });\n  $.ajax({\n    type: \"GET\",\n    url: `${baseUrl}/api/v1/report/backup${gp}`,\n    skipFail: true, // don't panic if this call fails, fall back to the legacy API\n    success: (data) => {\n      // IF NO data.results THEN LOAD FOR WORKING ONLY LOCALLY\n      callback(true, data || []);\n    },\n    error: (xhr, textStatus, err) => {\n      console.log(`readyState: ${xhr.readyState}`);\n      console.log(`responseText: ${xhr.responseText}`);\n      console.log(`status: ${xhr.status}`);\n      console.log(`text status: ${textStatus}`);\n      console.log(`error: ${err}`);\n      callback(false, []);\n    },\n  });\n}\n\nfunction loadLegacySummaryData(params, callback) {\n  const query = { AND: [] };\n  const { fromDT, toDT } = formatDates(params);\n  if (fromDT !== INVALID_DATE) {\n    query.AND.push({ GTE: { \"summaryResults.startTime\": fromDT } });\n  }\n\n  if (toDT !== INVALID_DATE) {\n    query.AND.push({ LTE: { \"summaryResults.startTime\": toDT } });\n  }\n\n  if (params.orgid !== \"\") {\n    query.AND.push({ KEQ: { graxorgid: params.orgid } });\n  }\n\n  if (params.gspid != null) {\n    query.AND.push({ KEQ: { spId: params.gspid } });\n  }\n\n  const gp = GetParams({\n    action: \"load\",\n    dataIndex: \"graxgrax_backup_summaryindex\",\n    _index: \"graxgrax_backup_summaryindex,graxgrax_summaryindex\",\n    _select: \"summaryMap,spName,spId,CreatedDate,summaryResults,executionUniqueKey\",\n    _q: JSON.stringify(query),\n    _limit: 1000,\n    _from: 0,\n    _sort: \"\",\n    _sortType: \"\",\n    _ignore_unavailable: true,\n  });\n\n  $.ajax({\n    type: \"GET\",\n    url: `${baseUrl}/grax-app/grax-data-lake${gp}`,\n    success: (data) => {\n      // IF NO data.results THEN LOAD FOR WORKING ONLY LOCALLY\n      if (data.results) {\n        callback(true, data.results);\n      } else {\n        callback(true, []);\n      }\n    },\n    error: (xhr, textStatus, err) => {\n      console.log(`readyState: ${xhr.readyState}`);\n      console.log(`responseText: ${xhr.responseText}`);\n      console.log(`status: ${xhr.status}`);\n      console.log(`text status: ${textStatus}`);\n      console.log(`error: ${err}`);\n      callback(false, []);\n    },\n  });\n}\n\nexport default summaryChartData;\n","const objectsToExcludeFromSummary = [\"grax_data_record__c\", \"grax__grax_data_record__c\"];\n\n/**\n * Check if the objectName is excluded from Summaries\n *\n * @export\n * @param { String } objectName - Salesforce Object Name\n * @returns { Boolean }\n */\nfunction isObjectExcludedFromSummary(objectName) {\n  return objectsToExcludeFromSummary.indexOf(objectName.toLowerCase()) !== -1;\n}\n\nmodule.exports = { isObjectExcludedFromSummary };\n","/* eslint-disable no-undef */\n/* global google */\nimport { Checkbox, Combobox, Spinner } from '@salesforce/design-system-react';\nimport React from 'react';\n\nimport { comboboxFilterAndLimit } from '../lib/utils';\nimport SLDSSection from './SLDSSection';\n\nexport default class GRAXSummaryChartsChart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let fromDate = this.props.fromDate ? this.props.fromDate : new Date();\n    let toDate = this.props.toDate ? this.props.toDate : new Date();\n\n    fromDate.setHours(0);\n    fromDate.setMinutes(0);\n    toDate.setHours(23);\n    toDate.setMinutes(59);\n\n    const chartOptions = [\n      { label: \"Object Top Ten\", id: \"chartObjectTopTen\", call: () => this.chartObjectTopTen() },\n      { label: \"Objects By Date\", id: \"chartObjectByDate\", call: () => this.chartObjectByDate() },\n      {\n        label: \"Top Ten Processes\",\n        id: \"chartSummaryTopTen\",\n        call: () => this.chartSummaryTopTen(),\n      },\n      {\n        label: \"Processes By Date\",\n        id: \"chartSummaryByDate\",\n        call: () => this.chartSummaryByDate(),\n      },\n      {\n        label: \"Results by Date\",\n        id: \"chartAttributeProgressByDate\",\n        call: () => this.chartAttributeProgressByDate(),\n      },\n      {\n        label: \"Delete Tracking\",\n        id: \"chartDeleteTrackingByDate\",\n        call: () => this.chartDeleteTrackingByDate(),\n      },\n    ];\n\n    this.state = {\n      isLoading: true,\n      summaryData: this.props.summaryData,\n      defaultChartSettings: { width: \"100%\", height: 600, chartArea: { width: \"70%\", left: \"5%\" } },\n      showChartAttr: {\n        showRecords: true,\n        showInserted: true,\n        showUpdated: true,\n        showArchived: true,\n      },\n\n      chartFromDate: fromDate,\n      chartToDate: toDate,\n      showAttributeFilter: true,\n      hideChartOptions: false,\n      chartOptions: chartOptions,\n      chartSelection: [chartOptions[0]],\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    return nextProps;\n  }\n\n  componentDidMount() {\n    // google.charts.load('current', {'packages':['corechart']});\n\n    google.charts.setOnLoadCallback(() => {\n      this.setState(\n        {\n          isLoading: false,\n        },\n        () => {\n          this.drawChart();\n        }\n      );\n    });\n  }\n\n  chartObjectTopTen() {\n    let summaryData = this.state.summaryData;\n    let otherSum = 0;\n    let objIndexes = {};\n    let chartDataIndexes = [];\n    let chartData = [];\n\n    let counter = 0;\n    let nameSet = new Set();\n    let sortedNames;\n\n    summaryData.forEach((summary) => {\n      for (let key in summary.summaryMap) {\n        nameSet.add(key);\n      }\n    });\n\n    sortedNames = new Array(...nameSet);\n\n    sortedNames.sort((a, b) => {\n      return a > b ? -1 : a < b ? 1 : 0;\n    });\n\n    sortedNames.forEach((item) => {\n      objIndexes[item] = counter;\n      counter++;\n    });\n\n    counter = 0;\n\n    summaryData.forEach((summary) => {\n      for (let key in summary.summaryMap) {\n        let obj = summary.summaryMap[key];\n        let smyIndex = chartDataIndexes[key];\n\n        let n = obj.records ? obj.records : 0;\n\n        if (!smyIndex && smyIndex !== 0) {\n          smyIndex = counter;\n          chartDataIndexes[key] = counter;\n          chartData.push([key + \" [\" + n + \"]\", n]);\n          counter++;\n        } else {\n          let tempN = chartData[smyIndex][1] + n;\n\n          chartData[smyIndex] = [key + \" [\" + tempN + \"]\", tempN];\n        }\n\n        otherSum += n;\n      }\n    });\n\n    chartData.sort((a, b) => {\n      return -a[1] + b[1];\n    });\n\n    let top10BackedUpObjects = [[\"Object\", \"Backed Up\"]];\n\n    for (let i = 0; i < 10 && i < chartData.length; i++) {\n      let rec = chartData[i];\n      top10BackedUpObjects.push(rec);\n      otherSum -= rec[1];\n    }\n\n    if (otherSum > 0) {\n      top10BackedUpObjects.push([\"Others [\" + otherSum + \"]\", otherSum]);\n    }\n\n    let data = google.visualization.arrayToDataTable(top10BackedUpObjects);\n\n    // Optional; add a title and set the width and height of the chart\n    let options = JSON.parse(JSON.stringify(this.state.defaultChartSettings));\n    options.sliceVisibilityThreshold = 0;\n\n    // Display the chart inside the <div> element with id=\"piechart\"\n    return [google.visualization.PieChart, data, options];\n  }\n\n  chartObjectByDate() {\n    let summaryData = this.state.summaryData;\n    let chartData = [];\n    let chartDataIndexes = [];\n    let objIndexes = {};\n\n    let data = new google.visualization.DataTable();\n    data.addColumn(\"date\", \"Start Time\");\n\n    let counter = 0;\n    let nameSet = new Set();\n    let sortedNames;\n\n    summaryData.forEach((summary) => {\n      for (let key in summary.summaryMap) {\n        nameSet.add(key);\n      }\n    });\n\n    sortedNames = new Array(...nameSet);\n\n    sortedNames.sort((a, b) => {\n      return a > b ? -1 : a < b ? 1 : 0;\n    });\n\n    sortedNames.forEach((item) => {\n      objIndexes[item] = counter;\n      counter++;\n    });\n\n    counter = 0;\n    let fromDateAxis;\n    let toDateAxis;\n\n    let objectsTotalValue = {};\n    /*\n        [\n            [\n                {v: date, f: label},\n                val1,\n                val2,\n                val3\n            ],\n            [...]\n        ]\n        */\n    summaryData.forEach((summary) => {\n      for (let key in summary.summaryMap) {\n        let obj = summary.summaryMap[key];\n\n        if (!obj.startTime) {\n          continue;\n        }\n\n        let n = obj.records ? obj.records : 0;\n        let smyDate = new Date(obj.startTime);\n        let smyDateFormated = this.formatStartTime(smyDate);\n        let smyIndex = chartDataIndexes[smyDate];\n\n        if (!fromDateAxis || fromDateAxis >= smyDate) {\n          fromDateAxis = new Date(smyDate);\n          fromDateAxis.setHours(fromDateAxis.getHours() - 1);\n        }\n\n        if (!toDateAxis || toDateAxis <= smyDate) {\n          toDateAxis = new Date(smyDate);\n          toDateAxis.setHours(toDateAxis.getHours() + 1);\n        }\n\n        if (!smyIndex && smyIndex !== 0) {\n          smyIndex = counter;\n          chartDataIndexes[smyDate] = counter;\n          chartData.push(new Array(sortedNames.length + 1).fill(undefined));\n          counter++;\n        }\n\n        chartData[smyIndex][0] = { v: smyDate, f: smyDateFormated };\n        if (!chartData[smyIndex][objIndexes[key] + 1]) {\n          chartData[smyIndex][objIndexes[key] + 1] = 0;\n        }\n        chartData[smyIndex][objIndexes[key] + 1] += n;\n        if (!objectsTotalValue[key]) {\n          objectsTotalValue[key] = 0;\n        }\n        objectsTotalValue[key] += n;\n      }\n    });\n\n    if (chartData.length === 0) return null;\n\n    for (let key in objIndexes) {\n      data.addColumn(\"number\", key + \" [\" + objectsTotalValue[key] + \"]\");\n    }\n\n    chartData.sort((a, b) => {\n      return a[0].v > b[0].v ? 1 : a[0].v < b[0].v ? -1 : 0;\n    });\n\n    data.addRows(chartData);\n\n    // Optional; add a title and set the width and height of the chart\n    let options = JSON.parse(JSON.stringify(this.state.defaultChartSettings));\n    options.interpolateNulls = true;\n    options.pointSize = 5;\n    options.explorer = {};\n    options.hAxis = {\n      title: \"Start Time\",\n      format: \"YYYY-dd-MM\\nhh:mm:ss\",\n      viewWindow: {\n        min: fromDateAxis,\n        max: toDateAxis,\n      },\n      viewWindowMode: \"maximized\",\n    };\n    options.vAxis = {\n      title: \"Backed up objects\",\n    };\n\n    // Display the chart inside the <div> element\n    return [google.visualization.LineChart, data, options];\n  }\n\n  chartSummaryTopTen() {\n    let summaryData = this.state.summaryData;\n    let otherSum = 0;\n    let summaryIndexes = {};\n    let chartDataIndexes = [];\n    let chartData = [];\n\n    let counter = 0;\n    let nameSet = new Set();\n    let sortedNames;\n\n    summaryData.forEach((summary) => {\n      nameSet.add(summary.spName);\n    });\n\n    sortedNames = new Array(...nameSet);\n\n    sortedNames.sort((a, b) => {\n      return a > b ? -1 : a < b ? 1 : 0;\n    });\n\n    sortedNames.forEach((item) => {\n      summaryIndexes[item] = counter;\n      counter++;\n    });\n\n    counter = 0;\n\n    summaryData.forEach((summary) => {\n      let smyIndex = chartDataIndexes[summary.spName];\n      let n = summary.summaryResults.records ? summary.summaryResults.records : 0;\n\n      if (!smyIndex && smyIndex !== 0) {\n        chartData.push([summary.spName + \" [\" + n + \"]\", n]);\n      } else {\n        let tempN = chartData[smyIndex][1] + n;\n\n        chartData[smyIndex] = [summary.spName + \" [\" + tempN + \"]\", tempN];\n      }\n      otherSum += n;\n    });\n\n    chartData.sort((a, b) => {\n      return -a[1] + b[1];\n    });\n\n    let top10BackedUpSummaries = [[\"Summary\", \"Backed Up\"]];\n\n    for (let i = 0; i < 10 && i < chartData.length; i++) {\n      let rec = chartData[i];\n      top10BackedUpSummaries.push(rec);\n      otherSum -= rec[1];\n    }\n\n    if (otherSum > 0) {\n      top10BackedUpSummaries.push([\"Others [\" + otherSum + \"]\", otherSum]);\n    }\n\n    let data = google.visualization.arrayToDataTable(top10BackedUpSummaries);\n\n    // Optional; add a title and set the width and height of the chart\n    let options = JSON.parse(JSON.stringify(this.state.defaultChartSettings));\n    options.sliceVisibilityThreshold = 0;\n\n    // Display the chart inside the <div> element with id=\"piechart\"\n    return [google.visualization.PieChart, data, options];\n  }\n\n  chartSummaryByDate() {\n    let summaryData = this.state.summaryData;\n    let chartData = [];\n    let chartDataIndexes = [];\n    let objIndexes = {};\n\n    let data = new google.visualization.DataTable();\n    data.addColumn(\"date\", \"Start Time\");\n\n    let counter = 0;\n    let nameSet = new Set();\n    let sortedNames;\n\n    summaryData.forEach((summary) => {\n      nameSet.add(summary.spName);\n    });\n\n    sortedNames = new Array(...nameSet);\n\n    sortedNames.sort((a, b) => {\n      return a > b ? -1 : a < b ? 1 : 0;\n    });\n\n    sortedNames.forEach((item) => {\n      objIndexes[item] = counter;\n      counter++;\n    });\n\n    counter = 0;\n    let fromDateAxis;\n    let toDateAxis;\n\n    let objectsTotalValue = {};\n    /*\n        [\n            [\n                {v: date, f: label},\n                val1,\n                val2,\n                val3\n            ],\n            [...]\n        ]\n        */\n    summaryData.forEach((summary) => {\n      let sumRes = summary.summaryResults;\n\n      if (!sumRes.startTime) {\n        return;\n      }\n\n      let n = sumRes.records ? sumRes.records : 0;\n      let smyDate = new Date(sumRes.startTime);\n      let smyDateFormated = this.formatStartTime(smyDate);\n      let smyIndex = chartDataIndexes[smyDate];\n\n      if (!fromDateAxis || fromDateAxis >= smyDate) {\n        fromDateAxis = new Date(smyDate);\n        fromDateAxis.setHours(fromDateAxis.getHours() - 1);\n      }\n\n      if (!toDateAxis || toDateAxis <= smyDate) {\n        toDateAxis = new Date(smyDate);\n        toDateAxis.setHours(toDateAxis.getHours() + 1);\n      }\n\n      if (!smyIndex && smyIndex !== 0) {\n        smyIndex = counter;\n        chartDataIndexes[smyDate] = counter;\n        chartData.push(new Array(sortedNames.length + 1).fill(undefined));\n        counter++;\n      }\n\n      chartData[smyIndex][0] = { v: smyDate, f: smyDateFormated };\n      if (!chartData[smyIndex][objIndexes[summary.spName] + 1]) {\n        chartData[smyIndex][objIndexes[summary.spName] + 1] = 0;\n      }\n      chartData[smyIndex][objIndexes[summary.spName] + 1] += n;\n      if (!objectsTotalValue[summary.spName]) {\n        objectsTotalValue[summary.spName] = 0;\n      }\n      objectsTotalValue[summary.spName] += n;\n    });\n\n    if (chartData.length === 0) return null;\n\n    for (let key in objIndexes) {\n      data.addColumn(\"number\", key + \" [\" + objectsTotalValue[key] + \"]\");\n    }\n\n    chartData.sort((a, b) => {\n      return a[0].v > b[0].v ? 1 : a[0].v < b[0].v ? -1 : 0;\n    });\n\n    data.addRows(chartData);\n\n    // Optional; add a title and set the width and height of the chart\n    let options = JSON.parse(JSON.stringify(this.state.defaultChartSettings));\n    options.interpolateNulls = true;\n    options.explorer = {};\n    options.hAxis = {\n      title: \"Start Time\",\n      format: \"YYYY-dd-MM\\nhh:mm:ss\",\n      viewWindow: {\n        min: fromDateAxis,\n        max: toDateAxis,\n      },\n      viewWindowMode: \"maximized\",\n    };\n    options.vAxis = {\n      title: \"Backed up objects\",\n    };\n\n    // Display the chart inside the <div> element\n    return [google.visualization.LineChart, data, options];\n  }\n\n  chartAttributeProgressByDate() {\n    let summaryData = this.state.summaryData;\n    let chartData = [];\n    let chartDataIndexes = [];\n    let attIndexes = {};\n\n    let data = new google.visualization.DataTable();\n    data.addColumn(\"date\", \"Start Time\");\n\n    let counter = 0;\n    let sortedNames = [];\n    let attrNames = [];\n\n    if (this.state.showChartAttr.showRecords) {\n      attrNames.push(\"records\");\n    }\n    if (this.state.showChartAttr.showInserted) {\n      attrNames.push(\"inserted\");\n    }\n    if (this.state.showChartAttr.showUpdated) {\n      attrNames.push(\"updated\");\n    }\n    if (this.state.showChartAttr.showArchived) {\n      attrNames.push(\"archived\");\n    }\n\n    attrNames.forEach((attrName) => {\n      sortedNames.push(attrName);\n    });\n\n    sortedNames.sort((a, b) => {\n      return a < b ? -1 : a > b ? 1 : 0;\n    });\n\n    sortedNames.forEach((item) => {\n      attIndexes[item] = counter;\n      counter++;\n    });\n\n    counter = 0;\n    let fromDateAxis;\n    let toDateAxis;\n    let summarysTotalValue = {};\n    let selectedSummaries = new Set();\n\n    summaryData.forEach((summary) => {\n      let attr = {};\n      let summaryMap = summary.summaryMap;\n      let containsSelectedObjects = false;\n\n      for (let key in summaryMap) {\n        let obj = summaryMap[key];\n        if (obj) {\n          attrNames.forEach((attrName) => {\n            attr[attrName] = attr[attrName] ? attr[attrName] : 0;\n            attr[attrName] += obj[attrName] ? obj[attrName] : 0;\n          });\n          containsSelectedObjects = true;\n        }\n      }\n\n      if (containsSelectedObjects && summary.summaryResults.startTime) {\n        let startTime = new Date(summary.summaryResults.startTime);\n        startTime.setSeconds(0);\n\n        let smyDate = startTime;\n        let smyDateFormated =\n          startTime.getFullYear() +\n          \"-\" +\n          (startTime.getMonth() + 1).toString().padStart(2, \"0\") +\n          \"-\" +\n          startTime.getDate().toString().padStart(2, \"0\") +\n          \" \" +\n          startTime.getHours().toString().padStart(2, \"0\") +\n          \":\" +\n          startTime.getMinutes().toString().padStart(2, \"0\") +\n          \":\" +\n          startTime.getSeconds().toString().padStart(2, \"0\");\n        let smyIndex = chartDataIndexes[smyDate];\n\n        if (!fromDateAxis || fromDateAxis >= smyDate) {\n          fromDateAxis = new Date(smyDate);\n          fromDateAxis.setHours(fromDateAxis.getHours() - 1);\n        }\n\n        if (!toDateAxis || toDateAxis <= smyDate) {\n          toDateAxis = new Date(smyDate);\n          toDateAxis.setHours(toDateAxis.getHours() + 1);\n        }\n\n        if (!smyIndex && smyIndex !== 0) {\n          smyIndex = counter;\n          chartDataIndexes[smyDate] = counter;\n          chartData.push(new Array(attrNames.length + 1).fill(undefined));\n          counter++;\n        }\n\n        chartData[smyIndex][0] = { v: smyDate, f: smyDateFormated + \"\\n\" + summary.spName };\n\n        attrNames.forEach((attrName) => {\n          if (!chartData[smyIndex][attIndexes[attrName] + 1]) {\n            chartData[smyIndex][attIndexes[attrName] + 1] = 0;\n          }\n          chartData[smyIndex][attIndexes[attrName] + 1] += attr[attrName];\n\n          if (!summarysTotalValue[attrName]) {\n            summarysTotalValue[attrName] = 0;\n          }\n          summarysTotalValue[attrName] += attr[attrName];\n        });\n\n        selectedSummaries.add(summary.spName);\n      }\n    });\n\n    if (chartData.length === 0) return null;\n\n    for (let key in attIndexes) {\n      if (summarysTotalValue[key] !== undefined) {\n        data.addColumn(\"number\", key + \" [\" + summarysTotalValue[key] + \"]\");\n      }\n    }\n\n    chartData.sort((a, b) => {\n      return a[0] > b[0] ? 1 : a[0] < b[0] ? -1 : 0;\n    });\n\n    data.addRows(chartData);\n\n    // Optional; add a title and set the width and height of the chart\n    let options = JSON.parse(JSON.stringify(this.state.defaultChartSettings));\n    options.interpolateNulls = true;\n    options.isStacked = true;\n    options.explorer = {};\n    options.hAxis = {\n      title: \"Start Date\",\n      format: \"YYYY-dd-MM\\n hh:mm:ss\",\n      viewWindowMode: \"pretty\",\n      viewWindow: {\n        min: fromDateAxis,\n        max: toDateAxis,\n      },\n    };\n    options.vAxis = {\n      title: \"Attributes\",\n    };\n\n    // Display the chart inside the <div> element\n    return [google.visualization.ColumnChart, data, options];\n  }\n\n  chartDeleteTrackingByDate() {\n    const { summaryData } = this.state;\n    const chartData = new Map();\n    const series = {};\n\n    const objectLabels = new Set();\n\n    summaryData.forEach((summary) => {\n      if (!summary.summaryResults || !summary.summaryResults.startTime || !summary.summaryMap) {\n        return;\n      }\n      const smyDate = new Date(summary.summaryResults.startTime);\n      const smyDateFormated = this.formatDate(smyDate);\n\n      let rowData = { v: new Date(smyDateFormated), f: smyDateFormated, data: {} };\n      if (chartData.has(smyDateFormated)) {\n        rowData = chartData.get(smyDateFormated);\n      }\n      let hasData = false;\n      for (const [key, sumMap] of Object.entries(summary.summaryMap)) {\n        if (sumMap.archived && sumMap.archived > 0) {\n          objectLabels.add(key);\n          if (!rowData.data[key]) {\n            rowData.data[key] = 0;\n          }\n          rowData.data[key] += sumMap.archived;\n          hasData = true;\n        }\n      }\n      if (hasData) {\n        chartData.set(smyDateFormated, rowData);\n      }\n    });\n\n    if (chartData.length === 0) return null;\n    const data = new google.visualization.DataTable();\n\n    data.addColumn(\"date\", \"Start Time\");\n    const sortedLbls = Array.from(objectLabels).sort();\n    sortedLbls.forEach((lbl) => {\n      data.addColumn(\"number\", lbl);\n    });\n\n    const rowData = Array.from(chartData).sort((a, b) => {\n      return a[1].v > b[1].v ? 1 : a[1].v < b[1].v ? -1 : 0;\n    });\n\n    let fromDateAxis = this.state.chartFromDate;\n    let toDateAxis = this.state.chartToDate;\n    const dayInMS = 1000 * 3600 * 24;\n    if (rowData && rowData.length > 0) {\n      const [, val1] = rowData[0];\n      fromDateAxis = new Date(new Date(val1.v).getTime() - dayInMS);\n      const [, val2] = rowData[rowData.length - 1];\n      toDateAxis = new Date(new Date(val2.v).getTime() + dayInMS);\n    }\n\n    rowData.forEach(([key, value]) => {\n      const row = [];\n      row.push({ v: value.v, f: value.f });\n      sortedLbls.forEach((lbl) => {\n        row.push(value.data[lbl] || 0);\n      });\n      data.addRow(row);\n    });\n\n    // Optional; add a title and set the width and height of the chart\n    const options = JSON.parse(JSON.stringify(this.state.defaultChartSettings));\n    options.isStacked = true;\n    options.hAxis = {\n      title: \"Start Time\",\n      slantedText: true,\n      slantedTextAngle: 45,\n      format: \"YYYY-dd-MM\",\n      viewWindowMode: \"maximized\",\n      viewWindow: {\n        min: fromDateAxis,\n        max: toDateAxis,\n      },\n      minorGridlines: { count: 0 },\n    };\n    options.vAxis = {\n      title: \"Archived records\",\n    };\n    options.vAxes = {\n      0: {},\n      1: {\n        gridlines: { color: \"transparent\" },\n        textStyle: { color: \"transparent\" },\n      },\n    };\n    options.series = series;\n    // Display the chart inside the <div> element\n    return [google.visualization.ColumnChart, data, options];\n  }\n\n  drawChart() {\n    let ret = this.state.chartSelection[0].call();\n\n    this.setState(\n      {\n        isLoading: false,\n        isBlank: ret == null,\n      },\n      () => {\n        if (ret) {\n          var chart = new ret[0](this.chartEl);\n          chart.draw(ret[1], ret[2]);\n        }\n      }\n    );\n  }\n\n  selectChart(selection) {\n    this.setState(\n      {\n        chartInput: \"\",\n        chartSelection: selection,\n      },\n      this.drawChart\n    );\n  }\n\n  setDateFilter(fromDate, toDate) {\n    this.setState({\n      chartFromDate: fromDate,\n      chartToDate: toDate,\n    });\n  }\n\n  formatStartTime(startTime) {\n    return (\n      startTime.getFullYear() +\n      \"-\" +\n      (startTime.getMonth() + 1).toString().padStart(2, \"0\") +\n      \"-\" +\n      startTime.getDate().toString().padStart(2, \"0\") +\n      \" \" +\n      startTime.getHours().toString().padStart(2, \"0\") +\n      \":\" +\n      startTime.getMinutes().toString().padStart(2, \"0\") +\n      \":\" +\n      startTime.getSeconds().toString().padStart(2, \"0\")\n    );\n  }\n\n  formatDate(dt) {\n    return dt.getMonth() + 1 + \"/\" + dt.getDate() + \"/\" + dt.getFullYear();\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner size=\"large\" variant=\"brand\" />;\n    }\n\n    return (\n      <div>\n        <div>\n          {!this.state.hideChartOptions && (\n            <div className=\"slds-grid slds-wrap\">\n              <div className=\"slds-col slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1\">\n                <SLDSSection title=\"Chart Options\" isCollapsible=\"true\">\n                  <div className=\"slds-grid slds-wrap\">\n                    <div\n                      className={\n                        this.state.chartSelection[0].id === \"chartAttributeProgressByDate\" &&\n                        this.state.showAttributeFilter\n                          ? \"slds-col slds-size_1-of-2 slds-medium-size_1-of-2 slds-large-size_1-of-2\"\n                          : \"slds-col slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1\"\n                      }\n                    >\n                      <Combobox\n                        events={{\n                          onChange: (event, { value }) => {\n                            this.chartInput = value;\n                            this.setState(\n                              {\n                                chartInput: value,\n                              },\n                              this.drawChart\n                            );\n                          },\n                          onRequestRemoveSelectedOption: (event, data) => {\n                            this.setState({\n                              chartInput: \"\",\n                              chartSelection: data.selection,\n                            });\n                          },\n                          onSelect: (event, data) => {\n                            this.selectChart(data.selection);\n\n                            if (this.props.onChartSelect) {\n                              this.props.onChartSelect(event, data.selection);\n                            }\n                          },\n                        }}\n                        labels={{\n                          label: \"Chart Type\",\n                          placeholder: \"-- SELECT CHART TYPE --\",\n                        }}\n                        options={comboboxFilterAndLimit({\n                          inputValue: this.state.chartInput,\n                          limit: 1000,\n                          options: this.state.chartOptions,\n                          selection: this.state.chartSelection,\n                        })}\n                        selection={this.state.chartSelection}\n                        value={this.state.chartInput}\n                        variant=\"readonly\"\n                      />\n                    </div>\n\n                    {this.state.chartSelection[0].id === \"chartAttributeProgressByDate\" &&\n                      this.state.showAttributeFilter && (\n                        <div className=\"slds-col slds-size_1-of-2 slds-medium-size_1-of-2 slds-large-size_1-of-2\">\n                          <SLDSSection\n                            title=\"Display Values\"\n                            className=\"slds-p-left_small slds-m-top_none\"\n                          >\n                            <div className=\"slds-grid slds-wrap\">\n                              <div className=\"slds-align_absolute-center slds-m-bottom_small slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-large-size_1-of-4 slds-x-large-size_1-of-4\">\n                                <Checkbox\n                                  className=\"inline-block\"\n                                  defaultChecked={this.state.showChartAttr.showRecords}\n                                  onChange={(isChecked) => {\n                                    let showChartAttr = this.state.showChartAttr;\n                                    showChartAttr.showRecords = isChecked;\n                                    this.setState(\n                                      {\n                                        showChartAttr: showChartAttr,\n                                        isLoading: false,\n                                      },\n                                      () => this.drawChart()\n                                    );\n                                  }}\n                                  assistiveText={{\n                                    label: \"Remove empty?\",\n                                  }}\n                                  variant=\"toggle\"\n                                  labels={{\n                                    toggleDisabled: \"Records\",\n                                    toggleEnabled: \"Records\",\n                                  }}\n                                />\n                              </div>\n                              <div className=\"slds-align_absolute-center slds-m-bottom_small slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-large-size_1-of-4 slds-x-large-size_1-of-4\">\n                                <Checkbox\n                                  className=\"inline-block\"\n                                  defaultChecked={this.state.showChartAttr.showInserted}\n                                  onChange={(isChecked) => {\n                                    let showChartAttr = this.state.showChartAttr;\n                                    showChartAttr.showInserted = isChecked;\n                                    this.setState(\n                                      {\n                                        showChartAttr: showChartAttr,\n                                        isLoading: false,\n                                      },\n                                      () => this.drawChart()\n                                    );\n                                  }}\n                                  assistiveText={{\n                                    label: \"Remove empty?\",\n                                  }}\n                                  variant=\"toggle\"\n                                  labels={{\n                                    toggleDisabled: \"Inserted\",\n                                    toggleEnabled: \"Inserted\",\n                                  }}\n                                />\n                              </div>\n                              <div className=\"slds-align_absolute-center slds-m-bottom_small slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-large-size_1-of-4 slds-x-large-size_1-of-4\">\n                                <Checkbox\n                                  className=\"inline-block\"\n                                  defaultChecked={this.state.showChartAttr.showUpdated}\n                                  onChange={(isChecked) => {\n                                    let showChartAttr = this.state.showChartAttr;\n                                    showChartAttr.showUpdated = isChecked;\n                                    this.setState(\n                                      {\n                                        showChartAttr: showChartAttr,\n                                        isLoading: false,\n                                      },\n                                      () => this.drawChart()\n                                    );\n                                  }}\n                                  assistiveText={{\n                                    label: \"Remove empty?\",\n                                  }}\n                                  variant=\"toggle\"\n                                  labels={{\n                                    toggleDisabled: \"Updated\",\n                                    toggleEnabled: \"Updated\",\n                                  }}\n                                />\n                              </div>\n                              <div className=\"slds-align_absolute-center slds-m-bottom_small slds-col slds-size_1-of-2 slds-medium-size_1-of-4 slds-large-size_1-of-4 slds-x-large-size_1-of-4\">\n                                <Checkbox\n                                  className=\"inline-block\"\n                                  defaultChecked={this.state.showChartAttr.showArchived}\n                                  onChange={(isChecked) => {\n                                    let showChartAttr = this.state.showChartAttr;\n                                    showChartAttr.showArchived = isChecked;\n                                    this.setState(\n                                      {\n                                        showChartAttr: showChartAttr,\n                                        isLoading: false,\n                                      },\n                                      () => {\n                                        this.drawChart();\n                                      }\n                                    );\n                                  }}\n                                  assistiveText={{\n                                    label: \"Remove empty?\",\n                                  }}\n                                  variant=\"toggle\"\n                                  labels={{\n                                    toggleDisabled: \"Archived\",\n                                    toggleEnabled: \"Archived\",\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </SLDSSection>\n                        </div>\n                      )}\n                  </div>\n                </SLDSSection>\n              </div>\n            </div>\n          )}\n\n          {this.state.isBlank ? null : <div ref={(chartEl) => (this.chartEl = chartEl)} />}\n        </div>\n      </div>\n    );\n  }\n}\n","import '../public/js/jquery.sldsTree.js';\n\nimport {\n    Button,\n    Checkbox,\n    Combobox,\n    DataTable,\n    DataTableCell,\n    DataTableColumn,\n    Spinner,\n} from '@salesforce/design-system-react';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { baseUrl, orgid } from '../lib/grax-data-lake';\nimport summaryChartData from '../lib/summaryChartData';\nimport { isObjectExcludedFromSummary } from '../lib/summaryChartsUtils';\nimport { comboboxFilterAndLimit, DATE_FORMAT, DATETIME_FORMAT, moment, TZ } from '../lib/utils';\nimport GRAXDatePicker from './GRAXDatePicker';\nimport GRAXSummaryChartsChart from './GRAXSummaryChartsChart';\nimport SLDSSection from './SLDSSection';\n\nconst CustomDataTableCell = ({ children, ...props }) => (\n  <DataTableCell {...props}>\n    <a\n      href={\n        baseUrl +\n        \"/grax-app/grax-data-lake/generateBackupSummary/\" +\n        props.item.spId +\n        \"/\" +\n        encodeURI(props.item.executionUniqueKey) +\n        \"?orgid=\" +\n        orgid\n      }\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {children}\n    </a>\n  </DataTableCell>\n);\nCustomDataTableCell.displayName = DataTableCell.displayName;\n\nconst MomentFormattedCell = ({ children, format = DATE_FORMAT, ...props }) => {\n  const { startTime } = props.item;\n\n  return <DataTableCell {...props}>{moment.utc(startTime).tz(TZ).format(format)}</DataTableCell>;\n};\nMomentFormattedCell.displayName = DataTableCell.displayName;\n\nexport const RECORD_SUMMARIES_VARIANT = \"record_summaries\";\n\nexport default class GRAXSummaryChartsAdvanced extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.chart = React.createRef();\n\n    this.summaryDataResults = [];\n    this.summaryDataSelected = [];\n    this.itemsObjectsByDataRange = [];\n    this.itemsObjectsByDataRangeSelection = [];\n    this.summaryBreakdownDTItems = [];\n    this.summaryBreakdownDTSelection = [];\n    this.summaryDTItems = [];\n    this.summaryDTSelection = [];\n    this.chartOptions = [];\n    this.defaultChartSettings = {\n      width: \"100%\",\n      height: 600,\n      chartArea: { width: \"70%\", left: \"5%\" },\n    };\n\n    this.displayValuesOptions = [\n      { id: \"all\", label: \"Show all\" },\n      { id: \"inserted\", label: \"Only show schedule processes that have at least 1 insert\" },\n      { id: \"updated\", label: \"Only show schedule processes that have at least 1 update\" },\n      { id: \"archived\", label: \"Only show schedule processes that have at least 1 archive\" },\n    ];\n\n    const displayValuesSelection = [this.displayValuesOptions[0]];\n\n    this.state = {\n      isLoading: true,\n      renderCounter: 0,\n\n      chartData: [],\n\n      chartSelection: [],\n      chartInput: \"\",\n      fromDate: props.filterParams.fromDate,\n      toDate: props.filterParams.toDate,\n      _currentOrgRecords: true,\n\n      summaryDTFilters: {\n        showRecords: true,\n        showInserted: true,\n        showUpdated: true,\n        showArchived: true,\n      },\n\n      inputValue: \"Select an option\",\n      selection: [],\n      checked: [],\n\n      displayValuesSelection,\n\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.variant === RECORD_SUMMARIES_VARIANT) {\n      this.loadSummaries();\n    } else {\n      this.setState({\n        isLoading: false,\n      });\n    }\n  }\n\n  loadSummaries() {\n    let currentChartSelected = this.state.chartSelected;\n      summaryChartData({\n        orgid: this.state._currentOrgRecords ? orgid : null,\n        fromDate: this.state.fromDate,\n        toDate:this.state.toDate,\n        gspid: this.props.filterParams.gspId,\n    }, (success, data) => {\n        if (success){\n            this.summaryDataResults = data\n            this.setState(\n                {\n                  isLoading: false,\n                  chartSelected: currentChartSelected,\n                },\n                () => {\n                  this.loadSummaryDataTable();\n                  this.loadSummaryBreakdownTable();\n                  this.loadObjectDataTable();\n                });\n        } else {\n           this.setState({\n                isLoading: false,\n            });\n        }\n    })\n  }\n\n  getSelectedSummary() {\n    this.summaryBreakdownDTSelection = this.getScheduleProcessBreakdownSelection(\n      this.summaryBreakdownDTSelection\n    );\n\n    const selectedSummaries = this.summaryBreakdownDTSelection;\n    const summaryDataResults = this.summaryDataResults;\n\n    const summaries4chart = [];\n\n    selectedSummaries.forEach((summary) => {\n      summaries4chart.push(summaryDataResults[summary.index]);\n      /*summary.index.forEach(function(index){\n          summaries4chart.push( summaryDataResults[index] );\n        });*/\n    });\n\n    return summaries4chart;\n  }\n\n  loadSummaryDataTable() {\n    const summaryList = this.summaryDataResults;\n    const dtSummaries = [];\n\n    if (summaryList) {\n      const [\n        displayValuesOption = this.displayValuesOptions[0],\n      ] = this.state.displayValuesSelection;\n\n      let i = 0;\n\n      summaryList.forEach((summary) => {\n        const { summaryResults = {} } = summary;\n        const { records = 0, inserted = 0, updated = 0, archived = 0 } = summaryResults;\n\n        if (\n          (displayValuesOption.id === \"archived\" && archived === 0) ||\n          (displayValuesOption.id === \"inserted\" && inserted === 0) ||\n          (displayValuesOption.id === \"updated\" && updated === 0)\n        ) {\n          return;\n        }\n\n        const { spId, spName, executionUniqueKey, CreatedDate } = summary;\n\n        const existIndex = dtSummaries.filter((e) => e.name === spName);\n\n        if (existIndex && existIndex.length > 0) {\n          existIndex[0].index.push(i);\n\n          existIndex[0].records += records;\n          existIndex[0].inserted += inserted;\n          existIndex[0].updated += updated;\n          existIndex[0].archived += archived;\n        } else {\n          const startTime = new Date(summaryResults.startTime);\n\n          dtSummaries.push({\n            name: spName,\n            id: spName,\n            spId,\n            executionUniqueKey,\n            CreatedDate,\n            startTime,\n            records,\n            inserted,\n            updated,\n            archived,\n            index: [i],\n          });\n        }\n        i++;\n      });\n    }\n\n    this.summaryDTItems = dtSummaries;\n\n    if (this.props.variant === RECORD_SUMMARIES_VARIANT) {\n      this.summaryDTSelection = this.summaryDTItems;\n    }\n  }\n\n  loadSummaryBreakdownTable() {\n    const summaryToShow = this.summaryDTSelection;\n    const summaryDataResults = this.summaryDataResults;\n    const summaryBreakdownDTItems = [];\n\n    if (summaryToShow) {\n      summaryToShow.forEach((dtSummary) => {\n        dtSummary.index.forEach((index) => {\n          let summary = summaryDataResults[index];\n\n          let archived = summary.summaryResults.archived;\n          let records = summary.summaryResults.records;\n          let inserted = summary.summaryResults.inserted;\n          let updated = summary.summaryResults.updated;\n\n          archived = archived ? archived : 0;\n          records = records ? records : 0;\n          inserted = inserted ? inserted : 0;\n          updated = updated ? updated : 0;\n\n          const startTime = new Date(summary.summaryResults.startTime);\n\n          summaryBreakdownDTItems.push({\n            spId: summary.spId,\n            name: summary.spName,\n            Id: summary.Id,\n            id: summary.executionUniqueKey,\n            executionUniqueKey: summary.executionUniqueKey,\n            index: index,\n            CreatedDate: summary.CreatedDate,\n            startTime,\n            records,\n            inserted,\n            updated,\n            archived,\n            objectsList: summary.summaryMap ? Object.keys(summary.summaryMap) : [],\n          });\n        });\n      });\n    }\n\n    this.summaryBreakdownDTItems = summaryBreakdownDTItems;\n\n    this.dataTableRefreshSort(\"DataTable_SummaryBreakdown\", this.summaryBreakdownDTItems, {\n        property: \"startTime\",\n        sortDirection: \"desc\",\n    });\n  }\n\n  loadObjectDataTable(updateState = true) {\n    let summaryToShow = this.getSelectedSummary();\n    let itemsObjectsByDataRange = [];\n\n    if (summaryToShow) {\n      let allSummaries = {};\n\n      summaryToShow.forEach((summaryData) => {\n        var summaryMap = summaryData.summaryMap;\n\n        let smyDate = new Date(summaryData.summaryResults.startTime);\n\n        for (var objName in summaryMap) {\n          if (typeof summaryMap[objName] == \"object\" && !isObjectExcludedFromSummary(objName)) {\n            let archived = summaryMap[objName].archived;\n            let records = summaryMap[objName].records;\n            let inserted = summaryMap[objName].inserted;\n            let updated = summaryMap[objName].updated;\n\n            archived = archived ? archived : 0;\n            records = records ? records : 0;\n            inserted = inserted ? inserted : 0;\n            updated = updated ? updated : 0;\n\n            let _allSumaries = allSummaries[objName];\n\n            if (!_allSumaries) {\n              _allSumaries = {};\n              _allSumaries.name = objName;\n              _allSumaries.id = objName;\n              _allSumaries.archived = 0;\n              _allSumaries.records = 0;\n              _allSumaries.inserted = 0;\n              _allSumaries.updated = 0;\n              _allSumaries.startTimes = [];\n            }\n            _allSumaries.archived += archived ? archived : 0;\n            _allSumaries.records += records ? records : 0;\n            _allSumaries.inserted += inserted ? inserted : 0;\n            _allSumaries.updated += updated ? updated : 0;\n\n            let dateIndex = _allSumaries.startTimes.indexOf(smyDate);\n\n            if (dateIndex < 0) {\n              dateIndex = _allSumaries.startTimes.length;\n\n              _allSumaries.startTimes.push({\n                startTime: smyDate,\n                archived: 0,\n                records: 0,\n                inserted: 0,\n                updated: 0,\n              });\n            }\n\n            let dateData = _allSumaries.startTimes[dateIndex];\n            dateData.archived += archived ? archived : 0;\n            dateData.records += records ? records : 0;\n            dateData.inserted += inserted ? inserted : 0;\n            dateData.updated += updated ? updated : 0;\n\n            allSummaries[objName] = _allSumaries;\n          }\n        }\n      });\n\n      // Top Ten Data\n      for (var objName in allSummaries) {\n        itemsObjectsByDataRange.push(allSummaries[objName]);\n      }\n\n      // itemsObjectsByDataRangeSelection = itemsObjectsByDataRange;\n    }\n\n    this.itemsObjectsByDataRange = itemsObjectsByDataRange;\n\n    this.dataTableRefreshSort(\"DataTable_ObjectsInSummary\", this.itemsObjectsByDataRange, {\n      property: \"name\",\n      sortDirection: \"asc\",\n    });\n    // this.itemsObjectsByDataRangeSelection = itemsObjectsByDataRangeSelection;\n\n    if (updateState) {\n      this.setState(\n        {\n          isLoading: false,\n          renderCounter: this.state.renderCounter + 1,\n        },\n        this.refreshChart\n      );\n    }\n  }\n\n  getItemsObjectsByDataRange() {\n    this.loadObjectDataTable(false);\n\n    return this.itemsObjectsByDataRange;\n  }\n\n  refreshChart() {\n    const chartData = [];\n\n    const summartDataResults = this.summaryDataResults;\n    // const summaryDTSelection = this.summaryDTSelection;\n    const summaryBreakdownDTSelection = this.summaryBreakdownDTSelection;\n    const itemsObjectsByDataRangeSelection = this.itemsObjectsByDataRangeSelection;\n\n    const summaryIds = {};\n    summaryBreakdownDTSelection.forEach((summary) => {\n      summaryIds[summary.Id] = summary.Id;\n    });\n\n    const objNames = {};\n    itemsObjectsByDataRangeSelection.forEach((obj) => {\n      objNames[obj.name] = obj.name;\n    });\n\n    summartDataResults.forEach((summary) => {\n      const tempData = {};\n      if (summaryIds[summary.Id]) {\n        tempData.summaryMap = {};\n        tempData.spName = summary.spName;\n        tempData.summaryResults = {\n          archived: 0,\n          records: 0,\n          inserted: 0,\n          update: 0,\n          startTime: summary.summaryResults.startTime,\n          endTime: summary.summaryResults.endTime,\n        };\n\n        for (let key in summary.summaryMap) {\n          if (objNames[key]) {\n            let summaryMap = summary.summaryMap;\n            tempData.summaryMap[key] = summaryMap[key];\n            tempData.summaryResults.archived = summaryMap[key].archived\n              ? summaryMap[key].archived\n              : 0;\n            tempData.summaryResults.records = summaryMap[key].records ? summaryMap[key].records : 0;\n            tempData.summaryResults.inserted = summaryMap[key].inserted\n              ? summaryMap[key].inserted\n              : 0;\n            tempData.summaryResults.update = summaryMap[key].update ? summaryMap[key].update : 0;\n          }\n        }\n\n        chartData.push(tempData);\n      }\n    });\n\n    this.setState(\n      {\n        isLoading: false,\n        renderCounter: this.state.renderCounter + 1,\n        chartData,\n      },\n      () => {\n        this.chart.current.setDateFilter(this.state.fromDate, this.state.toDate);\n        this.chart.current.drawChart();\n      }\n    );\n  }\n\n  summaryDTHandleChanged(event, data) {\n    /*this.setState( {\n        isLoading: true\n      }, function(){ */\n    this.summaryDTSelection = data.selection;\n\n    this.loadSummaryBreakdownTable();\n    this.summaryBreakdownDTHandleChanged(null, {\n      selection: this.summaryBreakdownDTSelection,\n    });\n    //this.drawChart();\n    //} );\n\n    this.setState({\n      isLoading: false,\n      renderCounter: this.state.renderCounter + 1,\n    });\n  }\n\n  summaryBreakdownDTHandleChanged(event, data) {\n    this.summaryBreakdownDTSelection = this.getScheduleProcessBreakdownSelection(data.selection);\n    this.loadObjectDataTable();\n    this.itemsObjectsByDataRangeHandleChanged(null, {\n      selection: this.itemsObjectsByDataRangeSelection,\n    });\n    //this.drawChart();\n\n    this.setState({\n      isLoading: false,\n      renderCounter: this.state.renderCounter + 1,\n    });\n  }\n\n  itemsObjectsByDataRangeHandleChanged(event, data) {\n    /*this.setState({\n        isLoading: true\n      }, function(){*/\n    this.itemsObjectsByDataRangeSelection = this.getObjectsSelection(data.selection);\n\n    this.refreshChart();\n    //this.drawChart();\n    //});\n    this.setState({\n      isLoading: false,\n      renderCounter: this.state.renderCounter + 1,\n    });\n  }\n\n  dataTableHandleSort(dtName, items, sortColumn, callSortFunction = true) {\n    const sortProperty = sortColumn.property;\n    const sortDirection = sortColumn.sortDirection;\n    const newState = {\n      [dtName + \"Column\"]: sortProperty,\n      [dtName + \"Direction\"]: {\n        [sortProperty]: sortDirection,\n      },\n    };\n\n    if (callSortFunction) {\n      this.dataTableSortFunction(items, sortProperty, sortDirection);\n    }\n\n    this.setState(newState);\n  }\n\n  dataTableRefreshSort(dtName, items, sortColumn) {\n    const sortProperty = this.state[dtName + \"Column\"] || sortColumn.property;\n    const direction = this.state[dtName + \"Direction\"] || {\n      [sortColumn.property]: sortColumn.sortDirection,\n    };\n\n    if (sortProperty != null && direction != null) {\n      const sortDirection = direction[sortProperty] || \"asc\";\n\n      this.dataTableSortFunction(items, sortProperty, sortDirection);\n    }\n  }\n\n  dataTableSortFunction(items, sortProperty, sortDirection) {\n    items.sort((a, b) => {\n      let val = 0;\n\n      if (a[sortProperty] > b[sortProperty]) {\n        val = 1;\n      }\n      if (a[sortProperty] < b[sortProperty]) {\n        val = -1;\n      }\n\n      if (sortDirection === \"desc\") {\n        val *= -1;\n      }\n\n      return val;\n    });\n  }\n\n  getIsDatatableSortedColumn(dtName, sortProperty) {\n    return this.state[dtName + \"Column\"] === sortProperty;\n  }\n\n  formatStartTime(startTime) {\n    return (\n      startTime.getFullYear() +\n      \"-\" +\n      (startTime.getMonth() + 1).toString().padStart(2, \"0\") +\n      \"-\" +\n      startTime.getDate().toString().padStart(2, \"0\") +\n      \" \" +\n      startTime.getHours().toString().padStart(2, \"0\") +\n      \":\" +\n      startTime.getMinutes().toString().padStart(2, \"0\") +\n      \":\" +\n      startTime.getSeconds().toString().padStart(2, \"0\")\n    );\n  }\n\n  formatDate(dt) {\n    return dt.getMonth() + 1 + \"/\" + dt.getDate() + \"/\" + dt.getFullYear();\n  }\n\n  cleanFilterTables() {\n    this.summaryBreakdownDTItems = [];\n    this.summaryDTSelection = [];\n    this.summaryBreakdownDTSelection = [];\n    this.itemsObjectsByDataRangeSelection = [];\n    this.itemsObjectsByDataRange = [];\n\n    this.setState({\n      chartData: [],\n      renderCounter: this.state.renderCounter + 1,\n    });\n  }\n\n  renderAggregatedScheduleProcessSection() {\n    if (this.props.variant === RECORD_SUMMARIES_VARIANT) {\n      return null;\n    }\n\n    const dataTableId = \"DataTable_Summaries\";\n\n    return (\n      <SLDSSection\n        title=\"Step 1: Aggregated GRAX Schedule Process\"\n        className=\"slds-p-top_large\"\n        isCollapsible={true}\n        isOpen={true}\n      >\n        <div className=\"slds-grid slds-wrap\">\n          <div className=\"slds-col slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1 slds-p-horizontal_xx-small\">\n            <Combobox\n              events={{\n                onChange: (event, { value }) => {\n                  this.displayValuesInput = value;\n                  this.setState({\n                    displayValuesInput: value,\n                  });\n                },\n                onRequestRemoveSelectedOption: (event, data) => {\n                  this.setState(\n                    {\n                      displayValuesInput: \"\",\n                      displayValuesSelection: data.selection,\n                    },\n                    () => {\n                      this.loadSummaryDataTable();\n                      this.loadSummaryBreakdownTable();\n                      this.loadObjectDataTable();\n                    }\n                  );\n                },\n                onSelect: (event, data) => {\n                  this.setState(\n                    {\n                      displayValuesSelection: data.selection,\n                    },\n                    () => {\n                      this.loadSummaryDataTable();\n                      this.loadSummaryBreakdownTable();\n                      this.loadObjectDataTable();\n                    }\n                  );\n                },\n              }}\n              labels={{\n                label: \"Display Values\",\n                placeholder: \"-- SELECT OPTION --\",\n              }}\n              options={comboboxFilterAndLimit({\n                inputValue: this.state.displayValuesInput,\n                limit: 1000,\n                options: this.displayValuesOptions,\n                selection: this.state.displayValuesSelection,\n              })}\n              selection={this.state.displayValuesSelection}\n              value={this.state.displayValuesInput}\n              variant=\"readonly\"\n            />\n          </div>\n\n          <div className=\"slds-col slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1 slds-p-top_small\">\n            <div style={{ height: 300 }}>\n              <DataTable\n                assistiveText={{\n                  actionsHeader: \"actions\",\n                  columnSort: \"sort this column\",\n                  columnSortedAscending: \"asc\",\n                  columnSortedDescending: \"desc\",\n                  selectAllRows: \"all rows\",\n                  selectRow: \"select this row\",\n                }}\n                fixedHeader\n                fixedLayout\n                items={this.summaryDTItems}\n                id={dataTableId}\n                selection={this.summaryDTSelection}\n                selectRows=\"checkbox\"\n                onRowChange={(e, data) => this.summaryDTHandleChanged(e, data)}\n                onSort={(sortColumn) => {\n                  this.dataTableHandleSort(dataTableId, this.summaryDTItems, sortColumn);\n                }}\n              >\n                <DataTableColumn\n                  label=\"GRAX Schedule Process\"\n                  sortable\n                  primaryColumn\n                  property=\"name\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"name\")}\n                />\n\n                <DataTableColumn\n                  label=\"Records\"\n                  sortable\n                  property=\"records\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"records\")}\n                />\n\n                <DataTableColumn\n                  label=\"Inserted\"\n                  sortable\n                  property=\"inserted\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"inserted\")}\n                />\n\n                <DataTableColumn\n                  label=\"Updated\"\n                  sortable\n                  property=\"updated\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"updated\")}\n                />\n\n                <DataTableColumn\n                  label=\"Archived\"\n                  sortable\n                  property=\"archived\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"archived\")}\n                />\n              </DataTable>\n            </div>\n          </div>\n        </div>\n      </SLDSSection>\n    );\n  }\n\n  getScheduleProcessBreakdownSelection(currentStepSelection, data) {\n    if (this.props.variant === RECORD_SUMMARIES_VARIANT) {\n      this.summaryDTSelection = this.summaryDTItems;\n      // this.summaryBreakdownDTSelection = this.getSummaryBreakdownDTItems();\n\n      // return this.summaryBreakdownDTSelection;\n    }\n\n    const parentStepSelection = this.summaryDTSelection;\n    const currentStepItems = this.summaryBreakdownDTItems;\n\n    return currentStepSelection.reduce((accumulator, item) => {\n      const parentItem = parentStepSelection.find((x) => x.name === item.name);\n\n      if (parentItem !== undefined) {\n        return [...accumulator, currentStepItems.find((x) => x.id === item.id)];\n      }\n\n      return accumulator;\n    }, []);\n  }\n\n  getSummaryBreakdownDTItems() {\n    this.loadSummaryBreakdownTable();\n\n    const parentStepSelection = this.summaryDTSelection;\n    const currentStepItems = this.summaryBreakdownDTItems;\n\n    this.summaryBreakdownDTItems = currentStepItems.reduce((accumulator, item) => {\n      const parentItem = parentStepSelection.find((x) => x.name === item.name);\n      const currentItem = accumulator.find((x) => x.executionUniqueKey === item.executionUniqueKey);\n\n      if (parentItem !== undefined && currentItem === undefined) {\n        return [...accumulator, item];\n      }\n\n      return accumulator;\n    }, []);\n\n    return this.summaryBreakdownDTItems;\n  }\n\n  renderScheduleProcessBreakdownSection() {\n    const dataTableId = \"DataTable_SummaryBreakdown\";\n    const summaryBreakdownDTItems = this.getSummaryBreakdownDTItems();\n\n    let sectionTitle = \"Step 2: GRAX Schedule Process Breakdown\";\n\n    if (this.props.variant === RECORD_SUMMARIES_VARIANT) {\n      sectionTitle = \"Executions\";\n    }\n\n    return (\n      <SLDSSection\n        title={sectionTitle}\n        className=\"slds-p-top_large\"\n        isCollapsible={true}\n        isOpen={true}\n      >\n        <div className=\"slds-grid slds-wrap\">\n          <div className=\"slds-col slds-size_10-of-12 slds-medium-size_10-of-12 slds-large-size_10-of-12\">\n            <div style={{ height: 300 }}>\n              <DataTable\n                assistiveText={{\n                  actionsHeader: \"actions\",\n                  columnSort: \"sort this column\",\n                  columnSortedAscending: \"asc\",\n                  columnSortedDescending: \"desc\",\n                  selectAllRows: \"all rows\",\n                  selectRow: \"select this row\",\n                }}\n                fixedHeader\n                fixedLayout\n                items={summaryBreakdownDTItems}\n                id={dataTableId}\n                selection={this.summaryBreakdownDTSelection}\n                selectRows=\"checkbox\"\n                onRowChange={(e, data) => this.summaryBreakdownDTHandleChanged(e, data)}\n                onSort={(sortColumn) => {\n                  this.dataTableHandleSort(dataTableId, summaryBreakdownDTItems, sortColumn, false);\n                }}\n              >\n                <DataTableColumn\n                  label=\"GRAX Schedule Process\"\n                  sortable\n                  primaryColumn\n                  property=\"name\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"name\")}\n                >\n                  <CustomDataTableCell />\n                </DataTableColumn>\n\n                <DataTableColumn\n                  label=\"Execution Unique Key\"\n                  sortable\n                  property=\"executionUniqueKey\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"executionUniqueKey\")}\n                />\n\n                <DataTableColumn\n                  label=\"Start Time\"\n                  sortable\n                  property=\"startTime\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"startTime\")}\n                >\n                  <MomentFormattedCell format={DATETIME_FORMAT} />\n                </DataTableColumn>\n\n                <DataTableColumn\n                  label=\"Records\"\n                  sortable\n                  property=\"records\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"records\")}\n                />\n\n                <DataTableColumn\n                  label=\"Inserted\"\n                  sortable\n                  property=\"inserted\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"inserted\")}\n                />\n\n                <DataTableColumn\n                  label=\"Updated\"\n                  sortable\n                  property=\"updated\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"updated\")}\n                />\n\n                <DataTableColumn\n                  label=\"Archived\"\n                  sortable\n                  property=\"archived\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"archived\")}\n                />\n              </DataTable>\n            </div>\n          </div>\n        </div>\n      </SLDSSection>\n    );\n  }\n\n  getObjectsSelection(currentStepSelection) {\n    const parentStepSelection = this.summaryBreakdownDTSelection;\n    const currentStepItems = this.itemsObjectsByDataRange;\n\n    return currentStepSelection.reduce((accumulator, item) => {\n      const parentItem = parentStepSelection.find((x) => x.objectsList.indexOf(item.name) !== -1);\n\n      if (parentItem !== undefined) {\n        return [...accumulator, currentStepItems.find((x) => x.id === item.id)];\n      }\n\n      return accumulator;\n    }, []);\n  }\n\n  renderObjectsSection() {\n    const dataTableId = \"DataTable_ObjectsInSummary\";\n    const itemsObjectsByDataRange = this.getItemsObjectsByDataRange();\n\n    let sectionTitle = \"Step 3: Objects\";\n\n    if (this.props.variant === RECORD_SUMMARIES_VARIANT) {\n      sectionTitle = \"Objects\";\n    }\n\n    return (\n      <SLDSSection\n        title={sectionTitle}\n        className=\"slds-p-top_large\"\n        isCollapsible={true}\n        isOpen={true}\n      >\n        <div className=\"slds-grid slds-wrap\">\n          <div className=\"slds-col slds-size_10-of-12 slds-medium-size_10-of-12 slds-large-size_10-of-12\">\n            <div style={{ height: 300 }}>\n              <DataTable\n                assistiveText={{\n                  actionsHeader: \"actions\",\n                  columnSort: \"sort this column\",\n                  columnSortedAscending: \"asc\",\n                  columnSortedDescending: \"desc\",\n                  selectAllRows: \"all rows\",\n                  selectRow: \"select this row\",\n                }}\n                fixedHeader\n                fixedLayout\n                items={itemsObjectsByDataRange}\n                id={dataTableId}\n                selection={this.itemsObjectsByDataRangeSelection}\n                selectRows=\"checkbox\"\n                onRowChange={(e, data) => this.itemsObjectsByDataRangeHandleChanged(e, data)}\n                onSort={(sortColumn) => {\n                  this.dataTableHandleSort(dataTableId, itemsObjectsByDataRange, sortColumn, false);\n                }}\n              >\n                <DataTableColumn\n                  label=\"Object Name\"\n                  sortable\n                  primaryColumn\n                  property=\"name\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"name\")}\n                />\n\n                <DataTableColumn\n                  label=\"Records\"\n                  sortable\n                  property=\"records\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"records\")}\n                />\n\n                <DataTableColumn\n                  label=\"Inserted\"\n                  sortable\n                  property=\"inserted\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"inserted\")}\n                />\n\n                <DataTableColumn\n                  label=\"Updated\"\n                  sortable\n                  property=\"updated\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"updated\")}\n                />\n\n                <DataTableColumn\n                  label=\"Archived\"\n                  sortable\n                  property=\"archived\"\n                  isSorted={this.getIsDatatableSortedColumn(dataTableId, \"archived\")}\n                />\n              </DataTable>\n            </div>\n          </div>\n        </div>\n      </SLDSSection>\n    );\n  }\n\n  renderFilterCriteriaSection() {\n    if (this.props.variant === RECORD_SUMMARIES_VARIANT) {\n      return null;\n    }\n\n    return (\n      <SLDSSection title=\"Filter Criteria\">\n        <div className=\"slds-col slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1\">\n          <dl className=\"slds-list_stacked\">\n            <dt className=\"slds-item_label slds-text-color_weak slds-truncate\" title=\"From\">\n              <label className=\"slds-form-element__label\">From</label>\n            </dt>\n            <dd className=\"slds-item_detail\">\n              <GRAXDatePicker\n                onChange={(event, data) => {\n                  this.setState({\n                    fromDate: data.date,\n                  });\n                }}\n                value={this.state.fromDate}\n              />\n            </dd>\n            <dt className=\"slds-item_label slds-text-color_weak slds-truncate\" title=\"To\">\n              <label className=\"slds-form-element__label\">To</label>\n            </dt>\n            <dd className=\"slds-item_detail\">\n              <GRAXDatePicker\n                onChange={(event, data) => {\n                  this.setState({\n                    toDate: data.date,\n                  });\n                }}\n                value={this.state.toDate}\n              />\n            </dd>\n          </dl>\n        </div>\n        <div className=\"slds-col slds-size_1-of-1 slds-medium-size_2-of-4 slds-large-size_1-of-4 slds-m-top_small\">\n          <Checkbox\n            className=\"inline-block\"\n            defaultChecked={!this.state._currentOrgRecords}\n            onChange={(e) => {\n              this.setState({\n                _currentOrgRecords: !e.target.checked,\n              });\n            }}\n            assistiveText={{\n              label: \"Show records from all environments?\",\n            }}\n            variant=\"toggle\"\n            labels={{\n              toggleDisabled: \"Current Environment\",\n              toggleEnabled: \"All connected SF environments\",\n            }}\n          />\n          <div className=\"slds-float_right\">\n            <Button\n              label=\"Retrieve\"\n              variant=\"brand\"\n              onClick={() => {\n                this.loadSummaries();\n              }}\n            />\n          </div>\n        </div>\n      </SLDSSection>\n    );\n  }\n\n  renderFilterSections() {\n    if (!this.itemsObjectsByDataRange) return null;\n\n    return (\n      <div>\n        {this.summaryDataResults.length > 0 ? this.renderAggregatedScheduleProcessSection() : null}\n        {this.summaryDTSelection.length > 0 ? this.renderScheduleProcessBreakdownSection() : null}\n        {this.summaryBreakdownDTSelection.length > 0 ? this.renderObjectsSection() : null}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div style={{ minHeight: 2000 }}>\n        {this.state.isLoading && <Spinner size=\"large\" variant=\"brand\" />}\n\n        {this.renderFilterCriteriaSection()}\n        {this.renderFilterSections()}\n\n        <GRAXSummaryChartsChart\n          ref={this.chart}\n          summaryData={this.state.chartData}\n          renderCounter={this.state.renderCounter}\n        />\n      </div>\n    );\n  }\n}\n\nGRAXSummaryChartsAdvanced.propTypes = {\n  variant: PropTypes.string,\n  filterParams: PropTypes.shape({\n    fromDate: PropTypes.instanceOf(Date),\n    toDate: PropTypes.instanceOf(Date),\n    gspId: PropTypes.string,\n  }),\n};\n\nGRAXSummaryChartsAdvanced.defaultProps = {\n  variant: \"normal\",\n  filterParams: {\n    fromDate: new Date(),\n    toDate: new Date(),\n    gspId: null,\n  },\n};\n"],"sourceRoot":""}