(this.webpackJsonpgraxreact=this.webpackJsonpgraxreact||[]).push([[16],{103:function(e,t,a){"use strict";var s=a(69),n=a.n(s);t.a=function(e){var t=e.inputValue,a=e.limit,s=void 0===a?10:a,i=e.options,l=e.selection,r=new RegExp(n()(t),"ig");return i.filter((function(e){var a=!!e.label&&e.label.match(r),s="separator"===e.type,n=!l.some((function(t){return t.id===e.id}));return(!t||s||a)&&n})).splice(0,s)}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var s=a(9),n=a(10),i=a(13),l=a(11),r=a(12),o=a(1),c=a.n(o),d=a(50),u=a(163),p=a(54),h=a(8),m=a.n(h),f=a(5),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={options:[],inputValue:"",selection:[],isLoaded:!1,error:null},a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){p.a.ajax({type:"GET",url:p.c+"/grax-app/grax-data-lake/getDataTypes"+Object(p.b)({action:"load"}),data:{},success:function(e){var t=this;this.props.excludeIds&&(e=m.a.filter(e,(function(e){return-1===t.props.excludeIds.indexOf(e.id)}))),this.setState({options:e,isLoaded:!0})}.bind(this),error:function(e,t,a){console.error(e,t,a),this.setState({isLoaded:!0,error:a.toString()})}.bind(this)})}},{key:"render",value:function(){var e=this;return this.state.error?c.a.createElement("div",null,"Error: ",this.state.error):this.state.isLoaded?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{classNameMenu:"scrollable-GRAXObjectCombobox",events:{onChange:function(t,a){var s=a.value;e.setState({inputValue:s}),e.props.onChange&&e.props.onChange(t,s)},onRequestRemoveSelectedOption:function(t,a){e.setState({inputValue:"",selection:a.selection}),e.props.onRequestRemoveSelectedOption&&e.props.onRequestRemoveSelectedOption(t,a.selection)},onSelect:function(t,a){e.setState({inputValue:"",selection:a.selection}),e.props.onSelect&&e.props.onSelect(t,a.selection)}},labels:{placeholder:"Search GRAX Table"},options:Object(f.e)({inputValue:this.state.inputValue,limit:1e3,options:this.state.options,selection:this.state.selection}),selection:this.state.selection,value:this.state.inputValue,variant:"inline-listbox",required:!0})):c.a.createElement("div",{style:{position:"relative",height:"2rem"}},c.a.createElement(d.a,{size:"small",variant:"base"}))}}]),t}(c.a.Component)},125:function(e,t,a){"use strict";var s=a(1),n=a.n(s),i=a(0),l=a.n(i),r=a(3),o=a.n(r),c=a(14),d=a.n(c),u=a(59),p=a.n(u),h=a(2);function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function g(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _={assistiveText:l.a.shape({label:l.a.string,required:l.a.string}),children:l.a.node.isRequired,className:l.a.oneOfType([l.a.array,l.a.object,l.a.string]),labels:l.a.shape({error:l.a.string,label:l.a.string}),onChange:l.a.func,disabled:l.a.bool,required:l.a.bool,name:l.a.string,errorId:l.a.string,variant:l.a.oneOf(["base","button-group"])},E={assistiveText:{required:"Required"},labels:{},variant:"base"},O=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=g(this,v(t).call(this,e))).generatedName=d.a.generate(),a.generatedErrorId=d.a.generate(),a}var a,s,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),a=t,(s=[{key:"getErrorId",value:function(){if(this.hasError())return this.props.errorId||this.generatedErrorId}},{key:"getName",value:function(){return this.props.name||this.generatedName}},{key:"hasError",value:function(){return!!this.labels.error}},{key:"render",value:function(){var e=this;this.labels=this.props.labels?p()({},E.labels,this.props.labels):E.labels;var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){f(e,t,a[t])}))}return e}({},E.assistiveText,this.props.assistiveText),a=n.a.Children.map(this.props.children,(function(t){return n.a.cloneElement(t,{name:e.getName(),onChange:e.props.onChange,"aria-describedby":e.getErrorId(),disabled:e.props.disabled})}));return n.a.createElement("fieldset",{className:o()("slds-form-element",{"slds-has-error":this.labels.error})},n.a.createElement("legend",{className:o()("slds-form-element__legend","slds-form-element__label",t.label?"slds-assistive-text":"")},this.props.required?n.a.createElement("abbr",{className:"slds-required",title:"required"},"*",n.a.createElement("div",{className:"slds-assistive-text"},t.required," ")):null,t.label?t.label:this.labels.label),n.a.createElement("div",{className:o()("slds-form-element__control",this.props.className)},"button-group"===this.props.variant?n.a.createElement("div",{style:this.props.style,className:"slds-radio_button-group"},a):a,this.labels.error?n.a.createElement("div",{id:this.getErrorId(),className:"slds-form-element__help"},this.labels.error):null))}}])&&b(a.prototype,s),i&&b(a,i),t}(n.a.Component);O.displayName=h.M,O.propTypes=_,O.defaultProps=E;var x=O;function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var C={assistiveText:l.a.shape({label:l.a.string}),children:l.a.node.isRequired,className:l.a.oneOfType([l.a.array,l.a.object,l.a.string]),labels:l.a.shape({error:l.a.string,label:l.a.string}),onChange:l.a.func,disabled:l.a.bool,required:l.a.bool,name:l.a.string,errorId:l.a.string},k=function(e){e.variant;var t=N(e,["variant"]);return n.a.createElement(x,S({variant:"button-group"},t))};k.displayName=h.L,k.propTypes=C,k.defaultProps={labels:{},assistiveText:{}};t.a=k},142:function(e){e.exports=JSON.parse('{"component":"alert","status":"prod","display-name":"Alerts","classKey":"Alert","last-accessibility-review":{"date-iso-8601":"2018/01/18","commit-sha":"ad6b6c6523ee21cada11be5f7ea4d99abc530726"},"SLDS-component-path":"/components/alert","dependencies":[{"component":"container","classKey":"AlertContainer"}],"site-stories":[{"heading":"Informational","path":"/__examples__/info.jsx"},{"heading":"Warning","path":"/__examples__/warning.jsx"},{"heading":"System Status","path":"/__examples__/offline.jsx"},{"heading":"Error","path":"/__examples__/error.jsx"},{"heading":"Dismissable","path":"/__examples__/dismissable.jsx"}],"url-slug":"alerts"}')},155:function(e,t,a){"use strict";a.r(t);var s=a(9),n=a(10),i=a(13),l=a(11),r=a(12),o=a(1),c=a.n(o),d=a(8),u=a.n(d),p=a(57),h=a(118),m=a(80),f=a(125),b=a(70),g=a(124),v=a(55),y=a(71),_=a(0),E=a.n(_),O=a(59),x=a.n(O),S=a(73),N=a(62);var C=function(){},k=a(142),j=a(2),F=a(129);function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I={assistiveText:E.a.shape({closeButton:E.a.oneOfType([E.a.string,E.a.node])}),className:E.a.oneOfType([E.a.array,E.a.object,E.a.string]),dismissible:E.a.bool,icon:E.a.node,labels:E.a.shape({heading:E.a.oneOfType([E.a.string,E.a.node]),headingLink:E.a.oneOfType([E.a.string,E.a.node])}),onClickHeadingLink:E.a.func,onRequestClose:E.a.func,style:E.a.object,variant:E.a.oneOf(["error","info","offline","warning"]).isRequired},D={assistiveText:{closeButton:"Close"},labels:{},variant:"info"},q=function(e){function t(e){var a,s,n,i,l,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s=this,n=V(t).call(this,e),a=!n||"object"!==R(n)&&"function"!==typeof n?T(s):n,i=T(a),r=function(e){a.closeButton=e,a.state.isInitialRender&&(F.a.storeActiveElement(),a.closeButton&&a.closeButton.focus(),a.setState({isInitialRender:!1}))},(l="saveButtonRef")in i?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r,a.state={isInitialRender:!0},C(j.a,e,k),a}var a,s,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),a=t,(s=[{key:"componentWillUnmount",value:function(){F.a.returnFocusToStoredElement()}},{key:"render",value:function(){var e=x()({},D.assistiveText,this.props.assistiveText),t=x()({},D.labels,this.props.labels),a=t.heading||this.props.content,s=this.props.onRequestClose||this.props.onDismiss,n={info:c.a.createElement(v.a,{category:"utility",name:"info"}),offline:c.a.createElement(v.a,{category:"utility",name:"offline"}),warning:c.a.createElement(v.a,{category:"utility",name:"warning"}),error:c.a.createElement(v.a,{category:"utility",name:"error"})},i=this.props.icon?this.props.icon:n[this.props.variant];this.props.iconName&&this.props.iconCategory&&(i=c.a.createElement(v.a,{category:this.props.iconCategory,name:this.props.iconName}));var l=c.a.cloneElement(i,{containerClassName:"slds-m-right_x-small",inverse:!0,size:"x-small"});return c.a.createElement("div",{className:Object(S.a)("slds-notify slds-notify_alert slds-theme_alert-texture",{"slds-theme_info":"info"===this.props.variant,"slds-theme_warning":"warning"===this.props.variant,"slds-theme_error":"error"===this.props.variant,"slds-theme_offline":"offline"===this.props.variant},this.props.className),role:"alert",style:this.props.style},c.a.createElement("span",{className:"slds-assistive-text"},{info:"info",warning:"warning",error:"error",offline:"offline"}[this.props.variant]),l,c.a.createElement("h2",null,a," ",t.headingLink?c.a.createElement("a",{onClick:this.props.onClickHeadingLink,href:"javascript:void(0);"},t.headingLink):null),this.props.dismissible?c.a.createElement(N.a,{assistiveText:{icon:e.closeButton},buttonRef:this.saveButtonRef,className:"slds-notify__close",iconCategory:"utility",iconName:"close",iconSize:"medium",inverse:!0,onClick:s,title:e.closeButton,variant:"icon"}):null)}}])&&w(a.prototype,s),n&&w(a,n),t}(c.a.Component);q.defaultProps=D,q.displayName=j.a,q.propTypes=I;var L=q,P=a(50),z=a(54);a.d(t,"default",(function(){return X}));var H=Object(o.lazy)((function(){return a.e(30).then(a.bind(null,104))})),M=Object(o.lazy)((function(){return Promise.all([a.e(15),a.e(25)]).then(a.bind(null,165))})),U=["text","date","number"],B="Both",G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={checked:B},a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"onChangeHandler",value:function(e){this.setState({checked:e}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=["Backed Up","Archived",B];return c.a.createElement("div",{className:"slds-p-bottom_medium"},c.a.createElement("div",{className:"slds-clearfix"},c.a.createElement("div",{className:"slds-float_left slds-p-right_xx-small"},c.a.createElement(f.a,{onChange:function(t){return e.onChangeHandler(t.target.value)},required:this.props.required,name:this.props.name,errorId:this.props.errorId,disabled:!0===this.props.disabled},u.a.map(t,function(e,t){return c.a.createElement(b.a,{key:"option"+t,id:"option"+t,label:e,value:e,checked:this.state.checked===e,variant:"button-group"})}.bind(this)))),c.a.createElement("div",{className:"slds-float_left",style:{margin:"0.41rem"}},c.a.createElement(g.a,{align:"top left",content:'Select one of the options, "Backed Up", "Archived", or "Both", below to display these records.',variant:"learnMore"}))))}}]),t}(c.a.Component),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={selectedDataIndex:null,retrieved:!1,retrievedCounter:0,_sfRequestsDisabled:!0,_restoreChildrens:!1,_checkIsUserActive:!0,_useGRAXHistoryOnly:!1,_updateRecordIfExist:!1,_sendNotification:!1,_currentOrgRecords:!0,_graxFields:null,_graxFieldsSelection:null,_graxFieldsSelectionList:null,_filterFunction:function(e){return e},_getFilterQuery:function(){return null},_filterValuesFields:[],_graxSortableFields:null,objectHasCustomMapping:!1,_archiveFilterQuery:null},a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"hasFieldSelected",value:function(){return null!=this.state._graxFields&&null!=this.state._graxFieldsSelectionList&&this.state._graxFieldsSelectionList.length>0}},{key:"getFilterQuery",value:function(){var e=u.a.concat(this.state._getFilterQuery(),this.state._archiveFilterQuery);return this.state._currentOrgRecords&&e.push('(doc.graxorgid.keyword: "'+z.e+'")'),(e=u.a.remove(e,(function(e){return null!=e})))&&e.length>0?e.join(" AND "):null}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(p.a,{isCollapsible:!0,isOpen:!0,title:"Disclaimers"},c.a.createElement("ol",null,c.a.createElement("li",null,"When restoring records in an environment please confirm that the following is true:"),c.a.createElement("ol",{className:"slds-list_ordered"},c.a.createElement("li",null,"Ensure that the destination environment has the same customizations and metadata as the source environment"),c.a.createElement("li",null,"Ensure that all workflows, APEX triggers, validation rules, process builders, duplication rules, etc. are disabled in the destination environment"),c.a.createElement("li",null,"If restoring in a partial or developer Sandbox, ensure that there is ample storage space for the data you are intending to restore in the destination environment"),c.a.createElement("li",null,'Ensure that your user has "modify all data" permission in the destination environment'),c.a.createElement("li",null,'If you are attempting to restore records where the owner is inactive, ensure that your user has the permission "Update records with inactive owners" set to true in the destination environment'))),c.a.createElement("div",{className:"slds-m-bottom_large"})),c.a.createElement(p.a,{isCollapsible:!0,isOpen:!0,title:"Settings"},c.a.createElement("div",{className:"slds-grid slds-wrap"},c.a.createElement("div",{className:"slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12"},c.a.createElement("div",{className:"slds-p-bottom_small"},c.a.createElement(g.a,{align:"top left",content:"When disabled, only the parent record will be restored. When enabled, the parent and all related children will be enabled."},c.a.createElement("a",{href:"javascript:void(0)",style:{marginRight:"0.5rem"}},c.a.createElement(v.a,{assistiveText:{label:"Restore Child Records?"},category:"utility",name:"info",size:"x-small"}))),c.a.createElement(y.a,{className:"inline-block",defaultChecked:this.state._restoreChildrens,onChange:function(t){e.setState({_restoreChildrens:t})},assistiveText:{label:"Restore Child Records?"},variant:"toggle",labels:{toggleDisabled:"Restore Parent Record Only",toggleEnabled:"Restore Child Records"}}))),c.a.createElement("div",{className:"slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12"},c.a.createElement("div",{className:"slds-p-bottom_small"},c.a.createElement(g.a,{align:"top left",content:"When disabled, the restore process queries your storage facility to determine if this record exists already in this SF environment. When enabled the process queries SF to see if this record already exists and will not create a duplicate."},c.a.createElement("a",{href:"javascript:void(0)",style:{marginRight:"0.5rem"}},c.a.createElement(v.a,{assistiveText:{label:"Skip Salesforce Queries?"},category:"utility",name:"info",size:"x-small"}))),c.a.createElement(y.a,{className:"inline-block",defaultChecked:!this.state._sfRequestsDisabled,onChange:function(t){e.setState({_sfRequestsDisabled:!t})},assistiveText:{label:"Skip Salesforce Queries?"},variant:"toggle",labels:{toggleDisabled:"Query storage facility",toggleEnabled:"Query Salesforce"}}))),c.a.createElement("div",{className:"slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12"},c.a.createElement("div",{className:"slds-p-bottom_small"},c.a.createElement(g.a,{align:"top left",content:'When enabled, the user must have the setting "Update Records with Inactive Owners" set to true otherwise records assigned to an inactive user will NOT be created.'},c.a.createElement("a",{href:"javascript:void(0)",style:{marginRight:"0.5rem"}},c.a.createElement(v.a,{assistiveText:{label:"Assign Records to Inactive Users?"},category:"utility",name:"info",size:"x-small"}))),c.a.createElement(y.a,{className:"inline-block",defaultChecked:!this.state._checkIsUserActive,onChange:function(t){e.setState({_checkIsUserActive:!t})},assistiveText:{label:"Assign Records to Inactive Users?"},variant:"toggle",labels:{toggleDisabled:"Assign records only to Active Users",toggleEnabled:"Assign records to Active or Inactive Users"}}))),c.a.createElement("div",{className:"slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12"},c.a.createElement("div",{className:"slds-p-bottom_small"},c.a.createElement(g.a,{align:"top left",content:"Set it to TRUE if you don't want to double check that the restored records still exist in the destination Org."},c.a.createElement("a",{href:"javascript:void(0)",style:{marginRight:"0.5rem"}},c.a.createElement(v.a,{assistiveText:{label:"Use GRAXHistory only?"},category:"utility",name:"info",size:"x-small"}))),c.a.createElement(y.a,{className:"inline-block",defaultChecked:this.state._useGRAXHistoryOnly,onChange:function(t){e.setState({_useGRAXHistoryOnly:t})},assistiveText:{label:"Use GRAXHistory only?"},variant:"toggle",labels:{toggleDisabled:"Query SFDC to confirm record exists",toggleEnabled:"Query only GRAX History"}}))),c.a.createElement("div",{className:"slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12"},c.a.createElement("div",{className:"slds-p-bottom_small"},c.a.createElement(g.a,{align:"top left",content:"Set it to TRUE if you want to update the previously restored records in the destination Org."},c.a.createElement("a",{href:"javascript:void(0)",style:{marginRight:"0.5rem"}},c.a.createElement(v.a,{assistiveText:{label:"Update records?"},category:"utility",name:"info",size:"x-small"}))),c.a.createElement(y.a,{className:"inline-block",defaultChecked:this.state._updateRecordIfExist,onChange:function(t){e.setState({_updateRecordIfExist:t})},assistiveText:{label:"Update records?"},variant:"toggle",labels:{toggleDisabled:"Only insert records",toggleEnabled:"Update records if exists"}}))),c.a.createElement("div",{className:"slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12"},c.a.createElement("div",{className:"slds-p-bottom_small"},c.a.createElement(g.a,{align:"top left",content:"Notify User via Email when Process Completes"},c.a.createElement("a",{href:"javascript:void(0)",style:{marginRight:"0.5rem"}},c.a.createElement(v.a,{assistiveText:{label:"Send Notification?"},category:"utility",name:"info",size:"x-small"}))),c.a.createElement(y.a,{className:"inline-block",defaultChecked:this.state._sendNotification,onChange:function(t){e.setState({_sendNotification:t})},assistiveText:{label:"Send Notification?"},variant:"toggle",labels:{toggleDisabled:"Don't Send Notification",toggleEnabled:"Send Notification"}}))),c.a.createElement("div",{className:"slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12"},c.a.createElement("div",{className:"slds-p-bottom_small"},c.a.createElement(g.a,{align:"top left",content:"Show records only from the current environment or all environments."},c.a.createElement("a",{href:"javascript:void(0)",style:{marginRight:"0.5rem"}},c.a.createElement(v.a,{assistiveText:{label:"Filter records?"},category:"utility",name:"info",size:"x-small"}))),c.a.createElement(y.a,{className:"inline-block",defaultChecked:!this.state._currentOrgRecords,onChange:function(t){e.setState({_currentOrgRecords:!t,retrievedCounter:e.state.retrievedCounter+1})},assistiveText:{label:"Show records from all environments?"},variant:"toggle",labels:{toggleDisabled:"Current Environment",toggleEnabled:"All connected SF environments"}})))),c.a.createElement("div",{className:"slds-m-bottom_large"})),c.a.createElement(p.a,{isCollapsible:!0,isOpen:!0,title:"Select the GRAX Table"},c.a.createElement(h.a,{onSelect:function(t,a){var s=!1,n=a[0];console.log(e.props.customMapping,n);var i=n.label;if(null!=e.props.customMapping){var l=e.props.customMapping[Object.keys(e.props.customMapping).find((function(e){return e.toLowerCase()===i.toLowerCase()}))];l&&Object.keys(l).length>0&&(s=!0)}e.setState({selectedDataIndex:n,objectHasCustomMapping:s})},excludeIds:["graxgrax_loggingindex"],onRequestRemoveSelectedOption:function(t,a){e.setState({retrieved:!1,selectedDataIndex:null,_graxFieldsSelection:null,_graxFieldsSelectionList:null,objectHasCustomMapping:!1})}}),this.state.objectHasCustomMapping?c.a.createElement("div",null,c.a.createElement(L,{dismissible:!0,labels:{heading:'The selected object has a custom mapping defined. To review this custom mapping, click on the "Restore Mapping" tab and then select the object.'},onRequestClose:function(){e.setState({objectHasCustomMapping:!1})}})):null,c.a.createElement("div",{className:"slds-m-bottom_large"})),c.a.createElement(p.a,{isCollapsible:!0,isOpen:!0,title:"Search GRAX Table"},null!=this.state.selectedDataIndex?c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",{style:{position:"relative",height:"2rem"}},c.a.createElement(P.a,{size:"small",variant:"base"}))},c.a.createElement(H,{dataIndex:this.state.selectedDataIndex.id,onLoad:function(t,a,s,n){console.log("onLoad",a,n,s),e.setState({_graxFields:s,_graxFieldsSelection:a,_graxFieldsSelectionList:n,_graxSortableFields:u.a.reduce(s,(function(e,t,a){return-1!==U.indexOf(t.type)&&e.push(t.id),e}),[])})},onChange:function(t,a,s,n){console.log("onChange",a,n);var i=e.state.retrievedCounter;n.length>e.state._graxFieldsSelectionList.length&&i++,e.setState({retrievedCounter:i,_graxFieldsSelection:a,_graxFieldsSelectionList:n})}})):"No GRAX Table selected...",c.a.createElement("div",{className:"slds-m-bottom_large"})),c.a.createElement(p.a,{isCollapsible:!0,isOpen:!0,title:"Filter Records"},c.a.createElement(G,{onChange:function(t){var a;t===B&&(a=null),"Backed Up"===t&&(a="(NOT doc.IsDeleted:true)"),"Archived"===t&&(a="(doc.IsDeleted:true)"),e.setState({_archiveFilterQuery:a,retrievedCounter:e.state.retrievedCounter+1})}}),null!=this.state._graxFieldsSelectionList&&c.a.createElement(m.b,{SObjectType:this.state.selectedDataIndex.label,filterableFieldOptions:this.state._graxFields,onFilterValueChangeHandler:function(t,a,s){e.setState({retrievedCounter:e.state.retrievedCounter,_filterFunction:t,_getFilterQuery:s,_graxFieldsSelectionList:e.state._graxFieldsSelectionList,_filterValuesFields:a})}}),c.a.createElement("div",{className:"slds-m-bottom_large"})),c.a.createElement(p.a,{isCollapsible:!0,isOpen:!0,title:"GRAX Stored Records"},c.a.createElement("div",{className:"-x-small-buttons--horizontal slds-p-bottom_small"},c.a.createElement(N.a,{label:"Retrieve",variant:"brand",onClick:function(){e.setState({retrieved:null!=e.state.selectedDataIndex,retrievedCounter:e.state.retrievedCounter+1})},disabled:!this.hasFieldSelected()})),this.state.retrieved&&this.state._graxFieldsSelectionList&&c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",{style:{position:"relative",height:"2rem"}},c.a.createElement(P.a,{size:"small",variant:"base"}))},c.a.createElement(M,{key:"GRAXRestoreDataTable_"+this.state.retrievedCounter,renderKey:"GRAXRestoreDataTable_"+this.state.retrievedCounter,columns:this.state._graxFieldsSelectionList,_graxFieldsSelection:this.state._graxFieldsSelection,hiddenColumns:this.state._filterValuesFields,dataIndex:this.state.selectedDataIndex.id,sfRequestsDisabled:this.state._sfRequestsDisabled,restoreChildrens:this.state._restoreChildrens,checkIsUserActive:this.state._checkIsUserActive,useGRAXHistoryOnly:this.state._useGRAXHistoryOnly,updateRecordIfExist:this.state._updateRecordIfExist,sendNotification:this.state._sendNotification,filterFunction:this.state._filterFunction,filterQuery:this.getFilterQuery(),sortableColumns:this.state._graxSortableFields}))))}}]),t}(c.a.Component)},57:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var s=a(9),n=a(10),i=a(13),l=a(11),r=a(18),o=a(12),c=a(1),d=a.n(c),u=a(55),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={isOpen:!0===e.isOpen||void 0===e.isCollapsible},a.handleToggle=a.handleToggle.bind(Object(r.a)(a)),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"handleToggle",value:function(e){var t=!this.state.isOpen;this.setState({isOpen:t}),this.props.onToggle&&this.props.onToggle(t),e.preventDefault()}},{key:"render",value:function(){var e=d.a.createElement("span",{className:"slds-truncate"+(this.props.isCollapsible?"":" slds-p-horizontal_small"),title:this.props.title},this.props.title);return d.a.createElement("div",{id:this.props.id||this.props.key,className:["slds-section",this.state.isOpen&&"slds-is-open",this.props.className].join(" ")},d.a.createElement("h3",{className:"slds-section__title slds-theme_shade"},this.props.isCollapsible?d.a.createElement("button",{className:"slds-button slds-section__title-action",onClick:this.handleToggle},d.a.createElement(u.a,{assistiveText:{label:this.props.title},category:"utility",name:"switch",size:"x-small",className:"slds-section__title-action-icon slds-button__icon slds-button__icon_left"}),e):e),this.state.isOpen&&d.a.createElement("div",{className:"slds-section__content"},this.props.children))}}]),t}(d.a.Component)},60:function(e,t,a){"use strict";function s(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",(function(){return s}))},64:function(e){e.exports=JSON.parse('{"component":"radio","status":"prod","display-name":"Radios","classKey":"Radio","last-accessibility-review":{"date-iso-8601":"2018/01/18","commit-sha":"ad6b6c6523ee21cada11be5f7ea4d99abc530726"},"site-stories":[{"heading":"Default","path":"/__examples__/default.jsx"},{"heading":"Disabled","path":"/__examples__/disabled.jsx"}],"SLDS-component-path":"/components/radio-group/","url-slug":"radios"}')},70:function(e,t,a){"use strict";var s=a(1),n=a.n(s),i=a(0),l=a.n(i),r=a(14),o=a.n(r),c=a(3),d=a.n(c),u=a(6),p=a(2),h=a(66);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f=function(e){var t=e.color,a=e.style,s=e.label,i=e.labels,l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){m(e,t,a[t])}))}return e}({backgroundColor:t},a),r=s||t;return t||(l.backgroundImage="linear-gradient(-45deg, white 47%, #870500 0, #870500 53%, white 0)",i&&i.swatchTabTransparentSwatch&&(r=i.swatchTabTransparentSwatch)),n.a.createElement("span",{className:"slds-swatch",style:l},n.a.createElement("span",{className:"slds-assistive-text"},r))};f.propTypes={color:l.a.string.isRequired};var b=f,g=a(55);var v=function(){},y=a(64);function _(e){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function O(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var k={assistiveText:l.a.shape({label:l.a.string}),"aria-describedby":l.a.string,"aria-labelledby":l.a.string,checked:l.a.bool,className:l.a.oneOfType([l.a.array,l.a.object,l.a.string]),defaultChecked:l.a.bool,disabled:l.a.bool,id:l.a.string,labels:l.a.shape({heading:l.a.string,label:l.a.string}),name:l.a.string,onChange:l.a.func,value:l.a.string,variant:l.a.oneOf(["base","button-group","swatch","visual-picker"]),coverable:l.a.bool,vertical:l.a.bool,onRenderVisualPicker:l.a.func,onRenderVisualPickerSelected:l.a.func,onRenderVisualPickerNotSelected:l.a.func,description:l.a.string,size:l.a.oneOf(["medium","large"]),refs:l.a.shape({input:l.a.func})},j={assistiveText:{},variant:"base",coverable:!1},F=function(e){function t(e){var a,s,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s=this,n=x(t).call(this,e),a=!n||"object"!==_(n)&&"function"!==typeof n?S(s):n,C(S(a),"handleChange",(function(e,t){a.preventDuplicateChangeEvent?a.preventDuplicateChangeEvent=!1:(a.preventDuplicateChangeEvent=Boolean(t),a.props.onChange&&a.props.onChange(e,{checked:!a.props.checked}))})),a.preventDuplicateChangeEvent=!1,a}var a,s,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),a=t,(s=[{key:"componentWillMount",value:function(){v(p.K,this.props,y),this.generatedId=o.a.generate()}},{key:"getId",value:function(){return this.props.id||this.generatedId}},{key:"render",value:function(){var e,t,a=this,s=Object(h.a)(this.props),i=(e=this.props,Object.keys(e).reduce((function(t,a){return"data-"===a.substr(0,5)&&(t[a]=e[a]),t}),{})),l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){C(e,t,a[t])}))}return e}({},j.labels,this.props.label?{label:this.props.label}:{},this.props.labels);return t="swatch"===this.props.variant?n.a.createElement("label",{style:{border:"1px"},className:"slds-radio_button__label",htmlFor:this.getId()},n.a.createElement("span",null,n.a.createElement(b,{label:l.label,style:this.props.style,color:this.props.value}))):"button-group"===this.props.variant?n.a.createElement("label",{className:"slds-radio_button__label",htmlFor:this.getId()},n.a.createElement("span",{className:"slds-radio_faux"},l.label)):"visual-picker"===this.props.variant?n.a.createElement("label",{htmlFor:this.getId()},this.props.coverable?n.a.createElement("div",{className:"slds-visual-picker__figure slds-visual-picker__icon slds-align_absolute-center"},n.a.createElement("span",{className:"slds-is-selected"},this.props.onRenderVisualPickerSelected()),n.a.createElement("span",{className:"slds-is-not-selected"},this.props.onRenderVisualPickerNotSelected())):n.a.createElement("span",{className:"slds-visual-picker__figure slds-visual-picker__text slds-align_absolute-center"},this.props.onRenderVisualPicker()),this.props.vertical?null:n.a.createElement("span",{className:"slds-visual-picker__body"},l.heading?n.a.createElement("span",{className:"slds-text-heading_small"},l.heading):null,n.a.createElement("span",{className:"slds-text-title"},l.label)),this.props.coverable?null:n.a.createElement("span",{className:"slds-icon_container slds-visual-picker__text-check"},n.a.createElement(g.a,{assistiveText:this.props.assistiveText,category:"utility",name:"check",colorVariant:"base",size:"x-small"}))):n.a.createElement("label",{className:"slds-radio__label",htmlFor:this.getId(),id:this.props.labelId},n.a.createElement("span",{className:"slds-radio_faux"}),n.a.createElement("span",{className:"slds-form-element__label"},l.label),this.props.assistiveText.label?n.a.createElement("span",{className:"slds-assistive-text"},this.props.assistiveText.label):null),n.a.createElement("span",{className:d()("visual-picker"===this.props.variant?"slds-visual-picker_".concat(this.props.size):null,{"slds-radio":"base"===this.props.variant||"swatch"===this.props.variant,"slds-button slds-radio_button":"button-group"===this.props.variant,"slds-visual-picker":"visual-picker"===this.props.variant,"slds-visual-picker_vertical":"visual-picker"===this.props.variant&&this.props.vertical},this.props.className)},n.a.createElement("input",E({type:"radio",id:this.getId(),name:this.props.name,value:this.props.value},void 0!==this.props.checked?{checked:this.props.checked}:{defaultChecked:this.props.defaultChecked},{onChange:function(e){a.handleChange(e)},onClick:function(e){a.props.checked&&a.props.deselectable&&a.handleChange(e)},onKeyPress:function(e){var t=e.charCode;t===u.a.SPACE&&a.props.checked&&a.props.deselectable?a.handleChange(e,!0):(t===u.a.ENTER&&a.props.checked&&a.props.deselectable||!a.props.checked)&&a.handleChange(e)},disabled:this.props.disabled},s,i,{ref:function(e){a.props.refs&&a.props.refs.input&&a.props.refs.input(e)}})),t)}}])&&O(a.prototype,s),i&&O(a,i),t}(n.a.Component);F.displayName=p.K,F.propTypes=k,F.defaultProps=j;t.a=F},73:function(e,t,a){"use strict";var s=a(3),n=a.n(s);t.a=function(){var e=n.a.apply(void 0,arguments);return""===e?void 0:e}},80:function(e,t,a){"use strict";var s=a(60),n=a(9),i=a(10),l=a(13),r=a(11),o=a(12),c=a(1),d=a.n(c),u=a(8),p=a.n(u),h=a(4),m=a.n(h),f=a(103),b=a(163),g=a(50),v=a(71),y=a(156),_=a(166),E=a(62),O=a(54),x=a(5),S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).state={options:[],inputValue:"",selection:[],isLoaded:!1,error:null},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){O.a.ajax({type:"GET",url:O.c+"/grax-app/grax-data-lake/salesforce/sobjects/"+this.props.SObjectName+"/fields/"+this.props.fieldName+Object(O.b)({action:"load"}),data:{_select:"name,type,picklistValues"},success:function(e){this.setState({options:p.a.map(e.picklistValues||[],(function(e,t){return{id:e.value,label:e.label}})),isLoaded:!0}),this.props.onLoad&&this.props.onLoad(!0)}.bind(this),error:function(e,t,a){console.error(e,t,a),this.setState({isLoaded:!0,error:a.toString()}),this.props.onLoad&&this.props.onLoad(!1,a)}.bind(this)})}},{key:"render",value:function(){var e=this;return this.state.error?d.a.createElement("div",null,"Error: ",this.state.error):this.state.isLoaded?null==this.state.options||0===this.state.options.length?(this.props.onElseComponent&&this.props.onRender(!1),this.props.elseComponent):(this.props.onLoad&&this.props.onRender(!0),d.a.createElement(d.a.Fragment,null,d.a.createElement(b.a,{classNameMenu:"scrollable-GRAXSFieldCombobox",events:{onChange:function(t,a){var s=a.value;e.setState({inputValue:s}),e.props.onChange&&e.props.onChange(t,s)},onRequestRemoveSelectedOption:function(t,a){e.setState({inputValue:"",selection:a.selection}),e.props.onRequestRemoveSelectedOption&&e.props.onRequestRemoveSelectedOption(t,a.selection)},onSelect:function(t,a){e.setState({inputValue:"",selection:a.selection}),e.props.onSelect&&e.props.onSelect(t,a.selection)},onRequestClose:function(t,a){e.props.onSelect&&e.state.inputValue&&e.props.onSelect(t,[{id:e.state.inputValue,label:e.state.inputValue}])}},labels:{placeholder:"Select Option"},options:Object(x.e)({inputValue:this.state.inputValue,limit:1e3,options:this.state.options,selection:this.state.selection}),selection:this.state.selection,value:this.state.inputValue,variant:this.props.variant||"inline-listbox",multiple:this.props.multiple||!1,required:!0}))):d.a.createElement("div",{style:{position:"relative",height:"2rem"}},d.a.createElement(g.a,{size:"small",variant:"base"}))}}]),t}(d.a.Component);a.d(t,"a",(function(){return k})),a.d(t,"b",(function(){return j}));var N=function(e){return e.replace(/[\*\+\-=~><\"\?^\${}\(\)\:\!\/[\]\\\s]/g,"\\$&").replace(/\|\|/g,"\\||").replace(/\&\&/g,"\\&&").replace(/AND/g,"\\A\\N\\D").replace(/OR/g,"\\O\\R").replace(/NOT/g,"\\N\\O\\T")},C={text:[{id:"eq",label:"==",isNegated:!1},{id:"eq",label:"!=",isNegated:!0},{id:"contains",label:"contains",isNegated:!1},{id:"contains",label:"not contains",isNegated:!0},{id:"in",label:"in",isNegated:!1},{id:"in",label:"not in",isNegated:!0},{id:"exists",label:"exists",isNegated:!1,type:"boolean"}],date:[{id:"eq",label:"==",isNegated:!1},{id:"eq",label:"!=",isNegated:!0},{id:"gt",label:">",isNegated:!1},{id:"lt",label:"<",isNegated:!1},{id:"gte",label:">=",isNegated:!1},{id:"lte",label:"<=",isNegated:!1},{id:"exists",label:"exists",isNegated:!1,type:"boolean"}],number:[{id:"eq",label:"==",isNegated:!1},{id:"eq",label:"!=",isNegated:!0},{id:"gt",label:">",isNegated:!1},{id:"lt",label:"<",isNegated:!1},{id:"gte",label:">=",isNegated:!1},{id:"lte",label:"<=",isNegated:!1},{id:"exists",label:"exists",isNegated:!1,type:"boolean"}],long:[{id:"eq",label:"==",isNegated:!1},{id:"eq",label:"!=",isNegated:!0},{id:"gt",label:">",isNegated:!1},{id:"lt",label:"<",isNegated:!1},{id:"gte",label:">=",isNegated:!1},{id:"lte",label:"<=",isNegated:!1},{id:"exists",label:"exists",isNegated:!1,type:"boolean"}],boolean:[{id:"eq",label:"==",isNegated:!1},{id:"exists",label:"exists",isNegated:!1}]},k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e)))._isMounted=!1,a.state={inputValue:"",selection:[],isOpened:!1},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.selection&&(console.log(this.props.selection),this.setState({selection:this.props.selection}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"filterOptionsHandler",value:function(){var e=this.props.options||[];return this.props.filterOptionsHandler&&this.state.isOpened&&(e=this.props.filterOptionsHandler(e)),Object(f.a)({inputValue:this.state.inputValue,limit:1e3,options:e,selection:this.state.selection})}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement(b.a,{classNameMenu:"scrollable-GRAXFilterableCombobox",events:{onChange:function(t,a){var s=a.value;e.setState({inputValue:s}),e.props.onChange&&e.props.onChange(t,s)},onRequestRemoveSelectedOption:function(t,a){e._isMounted&&e.setState({inputValue:"",selection:a.selection}),e.props.onRequestRemoveSelectedOption&&e.props.onRequestRemoveSelectedOption(t,a.selection)},onSelect:function(t,a){e._isMounted&&e.setState({inputValue:"",selection:a.selection}),e.props.onSelect&&e.props.onSelect(t,a.selection)},onOpen:function(t,a){e._isMounted&&e.setState({isOpened:!0})},onClose:function(t,a){e._isMounted&&e.setState({isOpened:!1})}},labels:{placeholder:this.props.placeholder},options:this.filterOptionsHandler(),selection:this.state.selection,value:this.state.inputValue,variant:this.props.variant||"inline-listbox",required:!0,multiple:!1}))}}]),t}(d.a.Component),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).state={_filterValues:null,_error:null,_filterValuesFields:[]},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"isLoaded",value:function(){return this.state._error||null!=this.props.filterableFieldOptions}},{key:"getFilterValueStruct",value:function(){return{id:null,value:null,operator:"eq",isNegated:!1,isActive:!0,selectedField:null}}},{key:"getFilterValuesList",value:function(e){var t=this;return p.a.map(e,(function(e,a){var s=t.getFilterValueStruct();return s.id=a,s.value=e.value,s.operator=e.operator,s.isNegated=e.isNegated,s.isActive=e.isActive,s.selectedField=p.a.filter(t.props.filterableFieldOptions,(function(e,t){return e&&e.id===a}))[0]||null,s}))}},{key:"componentDidMount",value:function(){var e=this.props.filterValues||{},t=Object.keys(e);this.setState({_filterValues:e,_filterValuesFields:t,_filterValuesList:this.getFilterValuesList(e)}),this.props.onFilterValueChangeHandler(this.getFilterFunction.bind(this),t,this.getFilterQuery.bind(this),this.state._filterValues)}},{key:"onFilterValueChangeHandler",value:function(e,t){var a=this.state._filterValues;if(t&&t.length>0){var s=t[0]||null;e.id=s.id,e.selectedField=s,a[e.id]={value:e.value,isActive:e.isActive,operator:e.operator,isNegated:e.isNegated,selectedField:s}}else delete a[e.id],e.id=null,e.selectedField=null;var n=Object.keys(a);this.setState({_filterValues:a,_filterValuesFields:n,_filterValuesList:this.state._filterValuesList}),this.props.onFilterValueChangeHandler&&this.props.onFilterValueChangeHandler(this.getFilterFunction.bind(this),n,this.getFilterQuery.bind(this),this.state._filterValues)}},{key:"addAnotherFieldHandler",value:function(){var e=this.state._filterValuesList;0!==e.length&&null==e[e.length-1].id||(e.push(this.getFilterValueStruct()),this.setState({_filterValuesList:e}))}},{key:"removeFieldHandler",value:function(e){var t=this.state._filterValues,a=this.state._filterValuesList;delete t[a[e].id],a.splice(e,1),this.setState({_filterValues:t,_filterValuesFields:Object.keys(t),_filterValuesList:a})}},{key:"getFilterFunction",value:function(e){var t=this;return p.a.filter(e,(function(e,a){var n=!0;return p.a.forEach(t.state._filterValues,(function(t,a){if(t.isActive){var i=t.operator,l=t.value;"in"!==i&&Array.isArray(l)?l=l.length>0?l[0]:null:"in"!==i||Array.isArray(l)||(l=l.split(" OR "));var r=t.isNegated,o=!1,c=e[a];"eq"!==i||""===l||Boolean(l)||(i="exists",r=!1),Array.isArray(l)&&"in"!==i&&(l=l.length>0?l[0]:null),"date"===t.selectedField.type&&((c=m()(c))&&(c=c.format("YYYY-MM-DD")),(l=m()(l))&&(l=l.format("YYYY-MM-DD"))),"boolean"!==t.selectedField.type||Boolean(l)||(l=!0,r=!0),o="exists"===i?Boolean(c)===Boolean(l):"contains"===i?String(c).toLowerCase().includes(l.toLowerCase()):"in"===i?l&&l.length>0&&p.a.includes.apply(p.a,[l].concat(Object(s.a)("string"===typeof c?[c]:c))):p.a[i](c,l),n&=r?!o:o}})),n}))||[]}},{key:"getFilterQuery",value:function(){var e={gt:">",gte:">=",lt:"<",lte:"<="},t=[];return p.a.forEach(this.state._filterValues,(function(a,s){var n=a.operator;if(a.isActive&&!n.startsWith("_")){var i=a.value;"in"!==n&&Array.isArray(i)?i=i.length>0?N(i[0]):null:"in"!==n||Array.isArray(i)||(i=p.a.map(i.split(" OR "),(function(e){return N(e)})));var l=a.isNegated;"eq"===n&&l&&!Boolean(i)&&(n="exists",i=l),"exists"===n&&(l=!Boolean(i));var r="(";if(l&&(r+="NOT "),r+="(","boolean"!==a.selectedField.type||Boolean(i)||(r+="NOT "),"in"===n){var o=[];p.a.each(i,(function(e,t){o.push('"'+e+'"')})),r+="doc."+s+":("+o.join(" OR ")+")"}else if("exists"===n)r+="_exists_:doc."+s;else if(r+="doc."+s+":","eq"===n)"boolean"===a.selectedField.type?r+="true":"number"===a.selectedField.type?r+=i?parseFloat(i):"":"date"===a.selectedField.type?r+=i?m()(i).format("YYYY-MM-DD"):"":r+='"'+i+'"';else if("contains"===n){var c=i?String(i):"";r+="(",r+='"'+N(i)+'"',r+=" OR ",r+=N(c.toLowerCase()),r+=" OR ",r+="*"+N(c.toLowerCase())+"*",r+=")"}else"date"===a.selectedField.type?r+=e[n]+(i?m()(i).format("YYYY-MM-DD"):""):r+=e[n]+(i?N(i):"");r+="))",t.push(r)}})),t.length>0?t.join(" AND "):null}},{key:"getSelectionValues",value:function(e){return e?p.a.reduce(e,(function(e,t){return e.push(t.id),e}),[]):null}},{key:"render",value:function(){var e=this;return this.state._error?d.a.createElement("div",null,"Error: ",this.state._error):this.isLoaded()?d.a.createElement(d.a.Fragment,null,d.a.createElement("table",{className:"slds-table slds-table_cell-buffer slds-table_bordered slds-no-row-hover"},d.a.createElement("thead",null,d.a.createElement("tr",{className:"slds-line-height_reset"},d.a.createElement("th",{className:"slds-text-title_caps",scope:"col"},d.a.createElement("div",{className:"slds-truncate",title:"Field"},"Field")),d.a.createElement("th",{className:"slds-text-title_caps",scope:"col"},d.a.createElement("div",{className:"slds-truncate",title:"Operator"},"Operator")),d.a.createElement("th",{className:"slds-text-title_caps",scope:"col"},d.a.createElement("div",{className:"slds-truncate",title:"Filter Value"},"Filter Value")),d.a.createElement("th",{className:"slds-text-title_caps",scope:"col"},d.a.createElement("div",{className:"slds-truncate",title:"Is Active?"},"Is Active?")),d.a.createElement("th",{className:"slds-text-title_caps",scope:"col"},d.a.createElement("div",{className:"slds-truncate"})))),d.a.createElement("tbody",null,p.a.map(this.state._filterValuesList,function(e,t){var a=this,s=e.id,n=e.selectedField||{};return d.a.createElement("tr",{className:"slds-hint-parent",key:"fieldName: "+(s||"")},d.a.createElement("td",{"data-label":"Field",style:{width:"30vw"}},s||d.a.createElement(k,{placeholder:"Select Field to filter",options:this.props.filterableFieldOptions||[],filterOptionsHandler:function(e){return p.a.filter(e,(function(e,t){return e&&-1===a.state._filterValuesFields.indexOf(e.id)}))||[]},selection:p.a.find(this.props.filterableFieldOptions,(function(e){return e&&e.id===s}))||[],onSelect:function(t,s){return a.onFilterValueChangeHandler(e,s)},onRequestRemoveSelectedOption:function(t,s){return a.onFilterValueChangeHandler(e,s)}})),d.a.createElement("td",{"data-label":"Operator",style:{width:"20vw"}},n&&("boolean"===n.type&&C[n.type].label||d.a.createElement(k,{placeholder:"Select Operator to Compare",options:C[n.type]||[],selection:[],variant:"readonly",onSelect:function(t,s){s[0].type=s[0].type||e.selectedField.type,e.operator=s[0].id,e.isNegated=s[0].isNegated,e.type!==s[0].type&&(e.value=null,"boolean"===s[0].type&&(e.value=!1),"text"===s[0].type&&(e.value=""),e.type=s[0].type),a.onFilterValueChangeHandler(e,[e.selectedField])}}))),d.a.createElement("td",{"data-label":"Filter Value",style:{width:"30vw"}},n&&(("boolean"===n.type||"exists"===e.operator)&&d.a.createElement(v.a,{defaultChecked:e.value,onChange:function(t){e.value=t.target.checked,a.onFilterValueChangeHandler(e,[e.selectedField])}})||("text"===n.type||"number"===n.type||"long"===n.type)&&d.a.createElement(S,{SObjectName:this.props.SObjectType,fieldName:n.id,onSelect:function(t,s){e.value=a.getSelectionValues(s),a.onFilterValueChangeHandler(e,[e.selectedField])},onRequestRemoveSelectedOption:function(t,s){e.value=a.getSelectionValues(s),a.onFilterValueChangeHandler(e,[e.selectedField])},elseComponent:d.a.createElement(y.a,{defaultValue:e.value,assistiveText:{label:n.label},id:n.id,onBlur:function(t){e.value=t.target.value,a.onFilterValueChangeHandler(e,[e.selectedField])}}),onRender:function(e){},multiple:"in"===e.operator,variant:"in"===e.operator?"base":"inline-listbox"})||"date"===n.type&&d.a.createElement(_.a,{value:e.value,onChange:function(t,s){e.value=s.date,a.onFilterValueChangeHandler(e,[e.selectedField])},className:"inline-table",menuPosition:"relative",hasStaticAlignment:!0}))),d.a.createElement("td",{"data-label":"Is Active?",style:{width:"10vw"}},d.a.createElement(v.a,{defaultChecked:e.isActive,onChange:function(t){e.isActive=t.target.checked,a.onFilterValueChangeHandler(e,[e.selectedField])}})),d.a.createElement("td",{"data-label":"Actions",style:{width:"10vw"}},d.a.createElement(E.a,{label:"Remove Filter",variant:"base",onClick:function(){a.removeFieldHandler(t)}})))}.bind(this)))),d.a.createElement("div",{className:"slds-p-top_medium"},d.a.createElement(E.a,{label:"Add Filter",variant:"brand",onClick:function(){e.addAnotherFieldHandler()},disabled:null==this.props.filterableFieldOptions||0===this.props.filterableFieldOptions.length||this.props.filterableFieldOptions.length===this.state._filterValuesFields.length}))):d.a.createElement("div",{style:{position:"relative",height:"5rem"}},d.a.createElement(g.a,{size:"small",variant:"base"}))}}]),t}(d.a.Component)}}]);
//# sourceMappingURL=16.28d42b94.chunk.js.map