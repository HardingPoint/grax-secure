(this.webpackJsonpgraxreact=this.webpackJsonpgraxreact||[]).push([[3],{114:function(e,a,t){"use strict";(function(e){var n,r=t(36),s=t(42),l=t(43),i=t(44),o=t(0),c=t.n(o),u=t(75),d=t(73),m=t(85),f=t(76),E=t(148),v=(t(158),t(159),t(21)),b=t(145),g=t(60),p=t(6),h=Object(o.lazy)((function(){return Promise.all([t.e(1),t.e(14)]).then(t.bind(null,250))})),O=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(8)]).then(t.bind(null,253))})),y=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(7)]).then(t.bind(null,255))})),N=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(11)]).then(t.bind(null,256))})),_=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(6)]).then(t.bind(null,252))})),j=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(10)]).then(t.bind(null,251))}));n=null!=window.__grax__&&null!=window.__grax__.appName?window.__grax__.appname:window.location.pathname.split("/").pop()||"cloud",e&&Object({NODE_ENV:"production",PUBLIC_URL:"/grax-app/assets",REACT_APP_BASIC_TOKEN:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",REACT_APP_SFDCORGID:"00D6g000006wAo3EAE",REACT_APP_BASE_URL:"",REACT_APP_ENGAGEMENTGRAPH_GATEWAYTOKEN:"sVbY7Gsq6y2qsxyLtfLUTuc7pPl2tmy2PQdyEbbf",REACT_APP_ENGAGEMENTGRAPH_APITOKEN:"a6723bfceb46a850f0ebcd4c3383acc35cab15e50365271ac453a91f36f054a2"})&&!window.__grax__&&(window.__grax__={orgid:"00D6g000006wAo3EAE",pageParams:{authorization:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy"}});var C={summarycharts:"summary-charts",delete:"datalake-delete",timemachine:"grax-object-time-machine",logging:"grax-logs"},S=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={isLoading:!0},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;if("summarycharts"===n){var a=document.createElement("script");a.src="https://www.gstatic.com/charts/loader.js",a.async=!0,a.onload=function(){e.setState({isLoading:!1})},document.body.appendChild(a)}else this.setState({isLoading:!1})}},{key:"render",value:function(){return this.state.isLoading?c.a.createElement(u.a,{size:"large",variant:"brand"}):c.a.createElement(c.a.Fragment,null,v.j&&c.a.createElement("style",null,"\n                    html, body {\n                        height: 100%;\n                        overflow: auto;\n                        -webkit-overflow-scrolling: touch;\n                    }\n                "),c.a.createElement("div",{className:v.k?"slds-tabs_scoped__content":""},null!=C[n]?c.a.createElement("div",{"aria-hidden":"false",id:"GRAXHelpLink",style:{position:"absolute",right:"1.5rem",top:"0.75rem"}},c.a.createElement("h3",null,c.a.createElement("a",{href:"https://documentation.grax.io/docs/".concat(C[n]),rel:"noopener noreferrer",target:"_blank"},"GRAX Help"))):null,c.a.createElement(d.a,{iconPath:p.a},c.a.createElement(o.Suspense,{fallback:c.a.createElement(u.a,{size:"large",variant:"brand"})},("restore"===n||"mapping"===n)&&c.a.createElement(h,{variant:v.k?"default":"scoped",appName:n}),"logging"===n&&c.a.createElement(m.a,{variant:v.k?"default":"scoped",id:"grax-logging-tabs"},c.a.createElement(f.a,{label:"Error Logs"},c.a.createElement(O,{columns:["CreatedDate","source","info","error","stack","description"]})),c.a.createElement(f.a,{label:"Restore Logs"},c.a.createElement(O,{subtype:"restore",columns:["CreatedDate","objecttype","sourceId","destinationId","status","error","description"]}))),"timemachine"===n&&c.a.createElement(m.a,{variant:v.k?"default":"scoped",id:"grax-history-tabs"},c.a.createElement(f.a,{label:"History"},c.a.createElement(y,null))),"delete"===n&&c.a.createElement(m.a,{variant:v.k?"default":"scoped",id:"grax-delete-tabs"},c.a.createElement(f.a,{label:"Delete"},c.a.createElement(N,null))),"audit"===n&&c.a.createElement(_,{columns:["LastModifiedDate","ObjectType","ObjectVersion"]}),"summarycharts"===n&&c.a.createElement(j,{variant:v.k?"default":"scoped"}),c.a.createElement(E.a,{initialEntries:Object(g.b)(n)},c.a.createElement(g.a,{routes:b.a}))))))}}]),t}(c.a.Component);a.a=S}).call(this,t(87))},145:function(e,a,t){"use strict";var n=t(3),r=t(0),s=t.n(r),l=t(271),i=t(273),o=t(272),c=t(264),u=t(16),d=t(265),m=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{variant:"list"},s.a.createElement(u.a,{label:"Create Scenario",onClick:e})))},f=t(11),E=t(119),v=t(70),b=t(121),g=function(e){e.children;var a=e.onRowAction,t=Object(f.a)(e,["children","onRowAction"]),n=[];return"SUCCESS"!==t.item.job_status&&n.push({value:1,label:"Run"}),n.push({value:2,label:"Clone"},{value:3,label:"Edit"},{value:4,label:"Delete"}),s.a.createElement(E.a,t,s.a.createElement(v.a,{align:"right",iconCategory:"utility",iconName:"down",iconVariant:"border-filled",onSelect:function(e){return a(t.item.id,e)},buttonClassName:"slds-button_icon-small",options:n}))},p=function(e){e.children;var a=Object(f.a)(e,["children"]);return s.a.createElement(E.a,a,"SUCCESS"===a.item.job_status?s.a.createElement("a",{href:function(e){return e.preventDefault()},onClick:function(){return a.viewDuplicates(a.item.id)}},"View Duplicates"):"View Duplicates")},h=function(e){e.children;var a=Object(f.a)(e,["children"]),t="";return null!==a.item.groups_count&&null!==a.item.records_affected&&(t="".concat(a.item.groups_count," of ").concat(a.item.records_affected)),s.a.createElement(E.a,a,t)},O=function(e){var a=e.children,t=Object(f.a)(e,["children"]);return s.a.createElement(E.a,t,s.a.createElement("a",{href:function(e){return e.preventDefault()},onClick:function(){return t.viewScenario(t.item.id)}},a))},y=function(e){e.children;var a=Object(f.a)(e,["children"]).item.fields,t=a.length,n="";return t>0&&(n=a.slice(0,2).map((function(e){return e.split(".")[1]})).join(", "),t>2&&(n+=" +".concat(t-2))),s.a.createElement(E.a,null,n)},N=function(e){var a=e.children,t=Object(f.a)(e,["children"]);return s.a.createElement(E.a,t,a?"Yes":"No")};O.displayName=E.a.displayName,h.displayName=E.a.displayName,g.displayName=E.a.displayName,p.displayName=E.a.displayName,y.displayName=E.a.displayName,N.displayName=E.a.displayName;var _=[s.a.createElement(b.a,{key:"scenario-name",property:"name",label:"Name"},s.a.createElement(O,null)),s.a.createElement(b.a,{key:"object-name",property:"object_name",label:"Object Name"}),s.a.createElement(b.a,{key:"fields",property:"fields",label:"Fields"},s.a.createElement(y,null)),s.a.createElement(b.a,{key:"merge-actions",property:"scenario_action",label:"Merge Action"}),s.a.createElement(b.a,{key:"fields",property:"is_active",label:"Is Active"},s.a.createElement(N,null)),s.a.createElement(b.a,{key:"duplicate-counts",label:"Duplicate Counts"},s.a.createElement(h,null)),s.a.createElement(b.a,{key:"view-results",property:"job_status"},s.a.createElement(p,null)),s.a.createElement(b.a,{key:"row-actions",property:"job_status",label:""},s.a.createElement(g,null))],j=t(148),C=t(6),S=t(82),A=t.n(S),I=t(122),T=t(5),R=t(123),k=t.n(R),w="https://api.grax.com/prod/auth/salesforce",D="".concat(w,"/token"),z=k.a.create();z.interceptors.request.use((function(e){var a=Object(T.a)({},e);if(e.url.startsWith(C.h)){var t={sfdcorgid:"00D6g000006wAo3EAE",authorization:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",gatewayToken:"sVbY7Gsq6y2qsxyLtfLUTuc7pPl2tmy2PQdyEbbf",apiToken:"a6723bfceb46a850f0ebcd4c3383acc35cab15e50365271ac453a91f36f054a2"},n=t.sfdcorgid,r=t.authorization,s=t.token;return a.headers.sfdcorgid=n,a.withCredentials=!0,null!=r&&""!==r?a.headers.Authorization="Basic ".concat(r):s&&""!==s&&(a.headers.Authorization="Bearer ".concat(s)),a}if(e.url.startsWith(w)){var l={sfdcorgid:"00D6g000006wAo3EAE",authorization:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",gatewayToken:"sVbY7Gsq6y2qsxyLtfLUTuc7pPl2tmy2PQdyEbbf",apiToken:"a6723bfceb46a850f0ebcd4c3383acc35cab15e50365271ac453a91f36f054a2"},i=l.gatewayToken,o=l.apiToken;a.headers={"gateway-token":i,"api-token":o}}return a}));var x=z,M=t(36),P=t(43),B=t(44),F=t(147),U=function(e){Object(P.a)(t,e);var a=Object(B.a)(t);function t(){return Object(M.a)(this,t),a.apply(this,arguments)}return t}(Object(F.a)(Error)),L={isLoading:null,error:null,data:null,success:null,status:null},V=function(e,a){var t=a.type,n=a.payload;switch(t){case"FETCH_IS_LOADING":return!0===n.isLoading?Object(T.a)({},L,{isLoading:!0}):Object(T.a)({},e,{isLoading:!1});case"FETCH_SET_DATA":return Object(T.a)({},e,{data:n.data,error:null,success:!0,isLoading:!1});case"FETCH_THROW_ERROR":var r,s=n.error,l=s.response,i=void 0===l?{}:l,o=s.message;return r=i.status>=500?i.statusText||"Internal Server Error":i.data?i.data:i.statusText?i.statusText:o,Object(T.a)({},e,{data:null,success:!1,isLoading:!1,error:r});default:throw new U}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},e),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object(r.useState)(a),l=Object(n.a)(s,2),i=l[0],o=l[1],c=Object(r.useReducer)(V,Object(T.a)({},L,{},t)),u=Object(n.a)(c,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){void 0!==i.url&&(m({type:"FETCH_IS_LOADING",payload:{isLoading:!0}}),Object(I.a)(A.a.mark((function e(){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(i);case 3:a=e.sent,m({type:"FETCH_SET_DATA",payload:{data:a.data}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m({type:"FETCH_THROW_ERROR",payload:{error:e.t0}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))())}),[i]),[d,o]},G=function(){var e=q(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(C.s,"/").concat(e),method:"POST"})}]},K=function(){var e=q(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(C.s,"/").concat(e),method:"DELETE",params:{sfdcorgid:""}})}]},H=function(){var e=q(null,{data:{data:[]}}),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(C.s,"/").concat(e,"/run"),params:{sfdcorgid:""},method:"POST"})}]},W=Object(r.createContext)(),Y=function(){var e=function(){var e=q(null,{data:{data:[]}}),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(){return r({url:C.s,params:{sfdcorgid:""}})}]}(),a=Object(n.a)(e,2),t=a[0],s=a[1],l=K(),i=Object(n.a)(l,2),o=i[0],c=i[1],u=H(),d=Object(n.a)(u,2),m=d[0],f=d[1],E=G(),v=Object(n.a)(E,2),b=v[0],g=v[1],p=Object(j.c)(),h=Object(r.useContext)(W).openToast;Object(r.useEffect)(s,[]),Object(r.useEffect)((function(){null!==b.data&&b.data.data.id?h({heading:["Scenario Cloned"]}):null!==o.status&&200===o.status?(h({heading:["Scenario Deleted"]}),s()):null!==m.data&&"success"===m.data.status&&(h({heading:["Scenario is Running"]}),s())}),[b.data,o.data,m.data]);var O=function(e){return p.push("".concat(C.c,"/scenarios/").concat(e))},y=function(e){return p.push("".concat(C.c,"/duplicates/").concat(e))};return[t,{createScenario:function(){return p.push("".concat(C.c,"/scenarios/new"))},viewScenario:O,viewDuplicates:y,onRowAction:function(e,a){switch(a.value){case 1:f(e);break;case 5:y(e);break;case 2:g(e);break;case 3:O(e);break;case 4:c(e)}}}]},Q=function(){var e=Y(),a=Object(n.a)(e,2),t=a[0],r=a[1],c=r.onRowAction,u=r.createScenario,d=r.viewScenario,f=r.viewDuplicates;return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,{className:"slds-m-bottom_large",title:"Scenarios",variant:"object-home",onRenderActions:m.bind(null,u),trail:[s.a.createElement("a",{href:"javascript:void(0);"},"Dedup")]}),s.a.createElement(i.a,{style:{flexGrow:1},heading:"All Scenarios"},s.a.createElement(o.a,{items:t.data.data,noRowHover:!0,viewScenario:d,viewDuplicates:f,onRowAction:c},_)))};Q.displayName="DedupScenarios";var Z=Q,J=t(266),X=function(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],s=a[1],l=q(),i=Object(n.a)(l,2),o=i[0],c=i[1];return Object(r.useEffect)((function(){if(null!==o.data){var e=[],a=o.data;for(var t in a)if(1===t.split(".").length&&!1===t.startsWith("grax")){var n=a[t];e.push({label:t,value:"doc.".concat(t),dataType:n})}s(e)}}),[o.data]),[t,function(e){""!==e?c({url:"".concat(C.j,"/getDataTypeFields/").concat(e,"?action=load"),params:{sfdcorgid:""}}):s([])}]},$={isEditMode:!1,objectIndex:"",formState:{filterCriteria:[],matchCriteria:[{}],sfdcorgid:"",name:"",description:"",object_name:"",is_active:!0,scenario_action:"MANUAL_MERGE",fields:[],results_table_fields:[],records_affected:null,groups_count:null},editMode:{}},ee=function(e,a){switch(a.type){case"SCENARIO_LOAD":var t=a.payload;return Object(T.a)({},e,{isEditMode:a.payload.isEditMode,formState:{matchCriteria:t.matchCriteria,filterCriteria:a.payload.filterCriteria,name:t.name,description:t.description,object_name:t.object_name,results_table_fields:t.results_table_fields,fields:t.fields,is_active:t.is_active,scenario_action:t.scenario_action}});case"SCENARIO_SET_MATCH_CRITERIA":case"SCENARIO_SET_FILTER_CRITERIA":case"SCENARIO_SET_NAME":case"SCENARIO_SET_DESCRIPTION":case"SCENARIO_SET_IS_ACTIVE":case"SCENARIO_SET_SCENARIO_ACTION":var n=a.payload,r=Object(T.a)({},e,{formState:Object(T.a)({},e.formState,{},n)});return!0===e.isEditMode&&(r=Object(T.a)({},r,{editMode:Object(T.a)({},e.editMode,{},n)})),r;case"SCENARIO_SET_RESULTS_TABLE_FIELDS":var s=a.payload.fields.map((function(e){return e.value})),l=Object(T.a)({},e,{formState:Object(T.a)({},e.formState,{results_table_fields:s})});return!0===e.isEditMode&&(l=Object(T.a)({},l,{editMode:Object(T.a)({},l.editMode,{results_table_fields:s})})),l;case"SCENARIO_SET_FIELDS":var i=a.payload.fields.map((function(e){return e.value})),o=Object(T.a)({},e,{formState:Object(T.a)({},e.formState,{fields:i})});return!0===e.isEditMode&&(o=Object(T.a)({},o,{editMode:Object(T.a)({},o.editMode,{fields:i})})),o;case"SCENARIO_SET_OBJECT_NAME":var c=a.payload,u=e.formState.matchCriteria.map((function(e){return Object(T.a)({},e,{field_name:"",operator:""})})),d=e.formState.filterCriteria.map((function(e){return Object(T.a)({},e,{field_name:"",operator:""})})),m=Object(T.a)({},e,{objectIndex:c.objectIndex,formState:Object(T.a)({},e.formState,{object_name:c.object_name,matchCriteria:u,filterCriteria:d})});return!0===e.isEditMode&&(m=Object(T.a)({},m,{editMode:Object(T.a)({},m.editMode,{object_name:c.object_name,matchCriteria:u,filterCriteria:d})})),m;default:throw new Error}},ae=function(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],s=a[1],l=q({url:"".concat(C.j,"/getDataTypes"),params:{sfdcorgid:""}}),i=Object(n.a)(l,1)[0];return Object(r.useEffect)((function(){null!==i.data&&s(i.data.filter((function(e){return!1===e.label.startsWith("grax")&&"logs"!==e.label})))}),[i.data]),t},te=function(){var e=Object(r.useReducer)(ee,$),a=Object(n.a)(e,2),t=a[0],s=a[1],l=function(){var e=q(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){r({url:"".concat(C.s,"/").concat(e),params:{sfdcorgid:""}})}]}(),i=Object(n.a)(l,2),o=i[0],c=i[1],u=function(){var e=q(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:C.s,method:"POST",data:e})}]}(),d=Object(n.a)(u,2),m=d[0],E=d[1],v=K(),b=Object(n.a)(v,2),g=b[0],p=b[1],h=H(),O=Object(n.a)(h,2),y=O[0],N=O[1],_=G(),S=Object(n.a)(_,2),A=S[0],I=S[1],R=function(){var e=q(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e,a){"number"===typeof e&&r({url:"".concat(C.s,"/").concat(e),method:"PATCH",data:a,params:{sfdcorgid:""}})}]}(),k=Object(n.a)(R,2),w=k[0],D=k[1],z=X(),x=Object(n.a)(z,2),M=x[0],P=x[1],B=Object(j.d)(),F=Object(j.c)(),U=Object(r.useContext)(W).openToast,L=Number(B.scenario_id),V=Number.isInteger(L),Y="".concat(V?"Update":"Create"," Scenario"),Q=t.formState,Z=ae();Object(r.useEffect)((function(){!0===V&&c(L)}),[V]),Object(r.useEffect)((function(){null!==o.data&&null===o.error&&s({type:"SCENARIO_LOAD",payload:Object(T.a)({isEditMode:V},o.data.data)})}),[o.data]),Object(r.useEffect)((function(){""!==t.objectIndex&&P(t.objectIndex)}),[t.objectIndex]),Object(r.useEffect)((function(){return s({type:"SCENARIO_SET_RESULTS_TABLE_FIELDS",payload:{fields:M}})}),[M]),Object(r.useEffect)((function(){var e=t.isEditMode,a=t.formState,n=t.objectIndex,r=a.object_name;if(!0===e&&""!==r&&""===n&&Z.length>0){var s=Z.find((function(e){return e.label===r}));void 0!==s&&P(s.id)}}),[Z,t.formState.object_name]),Object(r.useEffect)((function(){null!==m.data&&m.data.data.id?(U({heading:["New Scenario Created"]}),F.push("".concat(C.c,"/scenarios/").concat(m.data.data.id))):null!==A.data&&A.data.data.id?(U({heading:["Scenario Cloned"]}),F.push("".concat(C.c,"//scenarios/").concat(A.data.data.id))):null!==g.status&&200===g.status?(U({heading:["Scenario Deleted"]}),F.push("".concat(C.c,"/scenarios"))):null!==y.data&&"success"===y.data.status&&U({heading:["Scenario is Running"]})}),[m.data,A.data,g,w,y]),Object(r.useEffect)((function(){null!==w.data&&null===w.error&&U({heading:"Scenario Updated"})}),[w.data]);return[{formState:Q,isEditMode:V,docPrefixedFields:M,scenarioId:L,heading:Y,sObjects:Z},{dispatch:s,deleteScenario:p,cloneScenario:I,runDeduplication:N,viewDuplicates:function(e){return F.push("/grax-app/client/duplicates/".concat(e))},onSubmit:function(e){if(!0===t.isEditMode)D(L,t.editMode);else{var a=t.formState,n=(a.fields,Object(f.a)(a,["fields"]));E(n)}e.preventDefault()}}]},ne=t(1),re=t.n(ne),se=t(274),le={isEditMode:re.a.bool.isRequired,onDelete:re.a.func,onDuplicate:re.a.func},ie=function(e){var a=e.isOpen,t=e.onDelete,n=e.onClose;return s.a.createElement(se.a,{disableClose:!0,footer:[s.a.createElement(u.a,{label:"Cancel",onClick:n}),s.a.createElement(u.a,{label:"Delete",variant:"destructive",onClick:function(){n(),t()}})],isOpen:a,onRequestClose:n,prompt:"error",size:"small",title:s.a.createElement("span",null,"Delete Scenario?")})},oe=function(e){var a=e.isEditMode,t=e.onDelete,l=e.onDuplicate,i=e.onRun,o=e.onViewDuplicates,c=Object(r.useState)(!1),d=Object(n.a)(c,2),m=d[0],f=d[1],E=s.a.createElement(u.a,{className:"slds-m-horizontal_xx-small",iconCategory:"utility",iconName:"delete",iconVariant:"border-filled",onClick:t}),b=s.a.createElement(v.a,{buttonVariant:"icon",checkmark:!0,iconName:"settings",iconSize:"large",iconVariant:"more",align:"right",onSelect:function(e){switch(e.value){case 1:i();break;case 5:o();break;default:l()}},options:[{label:"Run",value:1},{label:"View Result",value:5},{label:"Duplicate",value:2}]}),g=[];return!0===a&&(g.push(b),g.push(E),g.push(s.a.createElement(ie,{isOpen:m,onClose:function(){return f(!1)},onDelete:t}))),g};oe.propType=le,oe.displayName="DedupScenarioCardActions";var ce=oe,ue=t(254),de=t(72),me={name:re.a.string.required,description:re.a.string.required,isActive:re.a.bool.required,onChangeName:re.a.func,onChangeDescription:re.a.func,onChangeNameIsActive:re.a.func},fe=Object(r.memo)((function(e){var a=e.name,t=e.description,n=e.isActive,l=e.onChangeName,i=e.onChangeDescription,o=e.onChangeIsActive,c=Object(r.useRef)(0);return c.current=c.current+1,s.a.createElement(J.a,{title:"General",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_2-of-5"},s.a.createElement(ue.a,{label:"Name",required:!0,value:a,onChange:function(e){return l(e.target.value)}})),s.a.createElement("div",{className:"slds-col slds-size_2-of-5"},s.a.createElement(ue.a,{label:"Description",value:t,onChange:function(e){return i(e.target.value)}})),s.a.createElement("div",{className:"slds-col slds-size_1-of-5"},s.a.createElement("div",{className:"slds-form-element"},s.a.createElement("label",{className:"slds-form-element__label"},"Is Active"),s.a.createElement(de.a,{checked:n,variant:"toggle",onChange:function(e,a){var t=a.checked;return o(t)}})))))}));fe.prototype=me,fe.prototype.displayName="DedupScenarioGeneral";var Ee=fe,ve=t(53),be=t(267),ge=t(268),pe=function(e){var a=e.options,t=void 0===a?[]:a,l=e.onChange,i=Object(f.a)(e,["options","onChange"]),o=Object(r.useState)(""),c=Object(n.a)(o,2),u=c[0],d=c[1],m=Object(r.useState)([]),E=Object(n.a)(m,2),v=E[0],b=E[1],g=function(e,a){l&&l(e,a,t)};return s.a.createElement(be.a,Object.assign({events:{onChange:function(e,a){var t=a.value;return d(t)},onRequestRemoveSelectedOption:function(e,a){d(""),b(a.selection),g(e,a.selection)},onSelect:function(e,a){d(""),b(a.selection),g(e,a.selection)}},options:Object(ge.a)({inputValue:u,limit:1e3,options:t,selection:v}),selection:v,value:u,variant:"inline-listbox",required:!0,menuItemVisibleLength:5,classNameMenu:"slds-dropdown_length-7"},i))};pe.defaultProps={options:[],props:{}};var he=pe,Oe=Object(r.createContext)(),ye=function(){return Object(r.useContext)(Oe)},Ne=function(e){var a=e.children,t=q({url:"".concat(C.d,"/metadata"),params:{sfdcorgid:""}},{data:{data:{operators:[],stopwords:[],synonyms:[]}}}),l=Object(n.a)(t,1)[0],i=Object(r.useMemo)((function(){return{metadata:l}}),[l]);return s.a.createElement(Oe.Provider,{value:i},a)},_e={scenarioActions:re.a.array,scenarioAction:re.a.string,onChange:re.a.func},je=function(e){var a=e.scenarioAction,t=e.onChange,n=ye().metadata.data.data.scenario_actions,l=Object(r.useRef)(0);return l.current=l.current+1,s.a.createElement("div",{className:"slds-col slds-size_2-of-5"},s.a.createElement(he,{options:function(e){var a=[];for(var t in e){var n=e[t].values;n=n.map((function(e){return{label:e.display_value,value:e.code}})),a.push.apply(a,Object(ve.a)(n))}return a}(n),value:a,labels:{placeholder:"Select Option"},required:!0,onChange:function(e,a){return t(1===a.length?a[0].value:null)}}))};je.prototype=_e,je.displayName="DedupScenarioMergeActions";var Ce=Object(r.memo)(je),Se=function(e){var a=e.heading;e.onSubmit;return s.a.createElement(l.a,{className:"slds-m-bottom_large",title:a,variant:"object-home",trail:[s.a.createElement("span",null,"Dedup "),s.a.createElement("a",{href:"javascript:void(0);"},"Scenarios")],onRenderActions:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{variant:"list"},s.a.createElement(u.a,{label:"Save",type:"submit"})))}})},Ae=t(21),Ie=function(e){var a=e.onRemove,t=Object(f.a)(e,["onRemove"]);return s.a.createElement("div",{className:"slds-col slds-size_1-of-12"},s.a.createElement("div",{className:"slds-form-element"},s.a.createElement("label",{className:"slds-form-element__label"},"\xa0"),s.a.createElement("div",{className:"slds-from_element__control"},s.a.createElement(u.a,Object.assign({onClick:a,iconCategory:"utility",variant:"icon",iconName:"delete",iconVariant:"border-filled"},t)))))},Te=function(e){var a=e.onClick,t=Object(f.a)(e,["onClick"]);return s.a.createElement(u.a,Object.assign({className:"slds-m-top_medium",label:"Add New Row",iconCategory:"utility",iconName:"add",iconPosition:"left",onClick:a},t))},Re=function e(a){return function(t){var n=t.rows,l=t.onChange,i=t.footer,o=t.hideFooter,c=Object(f.a)(t,["rows","onChange","footer","hideFooter"]),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(n.concat(e))},d=function(e,a){return l(n.map((function(t,n){return a===n?e:t})))},m="".concat(e.name).concat(a.name),E=[];a.displayName=m,n.map((function(e,t){return E.push(s.a.createElement(a,Object.assign({row:e,index:t,key:"".concat(m,"-").concat(t),onChange:function(e){return d(e,t)},onRemove:function(){return function(e){return l(n.filter((function(a,t){return e!==t})))}(t)}},c)))}));return[E,function(e,a){if(void 0===a)return s.a.isValidElement(e)?Object(r.cloneElement)(e,{addRow:u}):s.a.createElement(Te,{onClick:function(){return u({})}})}(i,o)]}};Re.displayName="withRepeating";var ke=Re,we={fieldName:re.a.string,docPrefixedFields:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string})),operator:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string})),onChangeField:re.a.func,onChangeOperator:re.a.func,operators:re.a.arrayOf(re.a.string)},De=function(e){var a=e.fieldName,t=e.operator,l=e.docPrefixedFields,i=e.onChangeField,o=e.onChangeOperator,c=Object(r.useState)(""),u=Object(n.a)(c,2),d=u[0],m=u[1],f=function(){var e=Object(r.useState)(null),a=Object(n.a)(e,2),t=a[0],s=a[1],l=Object(r.useState)([]),i=Object(n.a)(l,2),o=i[0],c=i[1],u=ye().metadata.data.data.operators;return Object(r.useEffect)((function(){if(null===t)c([]);else{var e=u.filter((function(e){return e.applicable_data_types.includes(t)})).map((function(e){return{label:e.name,value:e.id}}));c(e)}}),[t,u]),[o,s]}(),E=Object(n.a)(f,2),v=E[0],b=E[1];Object(r.useEffect)((function(){if(0===v.length&&""!==a&&l.length>0){var e=l.find((function(e){return e.value===a}));void 0!==e&&b(e.dataType)}}),[l]),Object(r.useEffect)((function(){var e="";void 0!==a&&a.startsWith("doc.")&&(e=a.split("doc.")[1]),m(e)}),[a]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-col slds-size_1-of-5"},s.a.createElement(he,{onChange:function(e,a){return function(e){if(1===e.length){var a=e[0],t=a.value,n=a.dataType;i(t),b(n)}else i(""),b(null)}(a)},options:l,value:d,required:!0,labels:{label:"Fields",placeholder:"Select Option"}})),s.a.createElement("div",{className:"slds-col slds-size_1-of-5"},s.a.createElement(he,{onChange:function(e,a){return o(1===a.length?a[0].label:"")},options:v,value:t,required:!0,labels:{label:"Operators",placeholder:"Select Option"}})))};De.prototype=we,De.displayName="DedupScenarioFieldsAndOperators";var ze=De,xe={row:re.a.shape({field:re.a.string,operator:re.a.string,value:re.a.string,stopWord:re.a.array,synonyms:re.a.array,cleanse:re.a.bool}),index:re.a.number,onChange:re.a.func,onRemove:re.a.func,docPrefixedFields:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string})),operators:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string}))},Me=function(e){var a=e.row,t=e.onChange,n=e.onRemove,r=e.setMetadata,l=e.docPrefixedFields,i=e.operators,o=1===e.rowsNum;return s.a.createElement("li",{className:"slds-grid slds-gutters_small"},s.a.createElement(ze,{docPrefixedFields:l,operators:i,fieldName:a.field_name,operator:a.operator,onChangeField:function(e){return t(Object.assign({},a,{field_name:e,operator:""}))},onChangeOperator:function(e){return t(Object(Ae.m)(a,"operator",e))}}),s.a.createElement("div",{className:"slds-col slds-size_1-of-5"},s.a.createElement("div",{className:"slds-form-element"},s.a.createElement("label",{className:"slds-form-element__label"},"stopWord"),s.a.createElement("div",{className:"slds-form-element__control"},s.a.createElement("a",{className:"",style:{lineHeight:"1.875rem"},href:function(e){return e.preventDefault()},onClick:function(){return r({matchCriteriaId:a.id,id:a.stopwords_list_id,variant:"stopwords"})}},"Contact Prefixes")))),s.a.createElement("div",{className:"slds-col slds-size_1-of-6"},s.a.createElement("div",{className:"slds-form-element"},s.a.createElement("label",{className:"slds-form-element__label"},"Synonym"),s.a.createElement("div",{className:"slds-form-element__control"},s.a.createElement("a",{className:"",style:{lineHeight:"1.875rem"},href:function(e){return e.preventDefault()},onClick:function(){return r({matchCriteriaId:a.id,id:a.synonyms_id,variant:"synonyms"})}},"Synonym name")))),s.a.createElement("div",{className:"slds-col slds-size_2-of-12"},s.a.createElement("span",{className:"slds-form-element__label"},"Use Cleansed Field"),s.a.createElement("div",{className:"slds-form-element__control"},s.a.createElement(de.a,{variant:"toggle",checked:a.cleanse,onChange:function(e,n){n.checked;return t(Object(Ae.m)(a,"cleanse",!a.cleanse))}}))),s.a.createElement(Ie,{onRemove:n,disabled:o}))};Me.prototype=xe,Me.displayName="DedupScenarioMatchCriterias";var Pe=ke(Me),Be={row:re.a.shape({field:re.a.string,operator:re.a.string,value:re.a.any}),index:re.a.number,onChange:re.a.func,onRemove:re.a.func,docPrefixedFields:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string})),operators:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string}))},Fe=function(e){var a=e.row,t=e.onChange,l=e.onRemove,i=e.docPrefixedFields,o=e.operators,c=Object(r.useState)(),u=Object(n.a)(c,2),d=u[0],m=u[1];return Object(r.useEffect)((function(){return m(a.value)}),[a.value]),s.a.createElement("li",{className:"slds-grid slds-gutters_small"},s.a.createElement(ze,{docPrefixedFields:i,operators:o,fieldName:a.field_name,operator:a.operator,onChangeField:function(e){return t(Object(Ae.m)(a,"field_name",e))},onChangeOperator:function(e){return t(Object(Ae.m)(a,"operator",e))}}),s.a.createElement("div",{className:"slds-col slds-size_1-of-5"},s.a.createElement(ue.a,{label:"Value",value:d,required:!0,onChange:function(e){return m(e.target.value)},onBlur:function(e){return t(Object(Ae.m)(a,"value",d))}})),s.a.createElement(Ie,{onRemove:l}))};Fe.proptype=Be,Fe.displayName="DedupScenarioFilterCriterias";var Ue=ke(Fe),Le=t(146),Ve=ke((function(e){var a=e.row,t=e.selectedId,l=(e.onChange,e.onRemove),i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1];return s.a.createElement("tr",{className:"slds-hint-parent"},s.a.createElement("th",{className:"slds-cell-edit"},s.a.createElement(Le.a,{variant:"base",checked:t===a.id})),s.a.createElement("th",{className:"slds-cell-edit"},s.a.createElement("span",{className:"slds-grid slds-grid_align-spread"},s.a.createElement("a",{className:"slds-truncate"},s.a.createElement("span",{className:"slds-grid slds-grid_align-spread"},s.a.createElement("span",{className:"slds-truncate",title:"Acme"},a.name))),s.a.createElement(u.a,{iconSize:"small",onClick:function(){return d(!0)},iconCategory:"utility",variant:"icon",iconName:"edit",iconVariant:"bare",className:"slds-cell-edit__button",iconClassName:"slds-button__icon_hint slds-button__icon_edit"})),c&&s.a.createElement("section",{className:"slds-popover slds-popover slds-popover_edit",role:"dialog",style:{position:"absolute",top:"0px",left:"0.0625rem"}},s.a.createElement("div",{className:"slds-popover__body",id:"dialog-body-id-1"},s.a.createElement("div",{className:"slds-form-element slds-grid slds-wrap"},s.a.createElement("label",{className:"slds-form-element__label slds-form-element__label_edit slds-no-flex",for:"company-01"},s.a.createElement("span",{className:"slds-assistive-text"},"Company")),s.a.createElement("div",{className:"slds-form-element__control slds-grow"},s.a.createElement("input",{className:"slds-input",id:"company-01",type:"text",value:"Acme Enterprises",onBlur:function(){d(!1)}})))))),s.a.createElement("td",{className:"slds-cell-edit slds-text-align_right"},s.a.createElement(u.a,{iconSize:"small",onClick:l,iconCategory:"utility",variant:"icon",iconName:"delete",iconVariant:"border-filled"})))})),qe=function(e){var a=e.criteria,t=(e.onChange,e.onSelect,Object(r.useState)([])),l=Object(n.a)(t,2),i=l[0],o=l[1],c=ye().metadata.data.data,u=c.stopwords,d=c.synonyms;return Object(r.useEffect)((function(){"stopwords"===a.variant?o(u):o(d)}),[a]),s.a.createElement("table",{className:"slds-table slds-table_bordered slds-no-row-hover slds-table_edit"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"slds-line-height_reset"},s.a.createElement("th",{className:"",style:{width:"1rem"}}),s.a.createElement("th",null,s.a.createElement("a",{className:"slds-th__action slds-text-link_reset",href:"javascript:void(0);",role:"button",tabindex:"0"},s.a.createElement("span",{className:"slds-assistive-text"},"Sort by: "),s.a.createElement("div",{className:"slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate"},s.a.createElement("span",{className:"slds-truncate",title:"Account Name"},"Name")))),s.a.createElement("th",{"aria-label":"Close Date","aria-sort":"none",className:"",scope:"col"}))),s.a.createElement("tbody",null,s.a.createElement(Ve,{rows:i,selectedId:a.id,hideFooter:!0})))},Ge={stopwords:"Stopwords",synonyms:"Synonyms"},Ke=function(e){var a=e.isOpen,t=e.criteria,n=e.onChange,r=e.onRequestClose;return s.a.createElement(se.a,{isOpen:a,heading:Ge[t.variant],onRequestClose:r,size:"small",footer:[s.a.createElement(u.a,{label:"Cancel",onClick:r}),s.a.createElement(u.a,{variant:"brand",label:"Apply",onClick:r})]},s.a.createElement(qe,{criteria:t,onChange:n}))},He={matchCriteria:re.a.shape({field:re.a.string,operator:re.a.string,value:re.a.string,stopword:re.a.array,synonyms:re.a.array,cleanse:re.a.bool}),filterCriteria:re.a.shape({field:re.a.string,operator:re.a.string,value:re.a.any}),operators:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string})),stopwords:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string})),synonyms:re.a.arrayOf(re.a.shape({label:re.a.string,value:re.a.string})),onChangeMatchCriteria:re.a.func,onChangeFilterCriteria:re.a.func},We=function(e){var a=e.matchCriteria,t=e.filterCriteria,l=e.objectName,i=(e.fields,e.docPrefixedFields),o=e.sObjects,c=e.onChangeObject,u=(e.onChangeFields,e.onChangeMatchCriteria),d=e.onChangeFilterCriteria,m=Object(r.useState)(!1),f=Object(n.a)(m,2),E=f[0],v=f[1],b=Object(r.useState)({}),g=Object(n.a)(b,2),p=g[0],h=g[1],O=ye().metadata.operators;return s.a.createElement(r.Fragment,null,s.a.createElement(J.a,{title:"Objects",className:"slds-m-bottom_medium",nonCollapsible:!0},s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-5"},s.a.createElement(he,{options:o,labels:{placeholder:"Select option"},value:l,onChange:function(e,a){var t=1===a.length?a[0]:{objectName:"",objectIndex:""};c(t.label,t.id)}})))),s.a.createElement(J.a,{title:"Matching Criterias",className:"slds-m-bottom_medium",nonCollapsible:!0},s.a.createElement(Pe,{rows:a,docPrefixedFields:i,operators:O,rowsNum:a.length,onChange:u,setMetadata:function(e){v(!0),h(e)}})),s.a.createElement(J.a,{title:"Filter Criterias",className:"slds-m-bottom_medium",nonCollapsible:!0},s.a.createElement(Ue,{rows:t,docPrefixedFields:i,operators:O,onChange:d})),s.a.createElement(Ke,{isOpen:E,criteria:p,onRequestClose:function(){return v(!1)}}))};We.propType=He;var Ye=We,Qe=function(){var e=te(),a=Object(n.a)(e,2),t=a[0],l=t.formState,o=t.isEditMode,c=t.docPrefixedFields,u=t.scenarioId,d=t.heading,m=t.sObjects,f=a[1],E=f.dispatch,v=f.deleteScenario,b=f.duplicateScenario,g=f.runDeduplication,p=f.viewDuplicates,h=f.onSubmit,O=l.name,y=l.description,N=l.is_active,_=l.object_name,j=l.fields,C=l.matchCriteria,S=l.filterCriteria,A=l.scenario_action;return s.a.createElement(Ne,null,s.a.createElement("form",{onSubmit:function(e){return h(e)}},s.a.createElement(Se,{heading:d}),s.a.createElement(i.a,{heading:d,headerActions:s.a.createElement(ce,{isEditMode:o,onDelete:function(){return v(u)},onDuplicate:function(){return b(u)},onRun:function(){return g(u)},onViewDuplicates:function(){return p(u)}})},s.a.createElement("div",{className:"slds-p-horizontal_medium"},s.a.createElement(Ee,{name:O,description:y,isActive:N,onChangeName:Object(r.useCallback)((function(e){return E({type:"SCENARIO_SET_NAME",payload:{name:e}})}),[O]),onChangeDescription:Object(r.useCallback)((function(e){return E({type:"SCENARIO_SET_DESCRIPTION",payload:{description:e}})}),[y]),onChangeIsActive:Object(r.useCallback)((function(e){return E({type:"SCENARIO_SET_IS_ACTIVE",payload:{is_active:e}})}),[N])}),s.a.createElement(Ye,{matchCriteria:C,filterCriteria:S,objectName:_,fields:j,docPrefixedFields:c,sObjects:m,onChangeMatchCriteria:function(e){return E({type:"SCENARIO_SET_MATCH_CRITERIA",payload:{matchCriteria:e}})},onChangeFilterCriteria:function(e){return E({type:"SCENARIO_SET_FILTER_CRITERIA",payload:{filterCriteria:e}})},onChangeObject:function(e,a){return E({type:"SCENARIO_SET_OBJECT_NAME",payload:{object_name:e,objectIndex:a}})},onChangeFields:function(e){return E({type:"SCENARIO_SET_FIELDS",payload:{fields:e}})}}),s.a.createElement(J.a,{title:"Merge Actions",nonCollapsible:!0,className:"slds-m-bottom_medium"},s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement(Ce,{scenarioAction:A,onChange:function(e){return E({type:"SCENARIO_SET_SCENARIO_ACTION",payload:{scenario_action:e}})}})))))))};Qe.propType={},Qe.displayName="DedupScenario";var Ze,Je,Xe=Qe,$e=function(e){var a=e.tableFields;return s.a.createElement("thead",null,s.a.createElement("tr",{className:"slds-line-height_reset"},s.a.createElement("th",{className:"slds-text-align_right",style:{width:"3.25rem"}}),a.map((function(e){return s.a.createElement("th",{"aria-label":"Contact"},s.a.createElement("div",null,s.a.createElement("span",{className:"slds-truncate",title:"Contact"},e)))})),s.a.createElement("th",{"aria-label":"Contact",style:{width:"3.25rem"}},s.a.createElement("div",null,s.a.createElement("span",{className:"slds-truncate",title:"Contact"})))))},ea=t(73),aa=function(e){var a=e.tableFields,t=e.row,l=e.onViewRecord,i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1];return s.a.createElement("tr",{"aria-level":"1",className:"slds-hint-parent"},s.a.createElement("td",{style:{width:"3.25rem"}},s.a.createElement("div",{className:"slds-checkbox"},s.a.createElement(de.a,{checked:c,onChange:function(e){d(!c)}}))),a.map((function(e){return s.a.createElement("td",null,s.a.createElement("div",{className:"slds-truncate",title:"Acme"},function(e,a){return a[e]}(e,t)))})),s.a.createElement("td",{className:"slds-text-align_right"},s.a.createElement(ea.a,{iconPath:"/assets/icons"},s.a.createElement(u.a,{align:"right",iconCategory:"utility",iconName:"expand",iconVariant:"border",iconSize:"small",onClick:function(e){l(t)}}))))},ta=function(){var e=Object(r.useState)([]),a=Object(n.a)(e,2),t=a[0],s=a[1],l=Object(r.useState)([]),i=Object(n.a)(l,2),o=i[0],c=i[1],u=Object(r.useState)([]),d=Object(n.a)(u,2),m=d[0],f=d[1],E=Object(r.useState)(null),v=Object(n.a)(E,2),b=v[0],g=v[1],p=function(){var e=q(null,{data:{data:{results:[]}}}),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:"".concat(C.s,"/").concat(e,"/results"),params:{sfdcorgid:""}})}]}(),h=Object(n.a)(p,2),O=h[0],y=h[1],N=Object(j.d)(),_=Object(r.useContext)(W).openToast,S=N.scenario_id;return Object(r.useEffect)((function(){return y(S)}),[S]),Object(r.useEffect)((function(){var e=O.data.data.results;if(e.length>0){var a=["doc.Name","doc.Website","doc.Phone","doc.BillingCity","doc.BillingState"].map((function(e){return e.split(".")[1]}));s(e),g(e[0].index_name),c(a.slice(0,4)),f(a)}}),[O.data]),Object(r.useEffect)((function(){"CREATED"===O.data.data.job_status&&_({heading:["Scenario Job Created"]})}),[O.data.data.job_status]),{tableFields:o,tableFieldsExpanded:m,rows:t,indexName:b}},na=function(e){var a=e.keyName,t=e.tableFields;return s.a.createElement("tr",{className:"slds-is-selected"},s.a.createElement("td",{colspan:t.length+1},"Duplicate key: ",a),s.a.createElement("td",{className:"slds-text-align_right",style:{width:"3.25rem"}},s.a.createElement(ea.a,{iconPath:"/assets/icons"},s.a.createElement(v.a,{align:"right",iconCategory:"utility",iconName:"down",iconVariant:"border-filled",onSelect:function(e){},buttonClassName:"slds-button_icon-small",options:[{label:"Merge Records",value:"A0"}]}))))},ra=function(e){var a=e.field,t=e.record;return s.a.createElement("tr",{className:"slds-hint-parent"},s.a.createElement(r.Fragment,null,s.a.createElement("td",null,s.a.createElement("div",{className:"slds-truncate",title:"Acme"},a)),s.a.createElement("td",{colSpan:"3"},s.a.createElement("div",{className:"slds-truncate",title:"Acme"},function(e,a){return a[e]}(a,t)))))},sa=function(e){var a=e.setIsOpen,t=e.tableFields,n=e.record;return s.a.createElement(ea.a,{iconPath:"/assets/icons"},s.a.createElement(se.a,{isOpen:!0,size:"medium",onRequestClose:function(){return a(!1)},hasNoHeader:!0},s.a.createElement("table",{"aria-multiselectable":"true",className:"slds-table slds-table_header-hidden slds-table_bordered slds-table_cell-buffer slds-no-row-hover slds-tree slds-table_tree",role:"grid"},s.a.createElement("thead",null,s.a.createElement("tr",{"aria-level":"1",className:"slds-hint-parent"},s.a.createElement("th",{role:"gridcell"},s.a.createElement("div",{className:"slds-truncate",title:"Acme"},"STANDARD FIELD NAMES")))),s.a.createElement("tbody",null,null!==n&&s.a.createElement(r.Fragment,null,t.map((function(e){return s.a.createElement(ra,{field:e,record:n})})))))))},la=function(){var e=ta(),a=e.tableFields,t=e.tableFieldsExpanded,o=e.rows,c=e.indexName,u=Object(r.useState)(!1),d=Object(n.a)(u,2),m=d[0],f=d[1],E=Object(r.useState)(null),v=Object(n.a)(E,2),b=v[0],g=v[1],p=function(e){g(e)};return Object(r.useEffect)((function(){null!==b&&f(!0)}),[b]),s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,{className:"slds-m-bottom_large",title:"All Potential Duplicate Records",variant:"object-home",trail:[s.a.createElement("a",{href:"javascript:void(0);"},"Dedup")]}),s.a.createElement(i.a,{style:{flexGrow:1},hasNoHeader:null===c,heading:"Index: ".concat(c)},o.length>0&&s.a.createElement(r.Fragment,null,s.a.createElement("table",{"aria-multiselectable":"true",className:"slds-table  slds-table_bordered slds-no-row-hover ",role:"grid"},s.a.createElement($e,{tableFields:a}),s.a.createElement("tbody",null,o.map((function(e){return s.a.createElement(r.Fragment,null,s.a.createElement(na,{keyName:e.key,tableFields:a}),e.records.map((function(e){return s.a.createElement(aa,{tableFields:a,row:e,onViewRecord:p})})))})))),!0===m&&s.a.createElement(sa,{isOpen:m,setIsOpen:f,tableFields:t,record:b}))))},ia=function(e){var a=Object(r.useContext)(e);if(void 0===a)throw new Error("useStateContext must be called inside provider");return a},oa=function(e){var a=Object(r.useContext)(e);if(void 0===a)throw new Error("useDispatchContext must be called inside a provider");return a},ca=("".concat("/grax-app/cloud-configuration","/validations"),function(e,a){switch(a.type){case"CONFIGURATION_LOAD_INITIAL_STATE":case"CONFIGURATION_RELOAD_STATE":return a.payload;default:throw new U}}),ua=function(){var e=Object(j.c)();return{goToSummary:function(){return e.push(C.p)},goToStartProvisioning:function(){return e.push(C.q)},goToBasicConfiguration:function(){return e.push(C.m)},goToAdvancedConfiguration:function(){return e.push(C.l)}}},da=function(e){return"string"===typeof e?{heading:[e]}:e},ma=function(e,a){var t=a.type,n=a.payload;switch(t){case"SPINNER_IS_RUNNING":return Object(T.a)({},e,{isLoading:!0});case"SPINNER_IS_STOPPED":return Object(T.a)({},e,{isLoading:!1});case"NOTIFICATION_IS_OPEN":return Object(T.a)({},e,{isOpen:!0});case"NOTIFICATION_IS_CLOSE":return Object(T.a)({},e,{isOpen:!1});case"NOTIFICATION_SUCCESS":return Object(T.a)({},e,{isOpen:!0,variant:"success",message:da(n.message)});case"NOTIFICATION_ERROR":return Object(T.a)({},e,{isOpen:!0,variant:"error",duration:n.duration,message:da(n.message)});default:throw new U}},fa={isLoading:!1,isOpen:!1,variant:"success",duration:2e3,message:{heading:[]}},Ea=Object(r.createContext)(),va=Object(r.createContext)(),ba=function(e){var a=e.children,t=Object(r.useReducer)(ma,fa),l=Object(n.a)(t,2),i=l[0],o=l[1];return s.a.createElement(Ea.Provider,{value:i},s.a.createElement(va.Provider,{value:o},a))},ga=function(){var e=[ia(Ea),oa(va)],a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,{successNotification:function(e){return r({type:"NOTIFICATION_SUCCESS",payload:{message:e}})},errorNotification:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return r({type:"NOTIFICATION_ERROR",payload:{message:e,duration:a}})},hideNotification:function(){return r({type:"NOTIFICATION_IS_CLOSE"})},spinnerIsRunning:function(){return r({type:"SPINNER_IS_RUNNING"})},spinnerIsStopped:function(){return r({type:"SPINNER_IS_STOPPED"})}}]},pa=function(e){var a=ga(),t=Object(n.a)(a,2)[1],s=t.spinnerIsRunning,l=t.spinnerIsStopped;Object(r.useEffect)((function(){return(!0===e?s:l)()}),[e])},ha=ga,Oa=t(7),ya=t(13),Na=t.n(ya),_a=function(e){return!0===Na.a.isPlainObject(e)?Object.entries(e).reduce((function(a,t){var r=Object(n.a)(t,2),s=r[0],l=r[1],i=Object(T.a)({},a);return""!==l&&void 0!==l&&null!==l&&(i[s]=e[s]),i}),{}):e},ja=function(e,a){if(!Na.a.isPlainObject(e)||!Na.a.isArray(a))return!1;for(var t in a)if(!Object.prototype.hasOwnProperty.call(e,a[t]))return!1;return!0},Ca=function(e){return!0===Na.a.isPlainObject(e)&&!0===Na.a.isPlainObject(e.environments)&&Object.keys(e.environments).length>0},Sa=function(e,a,t){var n=function(e,a,t){var n=[];return Array.isArray(e)&&(n=e.filter((function(e){return!!e&&(e.type&&Array.isArray(t)?-1!==t.indexOf(e.type):Array.isArray(a)&&-1!==a.indexOf(e.organizationId))}))),n}(e,a?[a]:a,t?[t]:t)[0];return null!==n&&t?Object(T.a)({},n,{type:t}):n||null},Aa=function(e,a){return Sa(e,a,"sourceDataSource")},Ia=Object(r.createContext)(),Ta=Object(r.createContext)(),Ra=function(){return[ia(Ia),oa(Ta)]},ka=function(e){var a=e.children,t=function(){var e=q({url:C.h}),a=Object(n.a)(e,1)[0],t=a.data,s=a.success,l=a.error,i=Object(r.useReducer)(ca,null),o=Object(n.a)(i,2),c=o[0],u=o[1],d=ha(),m=Object(n.a)(d,2)[1].errorNotification,f=ua(),E=f.goToSummary,v=f.goToStartProvisioning;return Object(r.useEffect)((function(){!0===s&&(Ca(t)?(u({type:"CONFIGURATION_LOAD_INITIAL_STATE",payload:t}),E()):v())}),[t,s]),Object(r.useEffect)((function(){!1===s&&m(function(e){return"No Configuration Found"===e?{heading:"Cannot find this SFDC Org ID in the configuration of the selected Heroku app.",details:"Please make sure the selected Heroku app does not already have a configuration tied to another SFDC Org.\n              Each Heroku app can only have a single SFDC source org configured, and this cannot be changed once configured."}:e}(l),null)}),[l,s]),[c,u]}(),l=Object(n.a)(t,2),i=l[0],o=l[1];return s.a.createElement(Ia.Provider,{value:i},s.a.createElement(Ta.Provider,{value:o},a))},wa=t(75),Da=t(269),za=t(277),xa=function(){var e=ha(),a=Object(n.a)(e,2),t=a[0],l=t.isOpen,i=t.isLoading,o=t.variant,c=t.message,u=void 0===c?{}:c,d=t.duration,m=a[1].hideNotification;return s.a.createElement(r.Fragment,null,i&&s.a.createElement(wa.a,{size:"large",variant:"brand"}),!0===l&&s.a.createElement(Da.a,null,s.a.createElement(za.a,{duration:d,labels:u,variant:o,onRequestClose:m})))},Ma=t(60),Pa=function(e){var a=e.routes;return s.a.createElement(ba,null,s.a.createElement(ka,null,s.a.createElement(xa,null),s.a.createElement(Ma.a,{routes:a})))},Ba=t(276),Fa=function(e){var a=e.text;return s.a.createElement(Ba.a,null,s.a.createElement("p",null,a))},Ua=function(){var e=Object(j.c)();return s.a.createElement(i.a,{hasNoHeader:!0},s.a.createElement("div",{className:"slds-text-longform slds-text-align_center"},s.a.createElement("h2",{className:"slds-text-heading_medium"},"Welcome to GRAX!"),s.a.createElement("p",{className:"slds-text-body_regular"},"Your Data Value Platform.")),s.a.createElement("footer",{className:"slds-card__footer"},s.a.createElement(Fa,{text:"Ensure you have valid Salesforce, Elasticsearch, and cloud storage credentials before beginning.\n        You will not be able to save your configuration without valid credentials for all three providers."}),s.a.createElement(u.a,{className:"slds-button slds-button_brand",label:"Start",onClick:function(){return e.push(C.m)}})))},La=t(270),Va=t(275),qa=function(){return s.a.createElement(La.a,null,s.a.createElement(Va.a,{labels:{heading:"To get more information on setting up GRAX,",headingLink:"Please click here"},onClickHeadingLink:function(){window.location=C.k},variant:"warning"}))},Ga=function(e,a){var t=a.payload;switch(a.type){case"ADVANCED_CONFIG_INITIAL_LOAD":case"ADVANCED_CONFIG_SET_VALUE":return Object(T.a)({},e,{},t);default:throw new U}},Ka=function(e,a){var t=a.type,n=a.payload;switch(t){case"QUICK_START_FORM_INITIAL_LOAD":return Object(T.a)({},e,Object(Oa.a)({name:n.name},e.provider,Object(T.a)({},e[e.provider],{provider:e.provider},n)));case"QUICK_START_FORM_SET_PROVIDER":return Object(T.a)({},e,Object(Oa.a)({provider:n.provider,name:e.name},n.provider,Object(T.a)({},e[n.provider],{name:e.name})));case"QUICK_START_FORM_SET_NAME":return Object(T.a)({},e,Object(Oa.a)({name:n.name},e.provider,Object(T.a)({},e[e.provider],{name:n.name})));case"BASIC_CONFIG_SET_VALUE":return Object(T.a)({},e,Object(Oa.a)({},e.provider,Object(T.a)({},e[e.provider],{name:e.name,provider:e.provider},n)));default:throw new U}},Ha=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ka;return function(i){var o=i.children,c=i.value,u=Object(r.useReducer)(l,t),d=Object(n.a)(u,2),m=d[0],f=d[1];return Object(r.useEffect)((function(){void 0!==c&&(c.provider&&f({type:"QUICK_START_FORM_SET_PROVIDER",payload:{provider:c.provider}}),f({type:"QUICK_START_FORM_INITIAL_LOAD",payload:c}))}),[c]),s.a.createElement(e.Provider,{value:m},s.a.createElement(a.Provider,{value:f},o))}},Wa=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ga;return function(i){var o=i.children,c=i.value,u=Object(r.useReducer)(l,t),d=Object(n.a)(u,2),m=d[0],f=d[1];return Object(r.useEffect)((function(){f({type:"ADVANCED_CONFIG_INITIAL_LOAD",payload:c})}),[c]),s.a.createElement(e.Provider,{value:m},s.a.createElement(a.Provider,{value:f},o))}},Ya=(Ze={name:"Default",provider:"bonsai"},Object(Oa.a)(Ze,"bonsai",{}),Object(Oa.a)(Ze,"aws",{}),Object(Oa.a)(Ze,"elasticIo",{}),Ze),Qa=Object(r.createContext)(),Za=Object(r.createContext)(),Ja=function(){return[ia(Qa),oa(Za)]},Xa=Ha(Qa,Za,Ya),$a=function(e,a){var t=a.type,n=a.payload,r=e;return"QUICK_START_FORM_INITIAL_LOAD"===t&&n.s3CompatibleEndpoint&&(r=Object(T.a)({},r,{provider:"aws-ecs"})),Ka(r,{type:t,payload:n})},et=(Je={provider:"aws"},Object(Oa.a)(Je,"aws",{}),Object(Oa.a)(Je,"aws-ecs",{}),Object(Oa.a)(Je,"azure",{}),Object(Oa.a)(Je,"google",{}),Object(Oa.a)(Je,"minio",{}),Je),at=Object(r.createContext)(),tt=Object(r.createContext)(),nt=function(){return[ia(at),oa(tt)]},rt=Ha(at,tt,et,$a),st=Object(r.createContext)(),lt=Object(r.createContext)(),it=function(){return[ia(st),oa(lt)]},ot=Wa(st,lt),ct=function(e){"function"===typeof e?window.addEventListener?window.addEventListener("message",e,!0):window.attachEvent&&window.attachEvent("message",e,!0):window.removeEventListener?window.removeEventListener("message",null):window.detachEvent&&window.detachEvent("message",null)},ut=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=["graxOAuthURL","organizationId","url","name","userName"];return!!ja(e,[t.shift()])&&!(!0===a&&!ja(e,t))},dt=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=["userName","password","url","organizationId","name"];return!ut(e)&&!!(!0!==a||ja(e,t)&&"salesforce"===e.provider)},mt=function(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Default";return Object(Oa.a)({},e,(a={name:t,provider:"salesforce"},Object(Oa.a)(a,"salesforce",{type:e}),Object(Oa.a)(a,"oauth",{type:e}),a))},ft=function(e,a){var t=a.type,r=a.payload,s=a.meta;switch(t){case"QUICK_START_FORM_INITIAL_LOAD":var l,i=r.dataSources,o=r.globals;return Object.entries((l={},Object(Oa.a)(l,"sourceDataSource",o.asyncAttachmentProcessorOrganizationIds),Object(Oa.a)(l,"syncSalesforceEinstein",o.syncSalesforceEinsteinOrganizationIds),Object(Oa.a)(l,"bulkRestoreDestination",null),l)).reduce((function(a,t){var r,s,l=a,o=Object(n.a)(t,2),c=o[0],u=o[1],d=Sa(i,u,c),m=dt(d)?"salesforce":"oauth";return s=d&&d.name?d.name:e[c].name,l[c]=Object(T.a)({},e[c],(r={},Object(Oa.a)(r,m,Object(T.a)({},d,{type:c})),Object(Oa.a)(r,"provider",m),Object(Oa.a)(r,"name",s),r)),l}),{});default:return Object(T.a)({},e,Object(Oa.a)({},s.variant,Object(T.a)({},Ka(e[s.variant],{type:t,payload:Object(T.a)({},r,{type:s.variant})}))))}},Et=Object(T.a)({},mt("sourceDataSource"),{},mt("syncSalesforceEinstein"),{},mt("bulkRestoreDestination")),vt=Object(r.createContext)(),bt=Object(r.createContext)(),gt=function(){return[ia(vt),oa(bt)]},pt=Ha(vt,bt,Et,ft),ht=function(e){var a=e.options,t=e.value,n=e.id,r=e.required,l=void 0===r||r,i=e.onClick,o=function(e){!1===l&&e===t?i(null):i(e,n)};return s.a.createElement(d.a,null,a.map((function(e){return s.a.createElement(u.a,{label:e.label,key:e.label,onClick:function(){return o(e.value)},variant:e.value===t?"brand":"neutral",disabled:e.disabled})})))};ht.defaultProps={required:!0,id:null};var Ot,yt=ht,Nt=t(31),_t=t(51),jt=function(e){var a=e.value,t=e.type,l=void 0===t?"text":t,i=e.helpText,o=e.disabled,c=void 0!==o&&o,u=e.onBlur,d=e.secured,m=e.blocked,E=Object(f.a)(e,["value","type","helpText","disabled","onBlur","secured","blocked"]),v=Object(r.useState)(a),b=Object(n.a)(v,2),g=b[0],p=b[1],h=Object(r.useState)(d?"password":l),O=Object(n.a)(h,2),y=O[0],N=O[1],_=Object(r.useState)(!!m||c),j=Object(n.a)(_,2),C=j[0],S=j[1];return Object(r.useEffect)((function(){return p(a)}),[a]),s.a.createElement(ue.a,Object.assign({value:g,type:y,disabled:C,onBlur:function(e){!0===m&&S(!0),void 0!==u&&u(e)},onChange:function(e){return p(e.target.value)}},!0===d?function(e,a){return{iconRight:s.a.createElement(Nt.a,{name:"password"===e?"preview":"hide",category:"utility",onClick:a})}}(y,(function(){return N("password"===y?l:"password")})):{},!0===m?function(e,a){return{iconRight:s.a.createElement(Nt.a,{name:!0===e?"edit":"error",category:"utility",onClick:a})}}(C,(function(){return S(!C)})):{},void 0!==i?function(e){return{fieldLevelHelpTooltip:s.a.createElement(_t.a,{id:"field-level-help-tooltip",align:"top left",content:e})}}(i):{},E))},Ct=t(10),St=(Ot={},Object(Oa.a)(Ot,"elastic","Elastic"),Object(Oa.a)(Ot,"storage","cloud storage"),Object(Oa.a)(Ot,"sourceDataSource","Salesforce"),Object(Oa.a)(Ot,"syncSalesforceEinstein","Einstein Salesforce Destination"),Object(Oa.a)(Ot,"bulkRestoreDestination","Bulk Restore Salesforce Destination"),Ot),At={successful:{label:"success",category:"utility",colorVariant:"default",name:"success"},failed:{label:"failure",category:"utility",colorVariant:"error",name:"error"}},It=function(e,a,t){var s=Object(r.useState)(a),l=Object(n.a)(s,2),i=l[0],o=l[1];if(Object(r.useEffect)((function(){return o(a)}),[a]),""!==i){var c=St[e];return{iconSettings:At["invalidOrganizationId"===i?"failed":i],message:t||{successful:"".concat(c," credentials validated"),failed:"Invalid ".concat(c," credentials"),invalidOrganizationId:"You cannot enter SFDC credentials for a SFDC org different than the org you are currently in"}[i]}}return{}},Tt=function(e){return s.a.createElement(Ct.a,{assistiveText:{label:e.label},category:e.category,colorVariant:e.colorVariant,name:e.name,size:"x-small"})},Rt=function(e){var a=e.variant,t=e.status,n=e.customMessage,r=It(a,t,n),l=r.iconSettings,i=r.message;return s.a.createElement(s.a.Fragment,null,void 0!==l&&void 0!==i&&s.a.createElement("div",{className:"slds-grid slds-row slds-grid_align-center slds-m-bottom_x-small "},s.a.createElement(Ba.a,{icon:Tt(l),theme:"light"},s.a.createElement("p",null,i))))},kt=function(e){var a=Object(r.useState)(!0),t=Object(n.a)(a,2),s=t[0],l=t[1];return Object(r.useEffect)((function(){l(!0);var e=setTimeout((function(){return l(!1)}),3e3);return function(){return clearTimeout(e)}}),[e]),s},wt=function(){var e=q(),a=Object(n.a)(e,2),t=a[0],s=t.isLoading,l=t.data,i=t.error,o=t.success,c=a[1],u=Object(r.useState)({status:""}),d=Object(n.a)(u,2),m=d[0],f=d[1],E=Object(r.useState)(null),v=Object(n.a)(E,2),b=v[0],g=v[1];return pa(s),Object(r.useEffect)((function(){if(null!==b){var e=Object(T.a)({},b);"aws-ecs"===e.credentials.provider&&(e.credentials.provider="aws"),c({url:C.i,method:"POST",data:e})}}),[b]),Object(r.useEffect)((function(){if(!0===o){if("sourceDataSource"===b.variant)if({sfdcorgid:"00D6g000006wAo3EAE",authorization:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",gatewayToken:"sVbY7Gsq6y2qsxyLtfLUTuc7pPl2tmy2PQdyEbbf",apiToken:"a6723bfceb46a850f0ebcd4c3383acc35cab15e50365271ac453a91f36f054a2"}.sfdcorgid!==l.userInfo.organizationId)return void f(Object(T.a)({},l,{status:"invalidOrganizationId"}));f(l)}}),[l,o]),Object(r.useEffect)((function(){!1===o&&f(i)}),[i,o]),[m,g]},Dt="".concat("https://login.salesforce.com"," for Production | ").concat("https://test.salesforce.com"," for Sandbox"),zt=function(e){var a=e.url,t=e.onBlur,n=e.inputRef;return s.a.createElement(jt,{label:"SFDC URL",helpText:Dt,inputRef:n,type:"url",required:!0,value:a,id:"url",onBlur:t,onInvalid:function(e){e.target.setCustomValidity("Invalid URL. ".concat(Dt))},onInput:function(e){e.target.setCustomValidity("")}})},xt=function(e){var a=e.variant,t=e.name,l=e.userName,i=e.password,o=e.token,c=e.url,d=e.organizationId,m=e.onBlur,f=e.onValidated,E=wt(),v=Object(n.a)(E,2),b=v[0],g=v[1];Object(r.useEffect)((function(){return f(b)}),[b]);return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"SFDC Username",required:!0,value:l,id:"userName",onBlur:m})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"SFDC Password",required:!0,secured:!0,value:i,id:"password",onBlur:m})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"SFDC Security Token",required:!0,secured:!0,value:o,id:"token",onBlur:m}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(zt,{url:c,onBlur:m})),d&&s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{readOnly:!0,label:"SFDC Organization ID (18 Digit)",value:d,id:"organizationId",onBlur:m}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(u.a,{label:"Validate SFDC Connection",onClick:function(){return g({variant:a,type:"salesforce",credentials:{provider:"salesforce",userName:l,password:i,token:o,url:c,name:t,organizationId:d}})}}))))},Mt={sfdcorgid:"00D6g000006wAo3EAE",authorization:"c1ZiWTdHc3E2eTJxc3h5THRmTFVUdWM3cFBsMnRteTJQUWR5RWJiZjphNjcyM2JmY2ViNDZhODUwZjBlYmNkNGMzMzgzYWNjMzVjYWIxNWU1MDM2NTI3MWFjNDUzYTkxZjM2ZjA1NGEy",gatewayToken:"sVbY7Gsq6y2qsxyLtfLUTuc7pPl2tmy2PQdyEbbf",apiToken:"a6723bfceb46a850f0ebcd4c3383acc35cab15e50365271ac453a91f36f054a2"},Pt=null,Bt=null,Ft=function(e){var a;!Pt||Pt.closed||Bt!==e?(Pt=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:912,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:513,n=screen.width/2-a/2,r=screen.height/2-t/2,s="width=".concat(a,",height=").concat(t),l="top=".concat(r,",left=").concat(n),i="location=yes,toolbar=no,status=no,menubar=no, ".concat(s,", ").concat(l);return window.open(e,null,i)}((a=e,"".concat(w,"?gateway-token=").concat(Mt.gatewayToken,"&api-token=").concat(Mt.apiToken,"&loginurl=").concat(a))),Bt=e):Pt.focus()},Ut=function(e){var a=e.label,t=e.loginurl,n=e.urlRef;return s.a.createElement(u.a,{label:a,variant:"outline-brand",onClick:function(){n&&n.reportValidity()&&Ft(t)}})},Lt=function(e,a){if(void 0===e)throw new Error("Action Name is required");if(void 0===a)throw new Error("Dispatch is required");return function(t,n,r){if(void 0===t)throw new Error("Property name is required");a({meta:r,type:e,payload:Object(Oa.a)({},t,n)})}},Vt=function(e,a){var t=Lt(e,a);return function(e){var a=e.target,n=a.type,r=a.id,s=a.valueAsNumber,l=a.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.meta,c=void 0===o?{}:o,u=i.valueCasting,d=void 0===u||u;if(void 0===r)throw new Error("Id is required");var m="number"===n&&!0===d?s:l;t(r,m,c)}},qt=function(e,a){var t=Lt(e,a);return function(e,a){if(void 0===e)throw new Error("Name is required");t(e,1===a.length?a[0].value:null)}},Gt=function(e,a){var t=Lt(e,a);return function(e,a){var n=e.target.id,r=a.checked;if(void 0===n)throw new Error("Id is required");t(n,r)}},Kt=function(e,a){var t=Lt(e,a);return function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===a)throw new Error("Id is required");t(a,e,n)}},Ht=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BASIC_CONFIG_SET_VALUE",n=Vt(t,a);return function(a){return n(a,{meta:{variant:e}})}},Wt=null,Yt=function(e){var a=e.dataSource,t=e.variant,l=e.dispatch,i=e.onValidated,o=Lt("BASIC_CONFIG_SET_VALUE",l),c=Ht(t,l),d=q(),m=Object(n.a)(d,2),f=m[0],E=f.isLoading,v=f.error,b=f.data,g=f.success,p=m[1];pa(E);var h=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(!0===a?{status:"successful",customMessage:e}:{status:"failed",customMessage:"Invalid OAuth credentials: ".concat(e)})};return Object(r.useEffect)((function(){!0===g&&b&&b.access_token?h("OAuth credentials validated",!0):(!1===g||v)&&h(v.error_description||"error description is missing")}),[b,v,g]),Object(r.useEffect)((function(){return ct((function(e){if(e.data&&e.data.error){if("access_denied"===e.data.error)return;h(e.data.error_description||"error description is missing")}else if(e.data&&"success"===e.data.status){var a=new URL(w).origin;e.origin!==a&&h("Cross Origin authentication is not supported: ".concat(e.origin)),h("Successful OAuth authentication",!0),o("graxOAuthURL",D,{variant:t}),o("organizationId",e.data.org_id,{variant:t}),o("userName",e.data.user_name,{variant:t})}})),function(){return ct()}}),[]),s.a.createElement(s.a.Fragment,null,!0===ut(a)?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(zt,{url:a.url,onBlur:c,inputRef:function(e){Wt=e}})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{readOnly:!0,label:"SFDC Username",value:a.userName,id:"userName",onBlur:function(){}})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{readOnly:!0,label:"SFDC Organization ID (18 Digit)",value:a.organizationId,id:"organizationId",onBlur:function(){}}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"})),s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(u.a,{label:"Validate OAuth authentication",onClick:function(){return p((e=a.organizationId,{url:"".concat(D,"?sfdcorgid=").concat(e)}));var e}}),s.a.createElement(Ut,{label:"Change authentication",loginurl:a.url,urlRef:Wt})))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(zt,{url:a.url,onBlur:c,inputRef:function(e){Wt=e}}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(Ut,{label:"Authenticate using OAuth",loginurl:a.url,urlRef:Wt})))))},Qt=function(e){if(void 0===e.provider)throw new Error("No Provider Tab Selected");return e[e.provider]},Zt=[{label:"Username / Password",value:"salesforce"},{label:"OAuth",value:"oauth",disabled:!1}],Jt=function(e){var a=e.variant,t=e.showConnectionName,l=void 0!==t&&t,i=Object(r.useState)(""),o=Object(n.a)(i,2),c=o[0],u=o[1],d=gt(),m=Object(n.a)(d,2),f=m[0],E=m[1],v=kt(c),b=Ht(a,E),g=Ht(a,E,"QUICK_START_FORM_SET_NAME"),p=Kt("QUICK_START_FORM_SET_PROVIDER",E),h=f[a],O=h.provider,y=Qt(h);return s.a.createElement(s.a.Fragment,null,"sourceDataSource"===a&&s.a.createElement(Fa,{text:"Please enter credentials for the integration user the GRAX app will use to log in. In order\n        to prevent crossing your wires, the credentials entered here must be for this current SFDC\n        org you are in."}),!0===v&&s.a.createElement(Rt,{variant:a,status:c.status,customMessage:c.customMessage}),!0===l&&s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-bottom_small"},s.a.createElement("div",{className:"slds-col slds-size_2-of-3"},s.a.createElement(jt,{label:"Connection Name",required:!0,value:y.name,id:"name",helpText:'Please name your Salesforce connection e.g. "Dev Sandbox\u201c',onBlur:g}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_2-of-3"},s.a.createElement(yt,{options:Zt,value:O,id:"provider",onClick:function(e,t){return p(e,t,{variant:a})}}))),"salesforce"===O?s.a.createElement(xt,{variant:a,userName:y.userName,password:y.password,token:y.token,url:y.url,name:y.name,organizationId:y.organizationId,onBlur:b,onValidated:u}):s.a.createElement(Yt,{dataSource:y,variant:a,dispatch:E,onValidated:u}))},Xt=function(){return s.a.createElement(J.a,{title:"Salesforce Connection",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},s.a.createElement(Jt,{showConnectionName:!0,variant:"sourceDataSource"}))},$t=function(e){var a=e.url,t=e.gatewayPath,n=e.onBlur;return s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Bonsai URL",required:!0,value:a,id:"url",onBlur:n})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Gateway path",value:t,id:"gatewayPath",onBlur:n})))},en=t(42),an=function(e){Object(P.a)(t,e);var a=Object(B.a)(t);function t(e){var n;return Object(M.a)(this,t),(n=a.call(this,e)).state={inputValue:"",selection:[]},n}return Object(en.a)(t,[{key:"componentDidMount",value:function(){this.setState({selection:this.props.selection})}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({selection:this.props.selection})}},{key:"render",value:function(){var e=this;return s.a.createElement(be.a,{events:{onChange:function(a,t){var n=t.value;e.props.onSelect(a,n),e.setState({inputValue:n})},onRequestRemoveSelectedOption:function(a,t){e.setState({inputValue:"",selection:[]}),e.props.onSelect(a,t.selection)},onSubmit:function(a,t){var n=t.value;e.props.onSelect(a,n),e.setState({inputValue:"",selection:[].concat(Object(ve.a)(e.state.selection),[{label:n,icon:s.a.createElement(Ct.a,{assistiveText:{label:"Account"},category:"standard",name:"account"})}])})},onSelect:function(a,t){var n;(n=e.props).onSelect.apply(n,[a].concat(Object(ve.a)(Object.keys(t).map((function(e){return t[e]}))))),e.setState({inputValue:"",selection:t.selection})}},labels:this.props.labels,options:Object(ge.a)({inputValue:this.state.inputValue,options:this.props.options,selection:this.state.selection||[],limit:1e3}),selection:this.state.selection,value:this.state.selectedOption?this.state.selectedOption.label:this.state.inputValue,variant:"inline-listbox",required:!0,menuItemVisibleLength:5})}}]),t}(s.a.Component);an.displayName="SCombobox";var tn,nn=an,rn=(tn={},Object(Oa.a)(tn,"us-east-2","US East (Ohio)"),Object(Oa.a)(tn,"us-east-1","US East (N. Virginia)"),Object(Oa.a)(tn,"us-west-1","US West (N. California)"),Object(Oa.a)(tn,"us-west-2","US West (Oregon)"),Object(Oa.a)(tn,"ap-east-1","Asia Pacific (Hong Kong)"),Object(Oa.a)(tn,"ap-south-1","Asia Pacific (Mumbai)"),Object(Oa.a)(tn,"ap-northeast-3","Asia Pacific (Osaka-Local)"),Object(Oa.a)(tn,"ap-northeast-2","Asia Pacific (Seoul)"),Object(Oa.a)(tn,"ap-southeast-1","Asia Pacific (Singapore)"),Object(Oa.a)(tn,"ap-southeast-2","Asia Pacific (Sydney)"),Object(Oa.a)(tn,"ap-northeast-1","Asia Pacific (Tokyo)"),Object(Oa.a)(tn,"ca-central-1","Canada (Central)"),Object(Oa.a)(tn,"eu-central-1","Europe (Frankfurt)"),Object(Oa.a)(tn,"eu-west-1","Europe (Ireland)"),Object(Oa.a)(tn,"eu-west-2","Europe (London)"),Object(Oa.a)(tn,"eu-west-3","Europe (Paris)"),Object(Oa.a)(tn,"eu-north-1","Europe (Stockholm)"),Object(Oa.a)(tn,"me-south-1","Middle East (Bahrain)"),Object(Oa.a)(tn,"sa-east-1","South America (S\xe3o Paulo)"),tn),sn=Object.entries(rn).map((function(e,a){var t=Object(n.a)(e,2),r=t[0];return{label:t[1],value:r,subTitle:r,id:a.toString()}})),ln=function(){return[sn,function(e){var a=sn.find((function(a){return a.value===e}));if(void 0!==a)return[a]}]},on=function(e){var a=e.label,t=e.value,r=e.id,l=e.onChange,i=ln(),o=Object(n.a)(i,2),c=o[0],u=o[1];return s.a.createElement(nn,{value:t,options:c,id:r,selection:u(t),onSelect:function(e,a){return l(a)},required:!0,labels:{label:a,placeholder:"Select Option"}})},cn=function(e){var a=e.url,t=e.accessKey,n=e.secretAccessKey,r=e.region,l=e.onBlur,i=e.handleCombobox;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Endpoint Name",required:!0,value:a,id:"url",onBlur:l})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Access Key ID",required:!0,secured:!0,value:t,id:"accessKey",onBlur:l}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Secret Access Key",required:!0,secured:!0,value:n,id:"secretAccessKey",onBlur:l})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(on,{value:r,label:"S3 Region",onChange:function(e){return i("region",e)}}))))};cn.defaultProps={url:"",accessKey:"",secretAccessKey:"",region:""};var un=cn,dn=function(e){var a=e.user,t=e.password,n=e.url,l=e.port,i=e.onBlur;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Elastic Username",required:!0,value:a,id:"user",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Elastic Password",required:!0,secured:!0,value:t,id:"password",onBlur:i}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Elastic URL",required:!0,value:n,id:"url",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{type:"number",label:"Elastic Port",required:!0,value:l,id:"port",onBlur:i}))))};dn.defaultProps={user:"",password:"",url:"",port:void 0};var mn=dn,fn=function(e){var a=Vt("BASIC_CONFIG_SET_VALUE",e.dispatch),t=qt("BASIC_CONFIG_SET_VALUE",e.dispatch);switch(e.selectedTab){case"bonsai":return s.a.createElement($t,{url:e.url,gatewayPath:e.gatewayPath,onBlur:a});case"aws":return s.a.createElement(un,{url:e.url,accessKey:e.accessKey,secretAccessKey:e.secretAccessKey,region:e.region,bucket:e.bucket,onBlur:a,handleCombobox:t});case"elasticIo":return s.a.createElement(mn,{user:e.user,password:e.password,url:e.url,port:e.port,onBlur:a});default:return null}},En=[{label:"Bonsai Elasticsearch",value:"bonsai"},{label:"AWS Elasticsearch",value:"aws"},{label:"Elastic.co",value:"elasticIo"}],vn=function(){var e=Ja(),a=Object(n.a)(e,2),t=a[0],r=a[1],s=Vt("QUICK_START_FORM_SET_NAME",r),l=Kt("QUICK_START_FORM_SET_PROVIDER",r),i=t.name,o=t.provider;return[{name:i,selectedTab:o,provider:t[o],options:En},{onBlur:s,handleButtonGroup:l,dispatch:r}]},bn=function(){var e=wt(),a=Object(n.a)(e,2),t=a[0],l=a[1],i=kt(t),o=vn(),c=Object(n.a)(o,2),d=c[0],m=d.selectedTab,f=d.name,E=d.provider,v=d.options,b=c[1],g=b.handleButtonGroup,p=b.onBlur,h=b.dispatch;return s.a.createElement(r.Fragment,null,s.a.createElement(J.a,{title:"Elasticsearch Provider",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},!0===i&&s.a.createElement(Rt,{variant:"elastic",status:t.status}),s.a.createElement("div",{className:"slds-grid slds-gutters_small  slds-m-bottom_small"},s.a.createElement("div",{className:"slds-col slds-size_2-of-3"},s.a.createElement(jt,{label:"Name",required:!0,value:f,id:"name",onBlur:p}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_2-of-3"},s.a.createElement(yt,{options:v,value:m,id:"provider",onClick:g}))),s.a.createElement(fn,Object.assign({selectedTab:m},E,{dispatch:h})),s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(u.a,{label:"Validate Elastic Connection",onClick:function(){return l({type:"elastic",credentials:E})}})))))},gn=function(e){var a=e.s3CompatibleEndpoint,t=e.bucket,n=e.accessKeyName,r=e.secretAccessKey,l=e.region,i=e.onBlur,o=e.handleCombobox;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Endpoint",required:!0,value:a,id:"s3CompatibleEndpoint",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"S3 Bucket Name",required:!0,value:t,id:"bucket",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(on,{label:"S3 Region",value:l,onChange:function(e){return o("region",e)}}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Access Key ID",required:!0,secured:!0,value:n,id:"accessKey",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Secret Access Key",required:!0,secured:!0,value:r,id:"secretAccessKey",onBlur:i}))))};gn.defaultProps={s3CompatibleEndpoint:"",bucket:"",accessKeyName:"",secretAccessKey:"",region:""};var pn=gn,hn=function(e){var a=e.label,t=e.helpText;return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"slds-form-element__label"},a),null!==t&&s.a.createElement(_t.a,{content:t,align:"top left",variant:"learnMore",dialogClassName:"dialog-classname"}))},On=function(e){var a=e.isADestructiveAction,t=void 0!==a&&a,l=Object(r.useRef)(!1),i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1];return Object(r.useEffect)((function(){!1===l.current?l.current=!0:!1===t&&d(!0)}),[t]),s.a.createElement(se.a,{noHeader:!0,footer:[s.a.createElement(u.a,{key:"promptBtn",label:"Ok",onClick:function(){return d(!1)}})],isOpen:c,onRequestClose:function(){return d(!1)},prompt:"error",size:"small",title:"Confirmation Needed"},s.a.createElement("div",{className:"slds-m-around_medium"},"Once you save the configuration, you will lose the information for this feature you just disabled, and will need to re-enter the next time you enable the feature"))},yn=function(e){var a=e.id,t=e.label,l=e.checked,i=e.onToggle,o=e.helpText,c=void 0===o?null:o,u=e.isDestructive,d=void 0!==u&&u,m=Object(r.useState)(!1),f=Object(n.a)(m,2),E=f[0],v=f[1];return Object(r.useEffect)((function(){return v(l)}),[l]),s.a.createElement(s.a.Fragment,null,s.a.createElement(hn,{label:t,helpText:c}),s.a.createElement("div",{className:"slds-form-element__control"},s.a.createElement("div",{style:{width:0}},s.a.createElement(de.a,{variant:"toggle",id:a,checked:E,onChange:i}))),d&&s.a.createElement(On,{isADestructiveAction:E}))},Nn=function(e){var a=e.s3AssumeRoleArn,t=e.s3AssumeRoleExternalId,n=e.onBlur;return s.a.createElement(r.Fragment,null,s.a.createElement("h3",{className:"slds-section__title"},s.a.createElement("span",{className:"slds-truncate",title:"Cloud Storage Provider"},"Assume Role Options")),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Assume Role / ARN Name",required:!0,value:a,id:"s3AssumeRoleArn",onBlur:n})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Assume Role External ID",value:t,id:"s3AssumeRoleExternalId",onBlur:n}))))},_n=function(e){var a=e.heading;return s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_x-small"},s.a.createElement("div",{className:"slds-col slds-size_3-of-3"},s.a.createElement("h3",{className:"slds-section__title"},s.a.createElement("span",{className:"slds-truncate",title:"Cloud Storage Provider"},a))))},jn=[{label:"AES256",value:"AES256"},{label:"AWS KMS",value:"aws:kms"},{label:"No Encryption",value:""}],Cn=function(e){var a=e.serverSideEncryption,t=void 0===a?"AES256":a,n=e.serverSideEncryptionKmsKey,l=e.onBlur,i=e.handleButtonGroup;return s.a.createElement(r.Fragment,null,s.a.createElement(_n,{heading:"Server-Side Encryption"}),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement("span",{className:"slds-form-element__label"},"\xa0"),s.a.createElement("div",{className:"slds-form-element__control"},s.a.createElement(yt,{options:jn,value:t,id:"serverSideEncryption",onClick:i}))),"aws:kms"===t&&s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"S3 KMS ID",value:n,id:"serverSideEncryptionKmsKey",onBlur:l}))))},Sn=function(e){var a=e.accessKeyName,t=e.secretAccessKey,n=e.bucket,r=e.region,l=e.s3AssumeRoleEnabled,i=e.s3AssumeRoleArn,o=e.s3AssumeRoleRefreshCredsInHour,c=e.s3AssumeRoleExternalId,u=e.serverSideEncryptionKmsKey,d=e.serverSideEncryption,m=e.onBlur,f=e.handleButtonGroup,E=e.handleCheckbox,v=e.handleCombobox;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"S3 Bucket Name",required:!0,value:n,id:"bucket",onBlur:m})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(on,{label:"S3 Region",value:r,id:"region",onChange:function(e){return v("region",e)}})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Access Key ID",required:!0,secured:!0,value:a,id:"accessKey",onBlur:m}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Secret Access Key",required:!0,secured:!0,value:t,id:"secretAccessKey",onBlur:m})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yn,{label:"Assume Role Enabled",checked:l,id:"s3AssumeRoleEnabled",variant:"toggle",isDestructive:!0,onToggle:E}))),!0===l&&s.a.createElement(Nn,{s3AssumeRoleArn:i,s3AssumeRoleRefreshCredsInHour:o,s3AssumeRoleExternalId:c,onBlur:m}),s.a.createElement(Cn,{serverSideEncryptionKmsKey:u,serverSideEncryption:d,onBlur:m,handleButtonGroup:f}))};Sn.defaultProps={accessKeyName:"",secretAccessKey:"",bucket:"",region:"",s3AssumeRoleArn:"",s3AssumeRoleExternalId:"",s3AssumeRoleRefreshCredsInHour:12,serverSideEncryptionKmsKey:"",serverSideEncryption:""};var An=Sn,In=function(e){var a=e.storageAccountName,t=e.containerName,n=e.accountAccessKey,r=e.onBlur;return s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Azure Storage Account Name",required:!0,value:a,id:"storageAccountName",onBlur:r})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Azure Container Name",required:!0,value:t,id:"containerName",onBlur:r})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Storage Account Access Key",required:!0,secured:!0,value:n,id:"accountAccessKey",onBlur:r})))},Tn=function(e){var a=e.googleProjectId,t=e.googleBucketName,n=e.googlePrivateKey,l=e.googleClientEmail,i=e.onBlur;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Google Project Id",required:!0,value:a,id:"googleProjectId",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Google Bucket Name",required:!0,value:t,id:"googleBucketName",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Google Private Key",secured:!0,required:!0,value:n,id:"googlePrivateKey",onBlur:i}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Google Client Email",value:l,id:"googleClientEmail",onBlur:i}))))};Tn.defaultProps={googleProjectId:"",googleBucketName:"",googlePrivateKey:"",googleClientEmail:""};var Rn=Tn,kn=function(){return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(ue.a,{label:"Minio Endpoint"})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(ue.a,{label:"Minio Port"})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(ue.a,{label:"Minio Access Key"}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(ue.a,{label:"Minio Secret Key"})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(ue.a,{label:"Minio Bucket Name"}))))},wn=function(e){var a=e.dispatch,t=Vt("BASIC_CONFIG_SET_VALUE",a),n=qt("BASIC_CONFIG_SET_VALUE",a),r=Gt("BASIC_CONFIG_SET_VALUE",a),l=Kt("BASIC_CONFIG_SET_VALUE",a);switch(e.selectedTab){case"aws":return s.a.createElement(An,{provider:e.provider,name:e.name,accessKeyName:e.accessKey,secretAccessKey:e.secretAccessKey,bucket:e.bucket,region:e.region,s3AssumeRoleEnabled:e.s3AssumeRoleEnabled,s3AssumeRoleArn:e.s3AssumeRoleArn,s3AssumeRoleExternalId:e.s3AssumeRoleExternalId,s3AssumeRoleRefreshCredsInHour:e.s3AssumeRoleRefreshCredsInHour,serverSideEncryptionKmsKey:e.serverSideEncryptionKmsKey,serverSideEncryption:e.serverSideEncryption,onBlur:t,handleButtonGroup:l,handleCheckbox:r,handleCombobox:n});case"aws-ecs":return s.a.createElement(pn,{s3CompatibleEndpoint:e.s3CompatibleEndpoint,bucket:e.bucket,region:e.region,accessKeyName:e.accessKey,secretAccessKey:e.secretAccessKey,onBlur:t,handleCheckbox:r,handleCombobox:n});case"azure":return s.a.createElement(In,{storageAccountName:e.storageAccountName,containerName:e.containerName,accountAccessKey:e.accountAccessKey,onBlur:t});case"google":return s.a.createElement(Rn,{googleProjectId:e.googleProjectId,googleBucketName:e.googleBucketName,googlePrivateKeyId:e.googlePrivateKeyId,googlePrivateKey:e.googlePrivateKey,googleClientEmail:e.googleClientEmail,onBlur:t});case"minio":return s.a.createElement(kn,null);default:return null}};wn.defaultProps={selectedTab:"",provider:"",name:"",accessKey:"",secretAccessKey:"",bucket:"",region:"",s3AssumeRoleArn:"",s3AssumeRoleRefreshCredsInHour:"",s3AssumeRoleExternalId:"",serverSideEncryptionKmsKey:"",serverSideEncryption:"",s3CompatibleEndpoint:"",storageAccountName:"",containerName:"",accountAccessKey:"",googleProjectId:"",googleBucketName:"",googlePrivateKeyId:"",googlePrivateKey:"",googleClientEmail:""};var Dn=wn,zn=[{label:"AWS S3 Storage",value:"aws"},{label:"S3 Compatible",value:"aws-ecs"},{label:"Azure BLOB",value:"azure"},{label:"Google Cloud Platform",value:"google"}],xn=function(){var e=nt(),a=Object(n.a)(e,2),t=a[0],s=a[1],l=Kt("QUICK_START_FORM_SET_PROVIDER",s),i=Qt(t),o=t.provider;return Object(r.useEffect)((function(){}),[]),[{selectedTab:o,provider:i,options:zn},{handleButtonGroup:l,dispatch:s}]},Mn=function(){var e=wt(),a=Object(n.a)(e,2),t=a[0],r=a[1],l=kt(t),i=xn(),o=Object(n.a)(i,2),c=o[0],d=c.selectedTab,m=c.provider,f=c.options,E=o[1],v=E.handleButtonGroup,b=E.dispatch;return s.a.createElement(J.a,{title:"Cloud Storage Provider",className:"slds-m-bottom_medium slds-m-top_none",nonCollapsible:!0},!0===l&&s.a.createElement(Rt,{variant:"storage",status:t.status}),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_2-of-3"},s.a.createElement(yt,{options:f,value:d,id:"provider",onClick:v}))),s.a.createElement(Dn,Object.assign({selectedTab:d},m,{dispatch:b})),s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(u.a,{label:"Validate Storage Connection",onClick:function(){r({type:"storage",credentials:m})}}))))},Pn={environments:Object(Oa.a)({},"Heroku Provided Configuration",{dataSources:[],elastic:[],storage:[],metadataBackup:[],syncAnalytics:[],timeMachine:[{}],pushToQueue:[{}],oauth:[{}],variables:{}}),globalEnvironmentDefaults:{asyncAttachmentProcessorOrganizationIds:[],asyncBulkLoadOrganizationIds:[],asyncQueueOrganizationIds:[],syncSalesforceEinsteinOrganizationIds:[],syncSalesforceSourceOrganizationIds:[],metadataBackupOrganizationIds:[],odataOrganizationIds:[]}},Bn=function(){function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(M.a)(this,e),this.configuration=this.initializeConfiguration(a)}return Object(en.a)(e,[{key:"initializeConfiguration",value:function(e){var a=Object(T.a)({},e);return a.environments&&0!==Object.keys(a.environments).length||(a=Object(T.a)({},a,{environments:Pn.environments})),a.globalEnvironmentDefaults||(a=Object(T.a)({},a,{globalEnvironmentDefaults:Pn.globalEnvironmentDefaults})),Na.a.merge({},a)}},{key:"_findDataSourceByOrgId",value:function(e){var a=this.environment.dataSources.filter((function(a){return a.organizationId===e}));return 0===a.length?null:a[0]}},{key:"_removeOrgIdFromGlobals",value:function(e,a){var t=this;a.forEach((function(a){if(a.endsWith("Ids")){var n=t.globals[a].indexOf(e);-1!==n&&t.globals[a].splice(n,1)}else a.endsWith("Id")&&t.globals[a]===e&&delete t.globals[a]}))}},{key:"environment",get:function(){var e=Object.keys(this.configuration.environments)[0];return this.configuration.environments[e]}},{key:"globals",get:function(){return this.configuration.globalEnvironmentDefaults}},{key:"sessionCacheTimeoutMinutes",get:function(){return this.globals.sessionCacheTimeoutMinutes},set:function(e){this.globals.sessionCacheTimeoutMinutes=e}},{key:"asyncIntervalMinutes",get:function(){return this.globals.asyncIntervalMinutes},set:function(e){this.globals.asyncIntervalMinutes=e}},{key:"bulkRestoreDestinationDataSource",get:function(){return this._findDataSourceByOrgId(this.globals.bulkRestoreDestinationOrganizationId)}},{key:"dataSources",get:function(){return this.environment.dataSources},set:function(e){this.environment.dataSources=e}},{key:"elastic",get:function(){return this.environment.elastic[0]},set:function(e){this.environment.elastic=[e]}},{key:"metadataBackup",get:function(){return this.environment.metadataBackup[0]},set:function(e){this.environment.metadataBackup=e}},{key:"pushToQueue",get:function(){return this.environment.pushToQueue[0]},set:function(e){this.environment.pushToQueue=e}},{key:"sourceDataSource",get:function(){return this._findDataSourceByOrgId(this.globals.asyncAttachmentProcessorOrganizationIds[0])}},{key:"syncSalesforceEinsteinOrganizationId",get:function(){return(this.globals.syncSalesforceEinsteinOrganizationIds||[])[0]}},{key:"syncSalesforceEinsteinDataSources",get:function(){var e=this;return(this.globals.syncSalesforceEinsteinOrganizationIds||[]).map((function(a){return e._findDataSourceByOrgId(a)}))[0]||null}},{key:"storage",get:function(){return this.environment.storage[0]},set:function(e){this.environment.storage=[e]}},{key:"oauth",get:function(){return this.environment.oauth[0]},set:function(e){!0===e.enableOAuth?this.environment.oauth=[e]:this.environment.oauth=[{}]}},{key:"syncAnalytics",get:function(){return this.environment.syncAnalytics[0]},set:function(e){var a=e.isEinsteinAnalyticsEnabled,t=e.isMarketingCloudEnabled,n=Object(f.a)(e,["isEinsteinAnalyticsEnabled","isMarketingCloudEnabled"]),r=Object(T.a)({},n);if(void 0===a||!1===a){n.syncEinsteinAnalyticsDatasetName,n.syncSalesforceObjects;var s=Object(f.a)(n,["syncEinsteinAnalyticsDatasetName","syncSalesforceObjects"]),l=this.syncSalesforceEinsteinOrganizationId;void 0!==l&&this._removeOrgIdFromGlobals(l,["syncSalesforceEinsteinOrganizationIds"]),r=s}if(!1===t){n.marketingCloudHost,n.marketingCloudUser,n.marketingCloudPassword,n.marketingCloudPort;r=Object(f.a)(n,["marketingCloudHost","marketingCloudUser","marketingCloudPassword","marketingCloudPort"])}this.environment.syncAnalytics=[r]}},{key:"timeMachine",get:function(){return this.environment.timeMachine[0]},set:function(e){this.environment.timeMachine=[e]}},{key:"variables",get:function(){return this.environment.variables},set:function(e){this.environment.variables=e}}]),e}(),Fn=function(e){var a=function(){var e=q(),a=Object(n.a)(e,2),t=a[0],r=a[1];return[t,function(e){return r({url:C.h,method:"POST",data:e})}]}(),t=Object(n.a)(a,2),s=t[0],l=s.isLoading,i=s.error,o=s.data,c=s.success,u=t[1],d=ha(),m=Object(n.a)(d,2)[1],f=m.successNotification,E=m.errorNotification,v=ua().goToSummary;return pa(l),Object(r.useEffect)((function(){!1===c&&E(function(e){var a=e.invalidCredentials,t=void 0===a?{}:a,n=e.schemaValidationErrors,r=void 0===n?[]:n,s=Object.keys(t);if(s.length>0)return"invalidOrganizationId"===t.sourceDataSource?"You cannot enter SFDC credentials for a SFDC org different than the org you are currently in":"Invalid Credentials: ".concat(s.map((function(e){return St[e]})).join(", "));if(r.length>0){var l=r[0];for(var i in l)if(Object.hasOwnProperty.call(l,i))return void 0===l[i].schemaPath?"Invalid credentials: Salesforce connections must have a unique name":l[i].schemaPath.includes("#/definitions/metadataBackup")?"Invalid credentials: Git Integration":l[i].message}return"Unknown error saving configuration"}(i))}),[i,c]),Object(r.useEffect)((function(){!0===c&&(f("Configuration saved successfully"),e({type:"CONFIGURATION_RELOAD_STATE",payload:o.configuration}),v())}),[o,c]),u},Un=function(e){return Na.a.isArray(e)?e.map((function(e){if(ut(e)){e.provider;var a=Object(f.a)(e,["provider"]);return _a(a)}return _a(e)})).filter((function(e){if(Na.a.isPlainObject(e)){e.type,e.provider,e.organizationId,e.name;var a=Object(f.a)(e,["type","provider","organizationId","name"]);return Object.keys(a).length>0}return!1})):[]},Ln=["asyncAttachmentProcessorOrganizationIds","asyncBulkLoadOrganizationIds","asyncQueueOrganizationIds","bulkRestoreDestinationOrganizationId","bulkRestoreSourceOrganizationId","syncSalesforceEinsteinOrganizationIds","syncSalesforceSourceOrganizationIds","metadataBackupOrganizationIds","odataOrganizationIds","asyncIntervalMinutes","sessionCacheTimeoutMinutes","configRetrievalIntervalMinutes"],Vn=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=Ca(e)?Na.a.cloneDeep(e.globalEnvironmentDefaults):{},n=function(e){return Na.a.isString(e)||Na.a.isNumber(e)||Na.a.isBoolean(e)};return new Proxy(t,{get:function(e,n){if(!Ln.includes(n))throw Error("".concat(n," is not a valid global default key"));return"raw"===n?{globalEnvironmentDefaults:_a(t)}:n in e?n.endsWith("Ids")&&!0===a?e[n][0]||null:e[n]:null},set:function(e,a,t){if(!Ln.includes(a))throw Error("".concat(a," is not a valid global default key"));if(a.endsWith("Ids")){if(!Na.a.isArray(t))throw Error("".concat(a," should be a collection of 1 more more keys"));if(t.length>0&&t.filter((function(e){return!Na.a.isString(e)})).length>0)throw Error("".concat(t," is not a valid global default value for ").concat(a))}else if(!n(t))throw Error("".concat(t," is not a valid global default value for ").concat(a));return e[a]=t,!0}})},qn=function(){var e=Ra(),a=Object(n.a)(e,2),t=a[0],r=a[1],s=gt(),l=Object(n.a)(s,1)[0],i=Ja(),o=Object(n.a)(i,1)[0],c=nt(),u=Object(n.a)(c,1)[0],d=it(),m=Object(n.a)(d,1)[0],f=Qt(l.sourceDataSource),E=Qt(o),v=Qt(u),b=Fn(r);return function(){var e,a=new Bn(t),r=Vn(t),s=[];s.push(f),s.push(function(e,a){return Sa(e,a,"bulkRestoreDestination")}(a.dataSources,r.bulkRestoreDestinationOrganizationId)),s.push(function(e,a){return Sa(e,a,"syncSalesforceEinstein")}(a.dataSources,r.syncSalesforceEinsteinOrganizationIds)),a.dataSources=Un(s),a.elastic=null!==(e=E)&&"object"===typeof e?Object.entries(e).reduce((function(a,t){var r=Object(n.a)(t,2),s=r[0],l=r[1],i=Object(T.a)({},a);return""!==l&&void 0!==l&&null!==l&&(i[s]=e[s]),i}),{}):e,a.storage=Object(T.a)({},v,{serverSideEncryptionKmsKey:"aws:kms"===v.serverSideEncryption?v.serverSideEncryptionKmsKey:void 0,provider:"aws-ecs"===v.provider?"aws":v.provider}),a.oauth=m,b(a.configuration)}},Gn=function(e){var a=e.isAnExistingConfig,t=e.formRef,n=e.onSubmit,r=ua(),l=r.goToStartProvisioning,i=r.goToSummary;return s.a.createElement("div",{className:"slds-grid slds-m-bottom_medium",style:{justifyContent:"flex-end"}},s.a.createElement(u.a,{className:"slds-m-right_x-small",label:"Save",variant:"brand",type:void 0!==t?"submit":"button",onClick:function(){void 0!==t?!0===t.current.checkValidity()&&n():n()}}),s.a.createElement(u.a,{label:"Cancel",onClick:function(){return(!0===a?i:l)()}}))},Kn=function(e){var a=e.isAnExistingConfig,t=e.formRef,n=qn();return s.a.createElement(Gn,{isAnExistingConfig:a,formRef:t,onSubmit:n})},Hn=function(){var e=Ra()[0],a=Object(r.createRef)(),t=Ca(e),n=new Bn(e),s=Vn(e);return[{dataSources:n.dataSources,elastic:n.elastic,storage:n.storage,oauth:n.oauth,formRef:a,hashKey:n.hashKey,isAnExistingConfig:t,globals:s}]},Wn=function(){var e=it(),a=Object(n.a)(e,2),t=a[0],r=t.enableOAuth,l=t.clientId,i=t.tokenUrl,o=t.clientSecret,c=a[1],u=Gt("ADVANCED_CONFIG_SET_VALUE",c),d=Vt("ADVANCED_CONFIG_SET_VALUE",c);return s.a.createElement(J.a,{title:"GRAX OAuth",className:"slds-m-bottom_medium slds-m-top_none"},s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yn,{label:"Enable OAuth",helpText:"Enable to configure OAuth on the data lake side (e.g. gateway setups). If you want to enable Salesforce OAuth, that must be done in the above Salesforce section",checked:r,id:"enableOAuth",variant:"toggle",onToggle:u}))),!0===r&&s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"OAuth Client ID",value:l,id:"clientId",onBlur:d,required:!0})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"OAuth Client Secret",value:o,id:"clientSecret",onBlur:d,required:!0})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"OAuth Token URL",value:i,id:"tokenUrl",onBlur:d,required:!0}))))};Wn.defaultProps={clientId:"",tokenUrl:"",clientSecret:""};var Yn=Wn,Qn=function(){var e=Hn(),a=Object(n.a)(e,1)[0],t=a.dataSources,r=a.elastic,l=a.storage,i=a.oauth,o=a.formRef,c=a.isAnExistingConfig,u=a.globals;return s.a.createElement(pt,{value:{dataSources:t,globals:u}},s.a.createElement(Xa,{value:r},s.a.createElement(rt,{value:Object(T.a)({},l)},s.a.createElement(ot,{value:i},s.a.createElement("form",{ref:o,onSubmit:function(e){return e.preventDefault()}},s.a.createElement(Fa,{text:"Ensure you have the correct credentials for ALL sections before beginning.\n        Upon saving the page, a test will be made to verify each connection.\n        You will not be able to save until all connections are validated."}),s.a.createElement(Kn,{isAnExistingConfig:c,formRef:o}),s.a.createElement(Xt,null),s.a.createElement(bn,null),s.a.createElement(Mn,null),s.a.createElement(Yn,null))))))},Zn=Object(r.createContext)(),Jn=Object(r.createContext)(),Xn=function(){return[ia(Zn),oa(Jn)]},$n=Wa(Zn,Jn,{isEnabled:!1,sourceControlEnabled:!1,sourceControlProvider:"github"}),er=function(e,a){var t=a.payload,n=a.type;switch(n){case"ENVIRONMENT_VARIABLE_SET_VARS":return Object(T.a)({},e,{variables:Object(T.a)({},e.variables,{},t)});case"ENVIRONMENT_VARIABLE_SET_TIME_MACHINE":return Object(T.a)({},e,{timeMachine:Object(T.a)({},e.timeMachine,{},t)});case"ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE":return Object(T.a)({},e,{pushToQueue:Object(T.a)({},e.pushToQueue,{},t)});default:return Ga(e,{payload:t,type:n})}},ar=Object(r.createContext)(),tr=Object(r.createContext)(),nr=function(){return[ia(ar),oa(tr)]},rr=Wa(ar,tr,{variables:{},timeMachine:{},pushToQueue:{},asyncIntervalMinutes:"10",sessionCacheTimeoutMinutes:"15"},er),sr=Object(r.createContext)(),lr=Object(r.createContext)(),ir=function(){return[ia(sr),oa(lr)]},or=Wa(sr,lr),cr=[{label:"Github",value:"github"},{label:"GitLab",value:"gitlab"}],ur=function(e){return[{options:cr}]},dr=function(e){var a=e.sourceControlProvider,t=e.gitRepositoryName,l=e.gitRepoAuthorizationToken,i=e.gitUserId,o=e.handleButtonGroup,c=e.onBlur,u=ur(),d=Object(n.a)(u,1)[0].options;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yt,{options:d,value:a,id:"sourceControlProvider",onClick:o}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Git Repository Name",required:!0,value:t,id:"gitRepositoryName",onBlur:c})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Git Repository Authorization Token",helpText:"In Github you should be able to find by navigating to: user>settings>developer settings>personal access token>generate token",required:!0,secured:!0,value:l,id:"gitRepoAuthorizationToken",onBlur:c})),"github"===a&&s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Git User ID",required:!0,value:i,id:"gitUserId",onBlur:c}))))},mr=function(){var e=Xn(),a=Object(n.a)(e,2),t=a[0],r=a[1],l=Vt("ADVANCED_CONFIG_SET_VALUE",r),i=Kt("ADVANCED_CONFIG_SET_VALUE",r),o=Gt("ADVANCED_CONFIG_SET_VALUE",r),c=t.isEnabled,u=t.sourceControlEnabled,d=t.sourceControlProvider,m=t.gitRepositoryName,f=t.gitRepoAuthorizationToken,E=t.gitUserId;return s.a.createElement(J.a,{title:"Metadata Backup Settings",className:"slds-m-bottom_medium slds-m-top_none"},s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-bottom_x-small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yn,{label:"Enable Metadata Backup",helpText:"By default, metadata will always be backed up to the configured cloud storage provider.",id:"isEnabled",checked:c,isDestructive:!0,onToggle:o})),!0===c&&s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yn,{label:"Enable Git Integration",id:"sourceControlEnabled",checked:u,isDestructive:!0,variant:"toggle",onToggle:o}))),!0===c&&!0===u&&s.a.createElement(dr,{gitRepositoryName:m,gitRepoAuthorizationToken:f,gitUserId:E,sourceControlProvider:d,handleButtonGroup:i,onBlur:l}))},fr=function(){return s.a.createElement(r.Fragment,null,s.a.createElement(_n,{heading:"Einstein Salesforce Destination"}),s.a.createElement("div",{className:" slds-m-top_x-small"},s.a.createElement(Jt,{showConnectionName:!0,variant:"syncSalesforceEinstein"})))},Er=function(e){var a=e.marketingCloudHost,t=e.marketingCloudUser,n=e.marketingCloudPassword,l=e.marketingCloudPort,i=e.onBlur;return s.a.createElement(r.Fragment,null,s.a.createElement(_n,{heading:"Marketing Cloud Settings"}),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Marketing Cloud Host (FTP)",required:!0,value:a,id:"marketingCloudHost",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Marketing Cloud Username (FTP)",required:!0,value:t,id:"marketingCloudUser",onBlur:i})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Marketing Cloud Password (FTP)",required:!0,secured:!0,value:n,id:"marketingCloudPassword",onBlur:i}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Marketing Cloud Port (FTP)",type:"number",required:!0,value:l,id:"marketingCloudPort",onBlur:i}))))},vr=function(e){var a=ir(),t=Object(n.a)(a,2),s=t[0],l=t[1],i=Vt("ADVANCED_CONFIG_SET_VALUE",l),o=Gt("ADVANCED_CONFIG_SET_VALUE",l),c=Lt("ADVANCED_CONFIG_SET_VALUE",l),u=s.marketingCloudHost,d=s.marketingCloudUser,m=s.marketingCloudPassword,f=s.marketingCloudPort,E=s.syncQueryFile,v=s.syncBatchSize,b=s.syncDestinationAnalyticsUrl,g=s.isEinsteinAnalyticsEnabled,p=s.isMarketingCloudEnabled;return Object(r.useEffect)((function(){void 0!==e&&c("isEinsteinAnalyticsEnabled",!0)}),[e]),Object(r.useEffect)((function(){void 0!==u&&c("isMarketingCloudEnabled",!0)}),[u]),[{isEinsteinAnalyticsEnabled:g,isMarketingCloudEnabled:p,marketingCloudHost:u,marketingCloudUser:d,marketingCloudPassword:m,marketingCloudPort:f,syncQueryFile:E,syncBatchSize:v,syncDestinationAnalyticsUrl:b},{onBlur:i,handleCheckbox:o}]},br=function(e){var a=e.syncSalesforceEinsteinOrganizationId,t=vr(a),r=Object(n.a)(t,2),l=r[0],i=l.isEinsteinAnalyticsEnabled,o=l.isMarketingCloudEnabled,c=l.marketingCloudHost,u=l.marketingCloudUser,d=l.marketingCloudPassword,m=l.marketingCloudPort,f=l.syncQueryFile,E=l.syncBatchSize,v=r[1],b=v.onBlur,g=v.handleCheckbox;return s.a.createElement(J.a,{title:"Data Sync",className:"slds-m-bottom_medium slds-m-top_none"},s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yn,{label:"Einstein Analytics",checked:i,id:"isEinsteinAnalyticsEnabled",isDestructive:!0,variant:"toggle",onToggle:g})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yn,{label:"Marketing Cloud",checked:o,id:"isMarketingCloudEnabled",isDestructive:!0,variant:"toggle",onToggle:g}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Query File",helpText:"Please ensure the query file is a json file and .json is included in the file name you enter here. This json configuration query file must be stored in the following path of your cloud storage providerExample Path: Amazon S3 > Vandelay Industries Prod Bucket > grax > audittrail > salesforce > Org ID of Salesforce Environment > configurationqueryfile.json",required:!0,value:f,id:"syncQueryFile",onBlur:b})),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,{label:"Batch Size",type:"number",value:E,id:"syncBatchSize",onBlur:b}))),!0===i&&s.a.createElement(fr,null),o&&s.a.createElement(Er,{marketingCloudHost:c,marketingCloudUser:u,marketingCloudPassword:d,marketingCloudPort:m,onBlur:b}))},gr=function(e){var a=e.isOpen,t=e.onRequestClose,n=e.confirm;return s.a.createElement(se.a,{noHeader:!0,footer:[s.a.createElement(u.a,{key:"promptBtn",label:"Cancel",onClick:t}),s.a.createElement(u.a,{key:"promptBtn",label:"Confirm",variant:"brand",onClick:n})],isOpen:a,onRequestClose:t,prompt:"error",size:"medium",title:"Confirmation Needed to Reveal Section"},s.a.createElement("div",{className:"slds-m-around_medium"},"This section is meant for configuring system settings that only an advanced GRAX admin or enablement engineer will be familiar with. Please proceed with caution and reach out to GRAX Support if you have any questions."))},pr=t(2),hr=t.n(pr),Or=(t(201),function(e){var a=e.children,t=e.title,l=(e.helpText,e.isOpen),i=void 0!==l&&l,o=e.nonCollapsible,c=void 0!==o&&o,d=e.className,m=void 0===d?"slds-m-bottom_medium slds-m-top_none":d,f=Object(r.useState)(!!c||i),E=Object(n.a)(f,2),v=E[0],b=E[1],g=s.a.createElement("span",{className:hr()("slds-truncate",{"slds-p-horizontal_small":!!c}),title:t},t),p=c?g:s.a.createElement(u.a,{iconCategory:"utility",iconClassName:"slds-section__title-action-icon slds-button__icon_left",iconName:"switch",onClick:function(){return b(!v)},className:"slds-section__title-action",variant:"base"},g);return s.a.createElement("div",{className:hr()(m,"slds-section",{"slds-is-open":v})},s.a.createElement("h3",{className:hr()("slds-section__title",{"slds-theme_shade":!!c})},p),s.a.createElement("div",{className:"slds-section__content"},a))}),yr=function(e){return function(a){return function(t){var l=Object.assign({},t),i=Object(r.useState)(!1),o=Object(n.a)(i,2),c=o[0],d=o[1],m=Object(r.useState)(!1),f=Object(n.a)(m,2),E=f[0],v=f[1],b=Object(r.useState)(!1),g=Object(n.a)(b,2),p=g[0],h=g[1];return s.a.createElement(Or,{title:e},!1===c&&s.a.createElement(u.a,{iconCategory:"utility",iconVariant:"bare",iconName:c?"hide":"preview",iconPosition:"left",onClick:function(){!1===c&&!1===p?v(!0):d(!c)},variant:"base",label:c?"Hide Fields":"Reveal Fields",className:"slds-m-top_x-small"}),!0===c&&s.a.createElement("ul",null,s.a.createElement(a,l)),s.a.createElement(gr,{isOpen:E,onRequestClose:function(){return v(!1)},confirm:function(){d(!0),v(!1),p||h(!0)}}))}}},Nr=function(e){var a=e.label,t=e.variableName,n=e.type,r=e.value,l=e.onBlur,i=Object(f.a)(e,["label","variableName","type","value","onBlur"]);return s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(jt,Object.assign({label:a,id:t,type:n,value:r,onBlur:function(e){return l(e,{valueCasting:!1})},valueCasting:!0},i)))},_r=(yr("Org Migration Settings")((function(e){var a=e.GRAX_SYNCHID,t=e.RESTORE_SLEEP_DURATION,n=e.GRAX_OBJECT_TYPES_TO_RESTORE,r=e.GRAX_MAX_RESTORE,l=e.onBlur;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement(Nr,{label:"Synch ID",variableName:"GRAX_SYNCHID",value:a,type:"number",onBlur:l}),s.a.createElement(Nr,{label:"Bulk Restore Sleep Duration (Minutes)",variableName:"RESTORE_SLEEP_DURATION",value:t,onBlur:l}),s.a.createElement(Nr,{label:"Objects to Restore",variableName:"GRAX_OBJECT_TYPES_TO_RESTORE",value:n,onBlur:l})),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement(Nr,{label:"Bulk Restore Max Batch Size",variableName:"GRAX_MAX_RESTORE",value:r,type:"number",onBlur:l})),s.a.createElement(_n,{heading:"Bulk Restore Salesforce Destination"}),s.a.createElement("div",{className:"slds-m-top_x-small"},s.a.createElement(Jt,{showConnectionName:!0,variant:"bulkRestoreDestination"})))})),yr("Point in Time Restore")((function(e){var a=e.queryFile,t=e.onBlur;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement(Nr,{label:"Point-in-Time Restore Query File",variableName:"queryFile",value:a,required:!0,onBlur:t})))})),[{label:"Apigee",value:"Apigee"},{label:"Kafka",value:"Kafka"}]),jr=(yr("Push to Queue")((function(e){var a=e.provider,t=e.apiEndpoint,n=e.apiClientId,r=e.apiClientSecret,l=e.authorizationToken,i=e.onToggle,o=e.onBlur,c=[];if("Apigee"===a||"Kafka"===a)switch(c.push(s.a.createElement(Nr,{label:"Push-to-Queue API Endpoint",variableName:"apiEndpoint",value:t,required:!0,onBlur:o})),a){case"Apigee":c.push([s.a.createElement(Nr,{label:"Push-to-Queue API Client ID",variableName:"apiClientId",value:n,required:!0,onBlur:o}),s.a.createElement(Nr,{label:"Push-to-Queue API Client Secret",variableName:"apiClientSecret",value:r,required:!0,onBlur:o})]);break;case"Kafka":c.push(s.a.createElement(Nr,{label:"Push-to-Queue Authorization Token",variableName:"authorizationToken",value:l,required:!0,onBlur:o}))}return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small slds-m-top_x-small"},s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},s.a.createElement(yt,{options:_r,value:a,required:!1,onClick:function(e){return i("provider",e)}}))),s.a.createElement("div",{className:"slds-grid slds-gutters_small"},c))})),yr("Other")((function(e){var a=e.asyncIntervalMinutes,t=e.asyncIntervalMinutesOnBlur,r=nt(),l=Object(n.a)(r,2),i=l[0],o=l[1];i.storageOff,Gt("BASIC_CONFIG_SET_VALUE",o);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slds-grid slds-gutters_small"},s.a.createElement(Nr,{label:"Async Interval (minutes)",helpText:"Determines the interval that the asynchronous heroku dyno runs at. Note that if you have set GRAX_ENV_ASYNC_INTERVAL_MINUTES in your heroku config vars, that value will override this field.",variableName:"asyncIntervalMinutes",value:a,required:!0,type:"number",onBlur:t}),s.a.createElement("div",{className:"slds-col slds-size_1-of-3"},!1)))}))),Cr=function(){var e=nr(),a=Object(n.a)(e,2),t=a[0],r=a[1],l=t.variables,i=void 0===l?{}:l,o=t.timeMachine,c=void 0===o?{}:o,u=t.pushToQueue,d=void 0===u?{}:u,m=t.asyncIntervalMinutes,f=(d.provider,d.apiEndpoint,d.apiClientId,d.apiClientSecret,d.authorizationToken,c.queryFile,i.cdcEnabled,i.GRAX_SYNCHID,i.RESTORE_SLEEP_DURATION,i.GRAX_OBJECT_TYPES_TO_RESTORE,i.GRAX_MAX_RESTORE,Gt("ENVIRONMENT_VARIABLE_SET_VARS",r),Vt("ENVIRONMENT_VARIABLE_SET_VARS",r),Vt("ENVIRONMENT_VARIABLE_SET_TIME_MACHINE",r),Lt("ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE",r),Vt("ENVIRONMENT_VARIABLE_SET_PUSH_TO_QUEUE",r),Vt("ADVANCED_CONFIG_SET_VALUE",r));return s.a.createElement(s.a.Fragment,null,!1,!1,!1,!1,s.a.createElement(jr,{asyncIntervalMinutes:m,asyncIntervalMinutesOnBlur:f}))},Sr=function(e){return null!==e&&"object"===typeof e?Object.entries(e).reduce((function(a,t){var r=Object(n.a)(t,2),s=r[0],l=r[1],i=Object(T.a)({},a);return""!==l&&void 0!==l&&null!==l&&(i[s]=e[s]),i}),{}):e},Ar=function(){var e=Ra(),a=Object(n.a)(e,2),t=a[0],r=a[1],s=nt(),l=Object(n.a)(s,1)[0],i=Xn(),o=Object(n.a)(i,1)[0],c=ir(),u=Object(n.a)(c,1)[0],d=Qt(l),m=gt(),E=Object(n.a)(m,1)[0],v=Qt(E.syncSalesforceEinstein),b=Qt(E.bulkRestoreDestination),g=nr(),p=Object(n.a)(g,1)[0],h=p.pushToQueue,O=p.timeMachine,y=p.variables,N=p.sessionCacheTimeoutMinutes,_=p.asyncIntervalMinutes,j=Fn(r);return function(){var e=new Bn(t),a=Vn(t),n=Aa(e.dataSources,a.asyncAttachmentProcessorOrganizationIds),r=[];r.push(n),r.push(b),!0===u.isEinsteinAnalyticsEnabled&&r.push(v),e.dataSources=Un(r),e.metadataBackup=function(e){var a=e.isEnabled,t=e.sourceControlEnabled,n=e.sourceControlProvider,r=[];if(a&&t)if("gitlab"===n){e.gitUserId;var s=Object(f.a)(e,["gitUserId"]);r.push(Sr(s))}else r.push(Sr(e));else r.push({isEnabled:!!a,sourceControlEnabled:!1});return r}(o),e.pushToQueue=function(e){var a=[];if("Kafka"===e.provider){var t=e.provider,n=e.authorizationToken,r=e.apiEndpoint;a.push(Sr({provider:t,authorizationToken:n,apiEndpoint:r}))}else if("Apigee"===e.provider){var s=e.provider,l=e.apiClientId,i=e.apiEndpoint,o=e.apiClientSecret;a.push(Sr({provider:s,apiClientId:l,apiEndpoint:i,apiClientSecret:o}))}else a.push({});return a}(h),e.variables=function(e){var a=e;return void 0!==e.cdcEnabled&&(a=Object(T.a)({},a,{cdcEnabled:e.cdcEnabled.toString()})),Sr(a)}(y),e.storage=Sr(d),e.syncAnalytics=Sr(u),e.timeMachine=Sr(O),e.asyncIntervalMinutes=_,e.sessionCacheTimeoutMinutes=N,j(e.configuration)}},Ir=function(e){var a=e.isAnExistingConfig,t=Ar();return s.a.createElement(Gn,{isAnExistingConfig:a,onSubmit:t})},Tr=function(){var e=Ra(),a=Object(n.a)(e,1)[0],t=Object(r.createRef)(),s=Ca(a),l=new Bn(a),i=Vn(a),o=l.asyncIntervalMinutes,c=l.sessionCacheTimeoutMinutes,u=l.storage,d=l.oauth,m=l.metadataBackup,f=l.syncAnalytics,E=l.variables,v=l.timeMachine,b=l.pushToQueue,g=l.syncSalesforceEinsteinOrganizationId;return{dataSources:l.dataSources,globals:i,storage:u,oauth:d,metadataBackup:m,syncAnalytics:f,environmentVariables:{asyncIntervalMinutes:o,sessionCacheTimeoutMinutes:c,variables:E,timeMachine:v,pushToQueue:b},syncSalesforceEinsteinOrganizationId:g,isAnExistingConfig:s,formRef:t}},Rr=function(){var e=Tr(),a=e.dataSources,t=e.storage,n=e.oauth,r=e.syncSalesforceEinsteinOrganizationId,l=e.metadataBackup,i=e.syncAnalytics,o=e.environmentVariables,c=e.isAnExistingConfig,u=e.globals;return s.a.createElement($n,{value:l},s.a.createElement(pt,{value:{dataSources:a,globals:u}},s.a.createElement(or,{value:i},s.a.createElement(rr,{value:o},s.a.createElement(rt,{value:t},s.a.createElement(ot,{value:n},s.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},s.a.createElement(Fa,{text:"Please note that fields designated with * should be filled out\n                  in order for a particular feature to work as expected"}),s.a.createElement(Ir,{isAnExistingConfig:c}),s.a.createElement(mr,null),s.a.createElement(br,{syncSalesforceEinsteinOrganizationId:r}),s.a.createElement(Cr,null))))))))},kr=t(74),wr=function(e){var a={};return e.forEach((function(e){a[e.type]=Dr(e)})),a},Dr=function(e){var a,t=e.type,n=Object(f.a)(e,["type"]),r=[],s=Object.keys(n);return(a="salesforce"===t?ut(n)?kr[t].oauth:kr[t].usernameAndPassword:kr[t]).map((function(e){return e.jsonName})).forEach((function(e){if(s.includes(e)){var t=a.filter((function(a){return a.jsonName===e}))[0].displayName,l=zr(e,n[e]);r.push({label:t,content:l,truncate:!0})}})),r},zr=function(e,a){return"provider"===e?"aws"===a?"AWS":Na.a.upperFirst(a):"region"===e?rn[a]:Na.a.toString(a)},xr=function(e){var a=Object(r.useState)({}),t=Object(n.a)(a,2),s=t[0],l=t[1];return Object(r.useEffect)((function(){if(e){var a=new Bn(e),t=a.elastic,n=a.storage,r=Vn(e),s=Aa(a.dataSources,r.asyncAttachmentProcessorOrganizationIds),i=wr([Object(T.a)({},t,{type:"elastic"}),Object(T.a)({},n,{type:"storage"}),Object(T.a)({},s,{type:"salesforce"})]);l(i)}}),[e]),s},Mr=function(e){var a=e.configuration,t=xr(a),n=t.salesforce,r=t.elastic,o=t.storage;return s.a.createElement(i.a,{hasNoHeader:!0,className:"slds-card__body_inner"},s.a.createElement(l.a,{title:"Salesforce Source",variant:"record-home",details:n}),s.a.createElement(l.a,{title:"Elasticsearch",variant:"record-home",details:r}),s.a.createElement(l.a,{title:"Cloud Storage",variant:"record-home",details:o}))},Pr=function(){var e=Ra(),a=Object(n.a)(e,1)[0],t=ua(),r=t.goToBasicConfiguration,o=t.goToAdvancedConfiguration,d=s.a.createElement(Ct.a,{assistiveText:{label:"Required Configuration"},category:"standard",name:"calibration"}),m=s.a.createElement(Ct.a,{assistiveText:{label:"Advanced Configuration"},category:"standard",name:"custom"});return s.a.createElement("div",{className:"summaryCard"},s.a.createElement(i.a,{hasNoHeader:!0},s.a.createElement(l.a,{onRenderActions:function(){return s.a.createElement(c.a,null,s.a.createElement(u.a,{label:"Update Credentials",onClick:function(){return r()}}))},title:"Required Configuration",variant:"record-home",icon:d}),s.a.createElement(Mr,{configuration:a})),s.a.createElement(i.a,{hasNoHeader:!0},s.a.createElement(l.a,{onRenderActions:function(){return s.a.createElement(c.a,null,s.a.createElement(u.a,{label:"Edit Advanced Configuration",onClick:function(){return o()}}))},title:"Advanced Configuration",variant:"record-home",icon:m}),s.a.createElement(i.a,{hasNoHeader:!0},s.a.createElement(Ba.a,{theme:"dark"},s.a.createElement("p",null,"Only advanced users should edit these settings.")))))},Br=[{path:C.o,key:"".concat(C.o,"2"),component:Pa,routes:[{exact:!0,key:C.q,path:C.q,component:Ua},{exact:!0,key:C.p,path:C.p,component:Pr},{exact:!0,key:C.r,path:C.r,component:qa},{exact:!0,key:C.m,path:C.m,component:Qn},{exact:!0,key:C.l,path:C.l,component:Rr}]},{exact:!0,key:C.g,path:C.g,component:Z},{exact:!0,key:C.e,path:C.e,component:Xe},{exact:!0,key:C.f,path:C.f,component:Xe},{exact:!0,key:C.b,path:C.b,component:la}];a.a=Br},152:function(e,a,t){e.exports=t(249)},157:function(e,a,t){},159:function(e,a,t){},21:function(e,a,t){"use strict";t.d(a,"n",(function(){return c})),t.d(a,"h",(function(){return u})),t.d(a,"k",(function(){return d})),t.d(a,"j",(function(){return m})),t.d(a,"c",(function(){return f})),t.d(a,"a",(function(){return E})),t.d(a,"b",(function(){return v})),t.d(a,"d",(function(){return O})),t.d(a,"m",(function(){return j})),t.d(a,"e",(function(){return _})),t.d(a,"i",(function(){return C})),t.d(a,"f",(function(){return S})),t.d(a,"g",(function(){return A}));var n=t(7),r=t(22),s=t.n(r);t.d(a,"l",(function(){return s.a}));t(160),t(163);var l=t(13),i=t.n(l),o=s.a.locales();function c(e,a,t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+a+";"+r+";path=/"}function u(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var r=t[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(a))return r.substring(a.length,r.length)}return""}var d=null!=window.parent,m=!0===navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),f=/^((?:(?:19|20)\d{2})-(?:10|11|12|0?\d)-(?:30|31|(?:0|1|2)\d))((?:(?:T|\s)(?:(?:0|1|2)\d)(?:\:[0-5]\d)(?::[0-5]\d)?((?:(?:\.\d{3})?)?Z?(?:[+-](?:0|1|2)\d\:?[0-5]\d)?))?)$/,E="L LT",v="L",b=window.location.search.match(/[\?&]locale\=([^&]+)/),g=window.location.search.match(/[\?&]tz\=([^&]+)/),p=window.navigator.userLanguage||window.navigator.language,h=b?decodeURIComponent(b[1]).split("_").join("-"):p,O=g?decodeURIComponent(g[1]):s.a.tz.guess(),y={"in-ID":"id","iw-IL":"he","lu-CD":"yo","no-NO":"nb","rm-CH":"nl","rn-BI":"yo","sh-BA":"sr","sh-CS":"sr","sh-ME":"sr","sh-ME-USD":"sr","so-DJ":"fr","so-SO":"fr","sr-BA":"sr-cyrl","sr-CS":"sr-cyrl","ti-ET":"fr","xh-ZA":"af","zh-MO":"zh-hk","zh-SG":"zh-hk","zu-ZA":"en"};console.log("Available localizations: "+o.join(", "));var N=h;null!=y[N]&&(N=y[N]),N=N.toLowerCase(),-1===o.indexOf(N)&&-1!==h.indexOf("-")&&(N=N.split("-")[0]),-1!==o.indexOf(N)?s.a.locale(N):s.a.locale("en"),O&&s.a.tz.setDefault(O),console.log("User Locale: "+h),console.log("Trying to use locale: ",N),console.log("Available Locale: "+s.a.locale()),console.log("User TimeZone: "+O);var _=function(e){var a=e.inputValue,t=e.limit,n=void 0===t?10:t,r=e.options,s=(e.selection,new RegExp(i.a.escapeRegExp(a),"ig"));return i.a.filter(r,(function(e,t){return!a||"separator"===e.type||e.label.match(s)||e.id.match(s)})).splice(0,n)},j=function(e,a,t){return Object.assign({},e,Object(n.a)({},a,t))},C=function(e){var a=e.date,t=e.timezone,n=void 0===t?O:t,r=e.inputFormat,l=void 0===r?"YYYY-MM-DD":r,i=e.outputFormat,o=void 0===i?"YYYY-MM-DDTHH:mm:ss.SSS":i;return[s.a.tz(a,l,n).startOf("day").utc().format(o),s.a.tz(a,l,n).endOf("day").utc().format(o)]},S=function(e){return e?s()(e).format(v):""},A=function(e){return s()(e,v).toDate()}},249:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(14),l=t.n(s),i=(t(157),t(114));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,a,t){"use strict";t.d(a,"n",(function(){return n})),t.d(a,"o",(function(){return r})),t.d(a,"p",(function(){return s})),t.d(a,"m",(function(){return l})),t.d(a,"l",(function(){return i})),t.d(a,"r",(function(){return o})),t.d(a,"q",(function(){return c})),t.d(a,"c",(function(){return u})),t.d(a,"g",(function(){return d})),t.d(a,"e",(function(){return m})),t.d(a,"f",(function(){return f})),t.d(a,"b",(function(){return E})),t.d(a,"h",(function(){return v})),t.d(a,"i",(function(){return b})),t.d(a,"j",(function(){return g})),t.d(a,"d",(function(){return p})),t.d(a,"s",(function(){return h})),t.d(a,"a",(function(){return O})),t.d(a,"k",(function(){return y}));var n="/grax-app/client/cloud",r="".concat(n,"/configuration"),s="".concat(r,"/summary"),l="".concat(r,"/basic-configuration"),i="".concat(r,"/advanced-configuration"),o="".concat(r,"/new-configuration"),c="".concat(r,"/empty-landing-page"),u="".concat(n,"/dedup"),d="".concat(u,"/scenarios"),m="".concat(u,"/scenarios/:scenario_id"),f="".concat(u,"/scenarios/new"),E="".concat(u,"/duplicates/:scenario_id"),v="/grax-app/cloud-configuration",b="".concat(v,"/validations"),g="/grax-app/grax-data-lake",p="/graxproxy/api/dedup",h="".concat(p,"/scenarios"),O="".concat("/grax-app/assets","/assets/icons/"),y="https://documentation.grax.io/docs/configuration-new"},60:function(e,a,t){"use strict";t.d(a,"b",(function(){return c}));var n=t(0),r=t.n(n),s=t(1),l=t.n(s),i=t(148),o=t(6),c=(l.a.arrayOf(l.a.shape({key:l.a.string.isRequired,path:l.a.oneOf([o.o,o.m,o.n,o.l,o.q,o.g,o.e,o.f,o.b]).isRequired,exact:l.a.bool,component:l.a.elementType.isRequired})).isRequired,function(e){var a=[];return"configuration"===e?a.push(o.o):"cloud"===e?a.push(o.r):a.push("/"),a});a.a=function(e){var a=e.routes,t=void 0===a?[]:a;return r.a.createElement(n.Fragment,null,t.map((function(e){return r.a.createElement(i.b,{key:e.key,path:e.path,exact:e.exact,render:function(){return r.a.createElement(e.component,{routes:e.routes})}})})))}},74:function(e){e.exports=JSON.parse('{"storage":[{"jsonName":"provider","displayName":"Provider"},{"jsonName":"bucket","displayName":"Bucket Name"},{"jsonName":"region","displayName":"Region"},{"jsonName":"s3CompatibleEndpoint","displayName":"Endpoint"},{"jsonName":"storageAccountName","displayName":"Storage Account Name"},{"jsonName":"containerName","displayName":"Container Name"},{"jsonName":"googleBucketName","displayName":"Google Bucket Name"}],"elastic":[{"jsonName":"name","displayName":"Connection Name"},{"jsonName":"provider","displayName":"Provider"}],"salesforce":{"usernameAndPassword":[{"jsonName":"name","displayName":"Connection Name"},{"jsonName":"userName","displayName":"Username"},{"jsonName":"url","displayName":"URL"},{"jsonName":"organizationId","displayName":"Organization ID"}],"oauth":[{"jsonName":"name","displayName":"Connection Name"},{"jsonName":"organizationId","displayName":"Organization ID"}]}}')}},[[152,4,5]]]);
//# sourceMappingURL=main.0ba5be61.chunk.js.map