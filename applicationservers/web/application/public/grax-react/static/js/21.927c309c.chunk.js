(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{156:function(e,t,a){"use strict";a.r(t);var n=a(19),i=a(10),o=a(11),l=a(14),s=a(12),r=a(13),c=a(1),d=a.n(c),u=a(56),g=a(61),m=a(51),f=a(112),h=a(0),p=a.n(h),b=a(3),v=a.n(b),N=a(114),C=a(2);function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=function(e,t){var a=d.a.cloneElement(e,{id:e.props.id||t});return d.a.createElement("div",{className:"slds-input-has-icon slds-input-has-icon_left slds-size_1-of-3"},a)};y.displayName="renderFilter";var S=function(e){var t=null;("string"===typeof e.heading||e.heading instanceof String)&&(t=e.heading);var a,n=d.a.createElement("h2",{id:e.headingId,className:"slds-text-heading_small slds-truncate",title:t},e.heading);a=e.header?d.a.cloneElement(e.header,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){E(e,t,a[t])})}return e}({figure:e.icon,body:n,verticalCenter:!0,canTruncate:!0},e.header.props)):d.a.createElement(N.a,{figure:e.icon,body:n,verticalCenter:!0,canTruncate:!0});var i=!!e.filter||null;return d.a.createElement("div",{className:v()("slds-card__header","slds-grid")},a,e.filter?y(e.filter,e.filterId):null,d.a.createElement("div",{id:e.headerActionsId,className:v()("slds-no-flex",{"slds-size_1-of-3":i,"slds-text-align_right":i})},e.headerActions))};S.displayName=C.k,S.propTypes={filter:p.a.node,filterId:p.a.string,header:p.a.node,headerActions:p.a.node,headerActionsId:p.a.string,heading:p.a.oneOfType([p.a.element,p.a.string]).isRequired,headingId:p.a.string,icon:p.a.node};var O=S,k=function(e){return d.a.createElement("div",{className:v()("slds-card__body",e.className),id:e.id},e.children)};k.displayName=C.h,k.propTypes={children:p.a.node,className:p.a.oneOfType([p.a.array,p.a.object,p.a.string]),id:p.a.string};var x=k,H=function(e){return d.a.createElement("div",{className:"slds-card__footer"},e.children)};H.displayName=C.j,H.propTypes={children:p.a.node};var _=H,j=function(e){return d.a.createElement("div",{className:"slds-p-horizontal_small"},d.a.createElement("div",{className:"slds-text-align_center slds-m-bottom_x-large"},d.a.createElement("h3",{className:"slds-text-heading_small slds-p-top_large slds-p-bottom_large"},e.heading),e.children))};j.displayName=C.i,j.propTypes={children:p.a.node,heading:p.a.string},j.defaultProps={heading:"No Related Items"};var F=j,I="__body",T="__header-actions",P="__heading",z="__filter-input",w=function(e){var t=e.id?e.id+I:null,a=e.id?e.id+z:null,n=e.id?e.id+P:null,i=e.id?e.id+T:null,o=e.empty;return!0===o&&(o=d.a.createElement(F,{id:e.id,heading:e.heading})),d.a.createElement("article",{id:e.id,className:v()("slds-card",e.className),style:e.style},!e.hasNoHeader&&d.a.createElement(O,{header:e.header,headingId:n,icon:e.icon,filter:e.filter,filterId:a,heading:e.heading,headerActions:e.headerActions,headerActionsId:i}),o?d.a.createElement(x,{id:t,className:e.bodyClassName},o):d.a.createElement(x,{id:t,className:e.bodyClassName},e.children),e.footer?d.a.createElement(_,null,e.footer):null)};w.displayName=C.g,w.defaultProps={heading:"Related Items"},w.propTypes={bodyClassName:p.a.oneOfType([p.a.array,p.a.object,p.a.string]),children:p.a.node,className:p.a.oneOfType([p.a.array,p.a.object,p.a.string]),empty:p.a.oneOfType([p.a.bool,p.a.node]),filter:p.a.node,footer:p.a.node,hasNoHeader:p.a.bool,header:p.a.node,heading:p.a.oneOfType([p.a.node,p.a.string]).isRequired,headerActions:p.a.node,icon:p.a.node,id:p.a.string,style:p.a.object};var A=w,L=a(8),R=a.n(L);a.d(t,"default",function(){return me});var B=Object(c.lazy)(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,115))}),D=Object(c.lazy)(function(){return Promise.all([a.e(0),a.e(4),a.e(22)]).then(a.bind(null,153))}),M=Object(c.lazy)(function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(18)]).then(a.bind(null,154))}),q="New Configuration",G="New Bulk Process",J=d.a.createElement("img",{src:"./grax-x.svg",className:"slds-m-right_x-small",style:{width:"14px",height:"14px",alignSelf:"center"},alt:""}),X=d.a.createElement(u.a,{assistiveText:{icon:"Expand"},category:"utility",name:"salesforce1",size:"xx-small",variant:"icon",className:"slds-m-right_x-small",style:{fill:"#009EDB"}}),W=d.a.createElement(u.a,{assistiveText:{icon:"Expand"},category:"utility",name:"magicwand",size:"xx-small",variant:"icon",className:"slds-m-right_x-small"}),K=0,Q=1,U=2,V=3,Y=4,Z=5,$=6,ee=7,te=8,ae=9,ne=10,ie=11,oe=12,le=13,se=14,re=15,ce=17,de=18,ue=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{className:"slds-tree_container",style:{maxWidth:"none",minWidth:"none"}},void 0!==this.props.label?d.a.createElement("h4",{className:"slds-tree__group-header"},this.props.label):null,d.a.createElement("ul",{"aria-labelledby":"treeheading",className:"slds-tree",role:"tree"},this.props.children))}}]),t}(d.a.PureComponent),ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={isOpen:!1,isCollapsible:!1,isEditable:!0},a.toggleHandler=a.toggleHandler.bind(Object(n.a)(a)),a.clickHandler=a.clickHandler.bind(Object(n.a)(a)),a.editHandler=a.editHandler.bind(Object(n.a)(a)),a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=!1,t=!1,a=!1;this.props.isOpen&&(e=this.props.isOpen),void 0!==this.props.children&&this.props.children.length>0&&(t=!0),this.props.isCollapsible&&(t=this.props.isCollapsible),this.props.isEditable&&(a=this.props.isEditable),this.setState({isOpen:e,isLoaded:e,isCollapsible:t,isEditable:a})}},{key:"toggleHandler",value:function(){var e=!this.state.isOpen,t=this.state.isLoaded||e;this.setState({isOpen:e,isLoaded:t}),this.props.onToggle&&this.props.onToggle(e)}},{key:"clickHandler",value:function(){!0===this.props.isToggleOnClick&&this.toggleHandler(),this.props.onClick&&this.props.onClick()}},{key:"editHandler",value:function(){this.props.onEdit&&this.props.onEdit()}},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("li",{id:this.props.id,key:this.props.id,"aria-level":this.props.level,"aria-expanded":this.state.isOpen,role:"treeitem",tabIndex:"0"},d.a.createElement("div",{className:"slds-tree__item"+(void 0!==this.props.content?" slds-tree__item--no-hover":"")},d.a.createElement(g.a,{assistiveText:{icon:"Expand"},iconCategory:"utility",iconName:"chevronright",iconSize:"small",className:"slds-m-right_x-small"+(this.state.isCollapsible?"":" slds-is-disabled"),variant:"icon",onClick:this.toggleHandler}),void 0!==this.props.icon?d.a.createElement("div",{className:"slds-m-right_x-small slds-tree__item--icon"},this.props.icon):null,void 0!==this.props.content?this.props.content:d.a.createElement("span",{className:"slds-has-flexi-truncate",onClick:this.clickHandler},d.a.createElement("span",{className:"slds-tree__item-label slds-truncate",title:this.props.label},this.props.label)),this.state.isEditable?d.a.createElement("button",{className:"slds-button slds-button_icon slds-m-right_x-small",title:"Edit",onClick:this.editHandler},d.a.createElement(u.a,{assistiveText:{icon:"Expand"},category:"utility",name:"edit",size:"xx-small",variant:"icon"})):null),this.state.isLoaded?d.a.createElement("ul",{role:"group"},this.props.children):null))}}]),t}(d.a.PureComponent),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={isLoading:!0,error:null,globalConfigurations:{},configurations:{},modalSize:"large",isModalOpen:!1,isConfigurationFormOpened:!1,isSFLoginFormOpened:!1,isBulkRestoreFormOpened:!1,selectedConfigurationName:null,configurationName:q,configuration:null,selectedDataSourceName:null,dataSource:null,selectedBulkProcesseName:null,bulkProcessName:G,bulkProcess:null,configurationCollapsibleOpen:null,collapsiblesOpenByConfiguration:{}},a.actionHandler=a.actionHandler.bind(Object(n.a)(a)),a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({globalConfigurations:this.props.globalConfigurations,configurations:this.props.configurations,isLoading:!1})}},{key:"generateConfigurationStructure",value:function(){return{dataSources:[],elastic:[],storage:[]}}},{key:"actionHandler",value:function(e,t){var a=this,n=this.state.configurations;if(e===ie&&this.setState({isModalOpen:!0,modalSize:"medium",isConfigurationFormOpened:!0}),e===K&&(this.actionHandler(ie),this.setState({selectedConfigurationName:null,configurationName:q,configuration:this.generateConfigurationStructure()})),e===Q&&(this.actionHandler(ie),this.setState({selectedConfigurationName:t.configurationName,configurationName:t.configurationName,configuration:R.a.cloneDeep(t.configuration)})),e===oe&&this.setState({isModalOpen:!0,modalSize:"medium",isSFLoginFormOpened:!0}),e===ce&&this.setState({isModalOpen:!0,modalSize:"medium",isBulkRestoreFormOpened:!0}),e===Y&&(this.actionHandler(oe),this.setState({selectedConfigurationName:t.configurationName,configuration:t.configuration,dataSource:t.dataSource,dataSourceIndex:t.dataSourceIndex})),e===re&&(this.actionHandler(ce),this.setState({selectedConfigurationName:t.configurationName,bulkProcess:t.bulkProcess})),e===V&&(this.actionHandler(oe),this.setState({selectedConfigurationName:t.configurationName,configuration:t.configuration,dataSourceIndex:t.dataSourceIndex})),e===se&&(this.actionHandler(ce),this.setState({configuration:t.configuration,selectedBulkProcesseName:t.configurationName,bulkProcess:{name:G}})),e===$){if(""===this.state.configurationName.trim())return void alert("The Name cannot be blank.");if(n[this.state.configurationName]&&this.state.configurationName!==this.state.selectedConfigurationName)return void alert("Name in use...");null!=this.state.selectedConfigurationName&&delete n[this.state.selectedConfigurationName],n[this.state.configurationName]=this.state.configuration,this.setState({action:e,configurations:n}),this.actionHandler(le),this.actionHandler(te)}if(e===U&&(delete n[this.state.selectedConfigurationName],this.setState({configurations:n}),this.actionHandler(le),this.actionHandler(te)),e===te&&this.setState({isModalOpen:!1,isConfigurationFormOpened:!1,selectedConfigurationName:null,configurationName:null}),e===ee){var i=t.dataSourceIndex,o=t.dataSource||R.a.get(t.configuration,["dataSources",i],{name:"New Data Source"});if(console.log("dataSourceIndex: ",i),console.log("params..selectedConfigurationName: ",t.selectedConfigurationName),console.log("configurations[params.selectedConfigurationName]: ",n[t.selectedConfigurationName]),console.log("dataSource: ",o),!o)return void alert("Invalid dataSource");if(null!=o&&""===o.name.trim())return void alert("The Name cannot be blank.");null!=i?n[t.selectedConfigurationName].dataSources[i]=o:n[t.selectedConfigurationName].dataSources.push(o),this.setState({configurations:n}),this.actionHandler(le),this.actionHandler(ae)}e===Z&&(R.a.remove(n[this.state.selectedConfigurationName].dataSources,function(e){return e.name===a.state.dataSource.name}),this.setState({configurations:n}),this.actionHandler(le),this.actionHandler(ae)),e===ae&&this.setState({isModalOpen:!1,isSFLoginFormOpened:!1,selectedConfigurationName:null,dataSource:null}),e===de&&this.setState({isModalOpen:!1,isBulkRestoreFormOpened:!1,selectedBulkProcesseName:null,bulkProcess:null}),e===ne&&(this.actionHandler(te),this.actionHandler(ae),this.actionHandler(de)),e===le&&this.props.onChange&&this.props.onChange(this.state.configurations),this.setState({action:e}),console.log("this.state.configurations: ",this.state.configurations)}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return d.a.createElement(m.a,{size:"large",variant:"brand"});var t=null==this.state.configurations||0===Object.keys(this.state.configurations).length;return d.a.createElement("div",{className:"slds-grid slds-grid_vertical",style:{flexGrow:1}},this.state.isModalOpen?d.a.createElement(c.Suspense,{fallback:d.a.createElement(m.a,{size:"large",variant:"brand"})},d.a.createElement(f.a,{assistiveText:{dialogLabel:"Configuration Form"},isOpen:this.state.isModalOpen,footer:[this.state.isConfigurationFormOpened?d.a.createElement(d.a.Fragment,{key:"modal-action-"+this.state.action},d.a.createElement(g.a,{key:"configuration-save",label:"Save",variant:"brand",onClick:function(){e.actionHandler($)}}),this.state.action===Q?d.a.createElement(g.a,{variant:"destructive",label:"Delete",onClick:function(){e.actionHandler(U)}}):null):null,this.state.isSFLoginFormOpened?d.a.createElement(d.a.Fragment,{key:"modal-action-"+this.state.action},d.a.createElement(g.a,{label:"Save",variant:"brand",onClick:function(){e.actionHandler(ee,{dataSourceIndex:e.state.dataSourceIndex,dataSource:e.state.dataSource,configuration:e.state.configuration,selectedConfigurationName:e.state.selectedConfigurationName})}}),this.state.action===Y?d.a.createElement(g.a,{variant:"destructive",label:"Delete",onClick:function(){e.actionHandler(Z)}}):null):null,this.state.isBulkRestoreFormOpened?d.a.createElement(d.a.Fragment,{key:"modal-action-"+this.state.action},d.a.createElement(g.a,{label:"Save",variant:"brand",onClick:function(){e.actionHandler(de)}}),this.state.action===Y?d.a.createElement(g.a,{variant:"destructive",label:"Delete",onClick:function(){e.actionHandler(de)}}):null):null,d.a.createElement(g.a,{key:"configuration-cancel",label:"Cancel",onClick:function(){e.actionHandler(ne)}})],onRequestClose:function(){e.actionHandler(ne)},align:"top",size:this.state.modalSize,ariaHideApp:!1},this.state.isConfigurationFormOpened?d.a.createElement(B,{title:this.state.configurationName,configuration:this.state.configuration,onChange:function(t,a){console.log(t,a),e.setState({configurationName:t,configuration:a})}}):null,this.state.isSFLoginFormOpened?d.a.createElement(D,{dataSource:this.state.dataSource,configuration:this.state.configuration,dataSourceIndex:this.state.dataSourceIndex,onChange:function(t,a){e.setState({dataSource:a})},onLogin:function(e,t){console.log(JSON.stringify(t))}}):null,",",this.state.isBulkRestoreFormOpened?d.a.createElement(M,{globalConfigurations:this.state.globalConfigurations,configuration:this.state.configuration,onChange:function(e,t,a){console.log(e),console.log(t),console.log(JSON.stringify(a))},onLogin:function(e){console.log(JSON.stringify(e))}}):null)):null,d.a.createElement(A,{id:"grax-cloud-configurations",heading:"GRAX Configurations",empty:t?d.a.createElement(F,{heading:"No GRAX Configurations"},d.a.createElement(g.a,{label:"Add Configuration",onClick:function(){e.actionHandler(K)}})):null,style:{flexGrow:1}},d.a.createElement("div",{id:"grax-cloud-configurations-accordion",className:"slds-p-around_medium"},d.a.createElement(ue,null,R.a.map(this.state.configurations,function(t,a){var n="grax-cloud-configurations-accordion-"+R.a.kebabCase(a);return d.a.createElement(ge,{isOpen:e.state.configurationCollapsibleOpen===a,isCollapsible:!0,id:n,key:n,onToggle:function(t){e.setState({configurationCollapsibleOpen:t?a:null})},isToggleOnClick:!0,label:a,level:1,isEditable:!0,icon:J,onEdit:function(){e.actionHandler(Q,{configurationName:a,configuration:t})}},d.a.createElement(ge,{id:"grax-cloud-configurations-sfconnection-accordion-item",key:"grax-cloud-configurations-sfconnection-accordion-item",label:"SFDC Configurations",level:2,isEditable:!1,isCollapsible:!0,isOpen:!1,isToggleOnClick:!0},R.a.map(t.dataSources,function(n,i){if(null==n)return null;var o=R.a.uniqueId("grax-cloud-configurations-accordion-item");return d.a.createElement(ge,{id:o,key:o,label:n.name,level:3,isEditable:!0,icon:X,onEdit:function(){e.actionHandler(Y,{configurationName:a,configuration:t,dataSourceIndex:i,dataSource:n})}})}),d.a.createElement(ge,{content:d.a.createElement(g.a,{label:"Add SFDC Configuration",onClick:function(n){e.actionHandler(V,{configurationName:a,configuration:t,dataSourceIndex:t.dataSources.length})}}),level:3})),d.a.createElement(ge,{id:"grax-cloud-configurations-bulkrestoreconnections-accordion-item",key:"grax-cloud-configurations-bulkrestoreconnections-accordion-item",label:"Bulk Restore Connections",level:2,isEditable:!1,isCollapsible:!0,isOpen:!1,isToggleOnClick:!0},R.a.map(t.bulkProcesses,function(n,i){var o=R.a.uniqueId("grax-cloud-configurations-bulkrestore-accordion-item");return d.a.createElement(ge,{id:o,key:o,label:n.name,level:3,isEditable:!0,icon:W,onEdit:function(){e.actionHandler(re,{configuration:t,configurationName:a,bulkProcess:n})}})}),d.a.createElement(ge,{content:d.a.createElement(g.a,{label:"Add Bulk Restore Connection",onClick:function(n){e.actionHandler(se,{configuration:t,configurationName:a})}}),level:3})))}),d.a.createElement(ge,{content:d.a.createElement(g.a,{label:"Add GRAX Configuration",onClick:function(){e.actionHandler(K)}}),level:1})))))}}]),t}(d.a.Component)}}]);
//# sourceMappingURL=21.927c309c.chunk.js.map