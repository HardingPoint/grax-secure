(this.webpackJsonpgraxreact=this.webpackJsonpgraxreact||[]).push([[16],{227:function(e,t,n){"use strict";n.r(t);var a=n(48),s=n(49),o=n(52),r=n(50),i=n(54),c=n(51),l=n(1),d=n.n(l),u=n(70),g=n(193),f=n(183),m=n(53),b=n(56),p=n(8),h=function(e){var t=e.environments,n=void 0===t?{}:t,a=[];return Object.keys(n).forEach((function(e){n[e].dataSources&&n[e].dataSources.forEach((function(e){e.organizationId&&a.push(e.organizationId)}))})),a},y=n(35),v=n.n(y);n.d(t,"default",(function(){return x}));var E=Object(l.lazy)((function(){return n.e(17).then(n.bind(null,221))})),k=1,O=2,S=[{id:"grax_cloud",label:"GRAX Cloud",items:[{id:"configurations",label:"Configurations"}]}];console.log("isDev: ",m.d);var x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(r.a)(t).call(this,e))).state={isLoading:!0,error:null,configurations:{},selectedId:"configurations"},n.actionHandler=n.actionHandler.bind(Object(i.a)(n)),n}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.actionHandler(k)}},{key:"actionHandler",value:function(e,t){e===k&&(m.d||m.a.ajax({type:"GET",url:m.c+"/grax-app/grax-cloud/configurations",data:{},success:function(e){var t=e||{};console.log(e);try{t=m.a.parseJSON(e)}catch(n){}this.setState({configurations:t,isLoading:!1})}.bind(this),error:function(e,t,n){console.error(e,t,n);var a=404===e.status||200===e.status;this.setState({error:a?null:n.toString(),configurations:a?{}:null,isLoading:!1})}.bind(this)}),m.d&&this.setState({configurations:{globalEnvironmentDefaults:{asyncAttachmentProcessorOrganizationIds:["00D4test0000Z1cUAE"],asyncBulkLoadOrganizationIds:["00D46test0172yZEAQ"],bulkRestoreDestinationOrganizationId:"00D4test0000Z1cUAE",bulkRestoreSourceOrganizationId:"00D3test000LiLXUA0",syncSalesforceEinsteinOrganizationIds:["00D46test0172yZEAQ"],syncSalesforceSourceOrganizationIds:["00D46test0172yZEAQ"],metadataBackupOrganizationIds:["00D46test0172yZEAQ"],odataOrganizationId:"00D47test0172yZEAQ"},environments:{test:{dataSources:[{userName:"sfdc@example.com",password:"password",token:"token",url:"https://test.salesforce.com/",organizationId:"00D4test0000Z1cUAE",provider:"salesforce",name:"Production Source SFDC"},{userName:"sfdc@example.com",password:"password",token:"token",url:"https://login.salesforce.com/",organizationId:"00D46test0172yZEAQ",provider:"salesforce",name:"Production Destination SFDC"}],elastic:[{provider:"bonsai",name:"default",url:"https://example.com",maxbatchsize:300}],storage:[{provider:"aws",name:"Production Storage",accessKey:"accessKey",secretAccessKey:"secretAccessKey",bucket:"bucket-name",region:"us-east-2",storageOff:!1}],syncAnalytics:[{provider:"syncanalytics",name:"Sync Analytics",marketingCloudHost:"example.mc.host",marketingCloudUser:"marketingCloudUser",marketingCloudPassword:"mcpasswd",marketingCloudPort:22,syncQueryFile:"analytics-query.json",syncSalesforceObjects:"exampleObject",syncBatchSize:100}],metadataBackup:[{sourceControlProvider:"github",name:"Git Integration",sourceControlEnabled:!0,isEnabled:!0,gitRepositoryName:"testrepo",gitRepoAuthorizationToken:"testtokenabc123",gitUserId:"testuser"}],bulkProcess:[{name:"test"}]}}},isLoading:!1})),e===O&&m.d&&console.log(t.configurations),e!==O||m.d||m.a.ajax({type:"POST",url:m.c+"/grax-app/grax-cloud/configurations",contentType:"application/json; charset=utf-8",data:JSON.stringify(t.configurations),success:function(e){console.log(e),this.setState({configurations:t.configurations||{}})}.bind(this),error:function(e,t,n){console.error(e,t,n),this.setState({error:n.toString()})}.bind(this)})}},{key:"render",value:function(){var e=this;return this.state.isLoading?d.a.createElement(u.a,{size:"large",variant:"brand"}):null!=this.state.error?d.a.createElement("span",null,this.state.error):d.a.createElement(d.a.Fragment,null,d.a.createElement("style",null,"\n                    #grax-cloud .slds-card__body .slds-section .slds-section__title,\n                    #grax-cloud .slds-card__body .slds-section .slds-section__title-action {\n                        border-radius: 0;\n                    }\n\n                    #grax-cloud .slds-card__body .slds-section .slds-section__content {\n                        background: #fff;\n                    }\n\n                    #grax-cloud .slds-card__body .slds-section.slds-is-open {\n                        margin: 2rem 0;\n                    }\n\n                    #grax-cloud .slds-card__body .slds-section.slds-is-open .slds-section__title {\n                        border-bottom-left-radius: 0;\n                        border-bottom-right-radius: 0;\n                        background: transparent;\n                    }\n\n                    #grax-cloud .slds-brand-band.dsr-brand-band_lightning-blue:before {\n                        background-image: url(./assets/images/themes/oneSalesforce/banner-brand-default.png), linear-gradient(to top, rgba(175, 197, 222, 0) 0, #1B5F9E)!important;\n                    }\n                "),d.a.createElement("div",{className:"slds-grid",id:"grax-cloud"},d.a.createElement("div",{className:"slds-col slds-size_1-of-4",style:{height:"100vh"}},d.a.createElement(g.a,{id:"grax-cloud-navigation",categories:S,selectedId:this.state.selectedId,onSelect:function(t,n){e.setState({selectedId:n.item.id})}})),d.a.createElement("div",{className:"slds-col slds-size_3-of-4"},d.a.createElement(f.a,{className:"custom-brand-band-class slds-p-around_medium",id:"brand-band-lightning-blue",theme:"lightning-blue"},"configurations"===this.state.selectedId?d.a.createElement(l.Suspense,{fallback:d.a.createElement(u.a,{size:"large",variant:"brand"})},d.a.createElement(E,{globalConfigurations:v.a.get(this.state,"configurations.globalEnvironmentDefaults",{}),configurations:v.a.get(this.state,"configurations.environments",[]),onChange:function(t,n){var a=e.state.configurations;a.globalEnvironmentDefaults=function(e){var t=e.globalEnvironmentDefaults,n=void 0===t?{}:t,a=e.dataSourceOrgIds,s=void 0===a?[]:a,o=function(e){return-1!==s.indexOf(e)};return Object.keys(n).filter((function(e){return e.endsWith("OrganizationId")||e.endsWith("OrganizationIds")})).reduce((function(e,t){var n=e[t];return Array.isArray(n)?n=n.filter(o):"string"===typeof n&&(n=o(n)?n:null),Object(p.a)({},e,Object(b.a)({},t,n))}),n)}({globalEnvironmentDefaults:t,dataSourceOrgIds:h({environments:n})}),a.environments=n,e.actionHandler(O,{configurations:a})}})):null))))}}]),t}(d.a.Component);x.displayName="GRAXCloudNavigation"}}]);
//# sourceMappingURL=16.db5e1146.chunk.js.map