(this.webpackJsonpgraxreact=this.webpackJsonpgraxreact||[]).push([[17],{190:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"g",(function(){return i})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return u}));var a=n(192),s=n.n(a);n.d(e,"a",(function(){return s.a}));var o=!1,r=o?"https://grax-datalake-demo2.herokuapp.com":"",i=window.__grax__.token,c=window.__grax__._csrf,d=window.__grax__.orgid,l=(window.__grax__.userid,window.__grax__.pageParams||{});function u(t){return null!==t&&void 0!==t||(t={}),null!==t.action&&void 0!==t.action&&""!==t.action||(t.action="load"),"?"+s.a.param(t)}s.a.ajaxSetup({beforeSend:function(t,e){var n;t.setRequestHeader("sfdcorgid",d),null!=l.authorization?t.setRequestHeader("Authorization",l.authorization):t.setRequestHeader("Authorization","Bearer "+i),n=e.type,/^(GET|HEAD|OPTIONS|TRACE)$/.test(n)||this.crossDomain||t.setRequestHeader("X-CSRFToken",c),t.withCredentials=!0,!0!==e.skipFail&&t.fail((function(t,e,n){console.error(t),404!==t.status&&"Not Found"!==n&&window.showError(t.statusText+": "+t.responseText)}))}})},226:function(t,e,n){"use strict";n.r(e);var a=n(62),s=n(63),o=n(66),r=n(64),i=n(67),c=n(65),d=n(1),l=n.n(d),u=n(113),g=n(188),f=n(177),m=n(190),b=n(47),p=n(7),h=function(t){var e=t.environments,n=void 0===e?{}:e,a=[];return Object.keys(n).forEach((function(t){n[t].dataSources&&n[t].dataSources.forEach((function(t){t.organizationId&&a.push(t.organizationId)}))})),a},y=n(55),v=n.n(y);n.d(e,"default",(function(){return x}));var _=Object(d.lazy)((function(){return n.e(19).then(n.bind(null,218))})),E=1,k=2,S=[{id:"grax_cloud",label:"GRAX Cloud",items:[{id:"configurations",label:"Configurations"}]}];console.log("isDev: ",m.d);var x=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(o.a)(this,Object(r.a)(e).call(this,t))).state={isLoading:!0,error:null,configurations:{},selectedId:"configurations"},n.actionHandler=n.actionHandler.bind(Object(i.a)(n)),n}return Object(c.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.actionHandler(E)}},{key:"actionHandler",value:function(t,e){t===E&&(m.d||m.a.ajax({type:"GET",url:m.c+"/grax-app/grax-cloud/configurations",data:{},success:function(t){var e=t||{};console.log(t);try{e=m.a.parseJSON(t)}catch(n){}this.setState({configurations:e,isLoading:!1})}.bind(this),error:function(t,e,n){console.error(t,e,n);var a=404===t.status||200===t.status;this.setState({error:a?null:n.toString(),configurations:a?{}:null,isLoading:!1})}.bind(this)}),m.d&&this.setState({configurations:{globalEnvironmentDefaults:{asyncAttachmentProcessorOrganizationIds:["00D4test0000Z1cUAE"],asyncBulkLoadOrganizationIds:["00D46test0172yZEAQ"],bulkRestoreDestinationOrganizationId:"00D4test0000Z1cUAE",bulkRestoreSourceOrganizationId:"00D3test000LiLXUA0",syncSalesforceEinsteinOrganizationIds:["00D46test0172yZEAQ"],syncSalesforceSourceOrganizationIds:["00D46test0172yZEAQ"],metadataBackupOrganizationIds:["00D46test0172yZEAQ"],odataOrganizationId:"00D47test0172yZEAQ"},environments:{test:{dataSources:[{userName:"sfdc@example.com",password:"password",token:"token",url:"https://test.salesforce.com/",organizationId:"00D4test0000Z1cUAE",provider:"salesforce",name:"Production Source SFDC"},{userName:"sfdc@example.com",password:"password",token:"token",url:"https://login.salesforce.com/",organizationId:"00D46test0172yZEAQ",provider:"salesforce",name:"Production Destination SFDC"}],elastic:[{provider:"bonsai",name:"default",url:"https://example.com",maxbatchsize:300}],storage:[{provider:"aws",name:"Production Storage",accessKey:"accessKey",secretAccessKey:"secretAccessKey",bucket:"bucket-name",region:"us-east-2",storageOff:!1}],syncAnalytics:[{provider:"syncanalytics",name:"Sync Analytics",marketingCloudHost:"example.mc.host",marketingCloudUser:"marketingCloudUser",marketingCloudPassword:"mcpasswd",marketingCloudPort:22,syncQueryFile:"analytics-query.json",syncSalesforceObjects:"exampleObject",syncBatchSize:100}],metadataBackup:[{sourceControlProvider:"github",name:"Git Integration",sourceControlEnabled:!0,isEnabled:!0,gitRepositoryName:"testrepo",gitRepoAuthorizationToken:"testtokenabc123",gitUserId:"testuser"}],bulkProcess:[{name:"test"}]}}},isLoading:!1})),t===k&&m.d&&console.log(e.configurations),t!==k||m.d||m.a.ajax({type:"POST",url:m.c+"/grax-app/grax-cloud/configurations",contentType:"application/json; charset=utf-8",data:JSON.stringify(e.configurations),success:function(t){console.log(t),this.setState({configurations:e.configurations||{}})}.bind(this),error:function(t,e,n){console.error(t,e,n),this.setState({error:n.toString()})}.bind(this)})}},{key:"render",value:function(){var t=this;return this.state.isLoading?l.a.createElement(u.a,{size:"large",variant:"brand"}):null!=this.state.error?l.a.createElement("span",null,this.state.error):l.a.createElement(l.a.Fragment,null,l.a.createElement("style",null,"\n                    #grax-cloud .slds-card__body .slds-section .slds-section__title,\n                    #grax-cloud .slds-card__body .slds-section .slds-section__title-action {\n                        border-radius: 0;\n                    }\n\n                    #grax-cloud .slds-card__body .slds-section .slds-section__content {\n                        background: #fff;\n                    }\n\n                    #grax-cloud .slds-card__body .slds-section.slds-is-open {\n                        margin: 2rem 0;\n                    }\n\n                    #grax-cloud .slds-card__body .slds-section.slds-is-open .slds-section__title {\n                        border-bottom-left-radius: 0;\n                        border-bottom-right-radius: 0;\n                        background: transparent;\n                    }\n\n                    #grax-cloud .slds-brand-band.dsr-brand-band_lightning-blue:before {\n                        background-image: url(./assets/images/themes/oneSalesforce/banner-brand-default.png), linear-gradient(to top, rgba(175, 197, 222, 0) 0, #1B5F9E)!important;\n                    }\n                "),l.a.createElement("div",{className:"slds-grid",id:"grax-cloud"},l.a.createElement("div",{className:"slds-col slds-size_1-of-4",style:{height:"100vh"}},l.a.createElement(g.a,{id:"grax-cloud-navigation",categories:S,selectedId:this.state.selectedId,onSelect:function(e,n){t.setState({selectedId:n.item.id})}})),l.a.createElement("div",{className:"slds-col slds-size_3-of-4"},l.a.createElement(f.a,{className:"custom-brand-band-class slds-p-around_medium",id:"brand-band-lightning-blue",theme:"lightning-blue"},"configurations"===this.state.selectedId?l.a.createElement(d.Suspense,{fallback:l.a.createElement(u.a,{size:"large",variant:"brand"})},l.a.createElement(_,{globalConfigurations:v.a.get(this.state,"configurations.globalEnvironmentDefaults",{}),configurations:v.a.get(this.state,"configurations.environments",[]),onChange:function(e,n){var a=t.state.configurations;a.globalEnvironmentDefaults=function(t){var e=t.globalEnvironmentDefaults,n=void 0===e?{}:e,a=t.dataSourceOrgIds,s=void 0===a?[]:a,o=function(t){return-1!==s.indexOf(t)};return Object.keys(n).filter((function(t){return t.endsWith("OrganizationId")||t.endsWith("OrganizationIds")})).reduce((function(t,e){var n=t[e];return Array.isArray(n)?n=n.filter(o):"string"===typeof n&&(n=o(n)?n:null),Object(p.a)({},t,Object(b.a)({},e,n))}),n)}({globalEnvironmentDefaults:e,dataSourceOrgIds:h({environments:n})}),a.environments=n,t.actionHandler(k,{configurations:a})}})):null))))}}]),e}(l.a.Component);x.displayName="GRAXCloudNavigation"}}]);
//# sourceMappingURL=17.fa37cbed.chunk.js.map